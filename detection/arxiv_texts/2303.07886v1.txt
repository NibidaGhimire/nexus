¬©2020 IEEE. Personal use of this material is permitted.
Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes,
creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.
DOI: 10.1109/ITSC45102.2020.9294452Proactive Risk Navigation System for Real-World
Urban Intersections
Tim Puphal1?, Benedict Flade1?, Daan de Geus2and Julian Eggert1
1Honda Research Institute (HRI) Europe, Carl-Legien-Str. 30, 63073 Offenbach, Germany
Email: ftim.puphal, benedict.flade, julian.eggert g@honda-ri.de
2Eindhoven University of Technology (TU/e), 5612 AZ Eindhoven, the Netherlands
Email: d.c.d.geus@tue.nl
?The authors contributed equally to this work
Abstract ‚ÄîWe consider the problem of intelligently navigating
through complex trafÔ¨Åc. Urban situations are deÔ¨Åned by the
underlying map structure and special regulatory objects of e.g. a
stop line or crosswalk. Thereon dynamic vehicles (cars, bicycles,
etc.) move forward, while trying to keep accident risks low.
Especially at intersections, the combination and interaction
of trafÔ¨Åc elements is diverse and human drivers need to focus
on speciÔ¨Åc elements which are critical for their behavior. To
support the analysis, we present in this paper the so-called
Risk Navigation System (RNS). RNS leverages a graph-based
local dynamic map with Time-To-X indicators for extracting
upcoming sharp curves, intersection zones and possible vehicle-
to-object collision points.
In real car recordings, recommended velocity proÔ¨Åles to avoid
risks are visualized within a 2D environment. By focusing on
communicating not only the positional but also the temporal
relation, RNS potentially helps to enhance awareness and
prediction capabilities of the user.
I. I NTRODUCTION
A. Motivation
Human error has been proven to be one of the main causes
of accidents in public driving with a share of over 90 % . The
remaining 10 % of the crashes happen because of technical
vehicle failure or bad weather conditions. According to the
World Health Organization (WHO) [1], drivers encounter
particularly difÔ¨Åcult situations due to:
Inexperience, recklessnes and fatigue which leads to vi-
olating the recommended speed or having inappropriate
distances to the roadside and other cars.
A limited Ô¨Åeld of view (sometimes caused by environ-
mental objects, i.e., trees or buildings) which results in
failing to see the point of interest. The reaction time for
suddenly appearing obstacles can thus be critical.
Incapability to estimate the behavior of other partici-
pants. The deviation of the real situation and resulting
ego action may generate unavoidable collisions.
During recent years, Advanced Driver Assistance Systems
(ADAS) were developed to take over certain tasks in the
control of the car. In total, about 33 % of the occuring crashes
represent single-vehicle events, 27 % often correspond to
longitudinal following or lane changes and 40 % occur in
intersection areas [2]. ADAS can already succesfully tackle
the Ô¨Årst and second category events with e.g. anti-lock
braking systems, electronic stability control, adaptive cruise
GraphGNSS
mapego
position
Virtual
horizonpossible
pathsRisk
extraction
lane
geometriestrafÔ¨Åc
elements
warning
Outside
sensinglidardetected
vehiclesLocali-
zation
Display
Pre-Processing Local Dynamic Map Navigation System
Fig. 1: Concept of the Risk Navigation System (RNS), designed for
driver support at general intersections.
control and lane keeping assistance. However for general
intersections, solutions are limited and no holistic ADAS
is comercially available yet. Often, collision mitigation sys-
tems [3] simply execute an emergency braking shortly before
an obstacle is crossing. More proactive ADAS are needed to
prepare the driver in advance for different hazards arising
from urban trafÔ¨Åc.
For this purpose, we present the so-called Risk Navigation
System (RNS). RNS is based on a local dynamic map that
serves as a central hub for road data and sensor measure-
ments. We reduce the complexity of intersection scenarios
by extracting relevant possible paths within a virtual horizon,
regulatory objects (e.g. stop line, crosswalk and trafÔ¨Åc light)
as well as vehicle interaction zones (like junction areas and
point of closest encounters with other cars). Consequently,
Time-To-X indicators are employed to detect critical future
situations and to recommend a safe behavior.
If the user does not behave in a risk-appropriate way,
RNS displays warnings that convey both the positional and
temporal information related to the encountered risks. In real-
time recordings combining GNSS1and lidar, we show that
RNS is effective in analyzing and visualizing collision, curve
and regulatory risk. Awareness and prediction abilities of the
driver are improved. In Figure 1, the pipeline of the realized
system is given. In this paper, our focus with RNS lies on
the boxes indicated in blue.
The remainder of the paper is structured as follows. First,
related scientiÔ¨Åc work for risk warning is summarized with
1Accepted term for Global Navigation Satellite System (GPS, Galileo,
GLONASS, etc.).arXiv:2303.07886v1  [cs.RO]  14 Mar 2023¬©2020 IEEE. Personal use of this material is permitted.
Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes,
creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.
DOI: 10.1109/ITSC45102.2020.9294452section I-B. Afterwards, we explain our methods in detail in
sections II and III. Central addressed topics are the storage,
Ô¨Åltering and visualization of risk information using the local
dynamic map. With section IV, the application of RNS and
qualitative outputs are shown. Finally, we give a conclusion
and outlook for future work in section V.
B. Related Work
Communication of risks is a complex task. TrafÔ¨Åc situa-
tions have high uncertainty and variability of how they might
develop. On the one hand, a proper Human-Machine Interface
(HMI) is required to provide sufÔ¨Åcient context information
around the ego vehicle (e.g. risk source or collision severity).
On the other hand, driving risks lie in the range of seconds
and need to be understood in a fast way. The HMI should be
clear, intuitive and easily interpretable [4]. According to [5],
the underlying three steps for associated warning systems
consist of a) retrieval of risk indicators from sensors and
maps, b) comparison of actual versus planned behavior and
c) on demand application of HMI modalities in visual, audio
or tactile form.
TrafÔ¨Åc risk extraction is commonly achieved with the help
of outside sensors (camera, lidar and radar). Exemplarily,
the authors of [6] identify construction signs and vehicles
in a front-mounted camera. For headway control or crash
warning, [7] compute thereof distance and Time-To-Collision
(TTC). Fusing camera with radar allows the reduction of
noise in the object velocity estimation. Both approaches act
in a relative coordinate system, while all inputs are received
on-the-Ô¨Çy. In contrast, ego sensors (e.g. a GNSS plus intertial
measurement unit) can be aligned in a global reference frame
for leveraging map data. A real-time setup is shown in [8].
Their HMI displays pop-up symbols from tagged speed limits
or occluded crosswalks. Similarly, [9] employ road-level but
calculate the curvature of the street for saving up fuel via an
engine management.
The RNS as proposed in this work relies on a relational
local dynamic map that concurrently combines GNSS with
lidar sensors. Effective retrieval of relevant risk sources from
paths, trafÔ¨Åc signs or vehicles is ensured with a graph instead
of table database. For more literature about local dynamic
maps, risk estimation or motion planning, please refer to [10],
[11] and [12].
While most ADAS apply various visual monitors, audible
and tactile actuators are still a topic of research. In [13], a
head-up display is enhanced by sound to shorten the response
time of drivers. On top of that, [14] investigate light strips for
spatially distant information and alarms for immanent critical
entities. Concerning navigation devices, tactile impulses on
a car seat [15] can be applied in turning maneuvers, or
mobile belts [16] vibrate according to the relative position of
obstacles. In the process, the priority of elements is assigned
by varying the press intensity.
By comparison, visual modality supports animation ele-
ments and color coding for conveying urgency. Nevertheless,
in handovers between machine and human, situation under-
standing is crucial and visual context is necessary. This isbased on the circumstance that humans mainly rely on visual
perception during driving [17]. As a reference, typical HMI
transitions in a single-risk scenario last on average 2 to 8
seconds [18].
Symbolic displays in the cockpit (warning with text or
icons) have been thoroughly investigated in user studies, e.g.
compare [17]. It turned out that workload and effort may
increase with a 3D cluster opposed to 2D trafÔ¨Åc environment.
Bird‚Äôs-eye views are additionally rated as rather clear and
comfortable than Ô¨Årst person views. In order to provide a
360analysis, [19] lately introduced safety rings which bend
to indicate positions of dangerous vehicles. Analogically,
lateral lane change plus longitudinal speed recommendation
can be conveyed by visual HMIs [20]. Lastly, the Ô¨Åeld of
augmented reality is gaining more and more attention. In
order to intuitively display vehicle distance and velocity, [21]
artiÔ¨Åcially blur the motion and create depth on high-quality
videos. Further tests were done in [22] where colored lanes
are embedded into images, e.g. right turns as green, left turns
as red and straight crossing as yellow.
For our RNS, we choose to employ multiple visual el-
ements of charts, pop-up symbols and animations inside a
2D birds-eye-view from the ego surrounding. The simulator
naturally supports 3D views in other perspectives as well.
In summary, RNS navigates the user along a route to an
urban goal safely across intersections by issuing predictive
informations, recommendations as well as warnings.
II. M AP-BASED RISKPREDICTION
The target is to represent driving situations with a Ô¨Çex-
ible and efÔ¨Åcient environment model. Generalized ADAS
for intersections require clear data management functions.
The following section II-A shows how a graph-based local
dynamic map can be leveraged for this purpose. Additionally,
risk-relevant data within a certain virtual horizon is retrieved
to allow predictive trajectory evaluations and planning in
section II-B.
A. Relational Local Dynamic Map (R-LDM)
Underlying road geometry signiÔ¨Åcantly inÔ¨Çuences and
constrains all trafÔ¨Åc participants. From the ego driver, multi-
faceted sensory inputs have to be processed in real-time.
Since important meta data lies in the connectivity of envi-
ronment entities, a graph representation, consiting of nodes,
attributes and relations, is beneÔ¨Åcial. The Relational Local
Dynamic Map (R-LDM) presents an abstraction layer be-
tween sensor data and higher level functions [10]. Such
functions include e.g. risk prediction and visualization as
required by our RNS. With the R-LDM, we support the
paradigm shift from single sensor-controller loops towards
technologies with enhanced understanding.
1) Graph Structure: A R-LDM graph stores data on four
layers based on their dynamicity (compare Fig. 2 top right).
The map is represented as nodes with additional data of
shape, orientation or type saved as attributes. On the lowest
layer, the street geometry presents one of the most crucial
data types. Generally, static data is stored in three levels¬©2020 IEEE. Personal use of this material is permitted.
Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes,
creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.
DOI: 10.1109/ITSC45102.2020.9294452of granularity, ranging from detailed lanes via half roads to
the whole road. In this context, half roads are the sum of
all lanes pointing in the same direction. Furthermore, the
road subgraph consists of alternating segments and junctions,
while all junctions at one location forms an intersection.
The second layer comprises quasi-static data with
changes on the scale of several days. This implies trafÔ¨Åc
lights, roadside infrastructure, trafÔ¨Åc signs or construction
sites. On the third layer, transient data is stored changing
on hours scale or faster (i.e., trafÔ¨Åc light states, car density or
slippery road conditions). Finally, the fourth layer contains
highly dynamic data about the state of trafÔ¨Åc participants,
including vehicles and pedestrians. Detected dynamic objects
are connected to speciÔ¨Åc nodes of the lower layers, which can
be used for risk extraction in the ego vicinity. The R-LDM
is consequently maintained or updated in real-time.
With regard to lower layers, available map data sources
such as the crowd-sourced OpenStreetMap (OSM)2can be
applied. OSM mainly consists of navigational information
represented in the form of road centerlines and intersection
points. Therefore, we add topological information on lane
level and estimate the actual lane geometry under assumption
of a concrete lane width. Besides, stop lines are manually
added and linked to incoming lanes, while the positions of
trafÔ¨Åc lights, crosswalks or buildings are similarly extracted
from OSM.
2) Virtual Horizon: The graph structure with its connected
nodes suits itself to a wide scope of potential queries with
regard to path Ô¨Ånding, routing or tree search. In this way,
extraction of behaviorally relevant situations is possible in a
straightforward way. One crucial information for risk estima-
tion is the knowledge of the upcoming driving path of trafÔ¨Åc
participants. When considering start and end points in the
map, we can intuitively query a sequence of nodes (segments
and junctions) along the route by traversing its relations.
Fig. 2 shows an example of an intersection scenario.
Therein, we obtain lane nodes (:LaneSegment, :LaneJunc-
tion) and trafÔ¨Åc light nodes (:TrafÔ¨ÅcLight), while the graph
is explored based on the current position and orientation of
a chosen vehicle (:Vehicle). Relevant data is stored in the
attributes of the individual nodes. Essentially, we can query
any processed information that has been acquired online (e.g.
from sensor data) or ofÔ¨Çine (e.g. from OSM).
The left part of Fig. 2 depicts the corresponding excerpt
of the graph concept that highlights layers (:StaticEnti-
ties, :QuasiStaticEntities, :TransientEntities, :DynamicEnti-
ties) and granularity. In order to successfully calculate risk,
not only one but several possible paths have to be queried. In
particular, a virtual horizon can be determined which extracts
predicted paths for the vehicles in the trafÔ¨Åc scene.
To illustrate this virtual horizon, Fig. 3 addresses a sce-
nario with two approaching cars. First, we map the GNSS-
based ego vehicle position (in green) onto the center of the
corresponding lane element. Afterwards, we retrieve other
cars from lidar (in red) up to a certain distance with R-LDM
2See www.openstreetmap.org for further explanation.
...
:LaneSegment
:LaneSegment
:TrafÔ¨ÅcLight
:Vehicle:LaneJunctionstaticquasi-statictransientdynamic:Map
:HalfRoadSegmentSet:StaticEntities
:TrafÔ¨ÅcLightSet:RoadSegmentSet:RoadJunctionSet:QuasiStaticEntities
:HalfRoadJunctionSet
:LaneSegmentSet:LaneJunctionSet:IntersectionSet
:TrafÔ¨ÅcRuleEntitiesSet:DynamicEntities
:TrafÔ¨ÅcParticipantsSet:TransientEntities
......
Fig. 2: Nodes hierarchy and interconnection graph structure within
R-LDM for an intersection with trafÔ¨Åc lights.
queries. More stored elements, for instance, quasi-static data
with crosswalks can be equally obtained.
By scanning lane nodes for all cars, concatenating their
polylines and ordering the branches (straight, left and right,
etc.) according to a tree structure , we obtain distinct paths.
In Fig. 3, every car posseses three possible paths. The root of
the tree is the actual position and the length increases with
the number of segments we traverse. With the virtual horizon,
we can directly estimate simple risks. Crossings of the paths
reÔ¨Çect conÔ¨Çict zones, where accidents might happen. These
are unique and critical for the given road.
B. Trajectory Evaluation
After querying the R-LDM for upcoming map structures,
trafÔ¨Åc elements and sensed objects, we predict trajectories
from the vehicle dynamics and evaluate their concrete risk
time-courses. Proper safe maneuvers or velocities for recom-
mendation are related to our behavior planning. We divide
risks for this purpose into three generic types: 1) collision
risk, 2) curvature risk and 3) regulatory risk. In RNS, we
combine the risk types to holistically support the driver.
1) Collision Risk: Besides coarse conÔ¨Çict zones from the
last section II-A, risk metrics of quantitative collision prob-
ability can be obtained as well. In an initial step, paths are
transformed with constant velocity models into trajectories.
For a car-to-car encounter (indexed 1,2), this gives us position
sequences x1(s)andx2(s)over the predicted time swith
assumed constant velocities v1andv2.
The distance between the vehicles represents the pointwise
trajectory difference and can be written as
d(s) =kx2(s) x1(s)k: (1)
For time risks, we next consider the time of maximal critical-
ity along the predicted trajectories. In other words, we Ô¨Ålter¬©2020 IEEE. Personal use of this material is permitted.
Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes,
creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.
DOI: 10.1109/ITSC45102.2020.9294452
Virtual
horizonmeasured
positionego
pathspaths of
other carconÔ¨Çict
zone
map data
Fig. 3: Steps of the virtual horizon shown exemplarily for collision risk. Left: Filtered relevant cars and their positions. Middle: Extraction
of possible future paths. Right: Map-based risk extraction, with crosses indicating future path intersections.
+curve risk
regulatory riskv0maxay
v0dc
v
0ac(s)collision risk
sEdE
v1v2
trajectories lateral dynamics
sstopping point+
tt+smaxf(s)g
Fig. 4: Three risk types of RNS with time as well as space metrics
(collision, curve and regulatory risks).
out the minimal distance, which is the event distance dEand
get the corresponding Time-To-Closest-Encounter (TTCE) as
sE. The two indicators are in summary retrieved with
dE=minfd(s)gandsE=argminfd(s)g: (2)
Coarsely, collision risk corresponds to the inverse 1=sEand
is only considered if dE<d minholds true. The minimal value
dmindeÔ¨Ånes the risk sensitivity.
Once there are multiple trajectory pairs as in Fig. 3, we
would iterate over the combinations xij(i.e., variation of ego
pathsiand other paths j) and extract the highest risk by
maxf1=sE;ijg. In this method, we therefore capture time and
space of passing vehicles.
2) Curvature Risk: From quantitative risks, we can also
infer behavior recommendations as target velocities that min-
imize criticality and maximize ego utility. This is essentially
a harder problem, since the driver should now understand the
warning as well as interpret and process the advice.
Consider the situation that the ego user is driving with ve-
locityv0at the current time t. We deÔ¨Åne a turn segment with
curvatures [start;end]in the extracted path, if a thresholding
condition
start> thandend< th (3)
is valid. Here, the threshold th, similarly as dmin, lets us
adjust the turn detection along the future proÔ¨Åle (s).
In curves, the vehicle is prone to drive off the lane. For
higher velocities v0, increased lateral acceleration is exerted.Whenaydepicts the dynamics limit that the vehicle can
follow and max=maxf(s)gis the maximal curvature in
the segment, we can derive a target velocity via
vtar=q
ay=max: (4)
The variable vtarindicates the speed that should be maximally
reached at the curve. For low risk, we should accordingly
move slower than vtar, which leads to the condition v0<v tar.
Driving with v0vtaris also not recommended, because of
the reduction in utility.
3) Regulatory Risk: Quasi-static elements of a stop line,
trafÔ¨Åc light or crosswalk create risks at rule violation. The
reason behind this circumstance is that generally not obeying
the norms can lead to unexpected situations with accidents.
Only because the vehicles are rule-conform, we can drive
safely.
In this sense, we may want to stop directly in front of
the trafÔ¨Åc data. Mathematically, we assume a soft braking
trajectory with constant deceleration acto the stopping point
in the distance dcalong the ego path. With the time s, we
initially obtain the basic kinematic equation
d=as2
2: (5)
Substituting swithvtar=acand inserting a=acas well as
d=dcin Eq. (5) ultimately results into
vtar=p
2acdc; (6)
wherebyvtaris the target velocity to be able to stop at the
intersection with certainty.3
Fig. 4 illustrates the corresponding variables for the three
types of risk from this section. We want to stress at this
point that our approach employs explicit trajectory prediction
along the map paths from the R-LDM. Concretely, we assume
constant velocity for the trajectory prediction in the collision
case, an acceleration or deceleration trajectory to a Ô¨Åxed
reduced velocity in the curve case and a smooth braking tra-
jectory to a Ô¨Åxed position for the regulatory case. Therewith,
we eventually Ô¨Ålter and consider single time points in the
trajectory for the risks.
3For Eq. (6), we do not account for the reaction time tr. However, trcan
be added for large distances dcwithvtarp2acdc actr.¬©2020 IEEE. Personal use of this material is permitted.
Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes,
creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.
DOI: 10.1109/ITSC45102.2020.9294452III. V ISUALIZATION ONDEMAND
Based on environment data and trajectory evaluation, we
now present ways of communicating the situation and risks
on a visual display to achieve an ADAS. In this context, we
employ a renderer that visualizes all the information in a
joint Cartesian coordinate system (see section III-A). Once
driving risks are detected, design elements are overlayed on
the display with section III-B and section III-C.
A. Simulator Environment
Nodes of the R-LDM have a range of potential attributes,
such as the 3D position or geometrical shape of objects. In
the renderer, we always visualize static and quasi-static data
that lie in the Ô¨Åeld of view from the ego vehicle. For this, a
local 3D model is generated by converting geographic points
with (lat, lon, alt) into Cartesian coordinates of (x, y, z). Fig. 5
depicts an exemplary map section having several intersections
in bird‚Äôs-eye view. On the top right, the Ô¨Årst person view of
a vehicle approaching a crosswalk is shown.
The dynamic data is then added to this static view. A
zoomed-in excerpt from the map is given at the bottom of
Fig. 5 that includes a recorded GNSS trace (red). We project
the trace onto the connected lane center, which is pictured
in green. Consequently, the virtual horizon and its possible
paths are retrieved as described in section II-A. We can lastly
update and move the excerpt with the current position from
the GNSS to obtain a live simulation.
B. Proactive Support
Communication of spatial as well as spatio-temporal rela-
tions is crucial for risk-averse driver support. Further sources
of information are cause, likelihood and severity of a potential
risks. The next step for RNS is the choice of suitable design
elements. In this process, we suppose that we know where the
ego vehicle is driving (i.e., the ego path) from its navigation
route. Yet, for surrounding vehicles, all paths are considered.
1) Hazard Route Element: The so-called hazard route in
Fig. 6 is a concept that consists of a scale portraying distances
to an upcoming risk element. Furthermore, the geometrical
area or length of risks is considered. Risk is thus measured
with respect to the ego path, ranging from the current position
l= 0 m to the end of the path lh. Here, the length lh
can be chosen according to own preferences.
At an upcoming intersection, risk is deÔ¨Åned by the sec-
tion of the path that lies within the junction. Since risk
corresponds to exposition time, we encode the path part
from the intersection Izwith a color, ranging from green
for short intersections to red for long ones. Fig. 6 a) gives
two examples of the hazard route. The left bar shows a large
intersection (e.g. multi-lane four-way stop) in vicinity and the
right bar has a small and consecutive medium junction. This
emphasizes that we may include more than one intersection
in our warnings.
2) Velocity Scale Element: The velocity scale, Fig. 6 b), is
a second chart element which qualiÔ¨Åes the difference between
the current velocity of the vehicle v0and the target velocity
vtarfrom the trajectory evaluation of section II-B. The scale
Fig. 5: Rendered road network from two perspectives with the ego
position being projected on the navigation route.
vtar
v0
1 20
a) b)l
lhv0<v tar
0v
vmaxv0vtar v0vtar
IzmediumIzlarge
cases 1 2 3casesIzsmall
Fig. 6: Chart elements for proactive support. Hazard route (left) and
velocity scale (right).
shows possible velocity values, from standstill v= 0 m=sto
a maximal velocity vmax. Depending on the difference jv0 
vtarj, the situation is rated as safe with v0vtar(green, left),
as dangerous with e.g. v0<v tar(yellow, middle) to critical
withv0vtar(red, right). The same cases hold true for the
opposite circumstances, i.e., v0> v tar. This velocity scale
can be employed for curve or regulatory risks. Moreover, we
may set an enforced speed limit as the target velocity vtarfor
proactive behavior, once there is no risk ahead.
C. Short-Term Warning Elements
In order to emphasize the criticality of the situation, we
propose to add further intuitive warning elements as e.g. pop-
up signs and lane colorings. The following elements augment
the proactive elements.
1) Pop-up Signs: Explicit symbols indicate the risk cause
accompanied with the event time for collisions ( sE), dis-
tances to the risk spot for turns (i.e., right curve with drand
left curve with dl) or stopping distance for crosswalks ( dc).
In Fig. 7 a), the pop-up signs are pictured. We want to stress
that this is just a selection and more risk causes can be added.
The purpose is also to clarify the reason for the warning and
give more human-understandable information.
2) Colored Events: Finally, we highlight lane parts or
positions according to the corresponding risks. In the instance
of curve and regulatory risk, the lane is colored from the
ego position up to the point of maximal risk. For collision
risk, we mark the point of the closest encounter as a red¬©2020 IEEE. Personal use of this material is permitted.
Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes,
creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.
DOI: 10.1109/ITSC45102.2020.9294452
navigation
pathsE
right turn intersection
crosswalk
a) b)left turnetc.
routeunlikelyjv0 vtarj v0
vtardr
dcdllh
Fig. 7: Short-term warning elements. Selected pop-up warnings
(left) and colored lane (right).
cube. An illustration for regulatory risk induced from a stop
line is depicted in Fig. 7 b). Again, the color is deÔ¨Åned by
the deviationjv0 vtarj. It also shows the therein considered
navigation route with length lhand another unlikely path.
It should be noted that the visualization of warnings only
occurs if the risks are actually present. Altogether, the RNS
provides a variety of tools to analyze and circumvent critical
situations in intersection scenarios, while not overloading the
driver‚Äôs awareness.
IV. F IELD TESTS
This section presents an evaluation of the complete Risk
Navigation System (RNS) from Fig. 1. We tested RNS ofÔ¨Çine
on real-world recordings using the middleware RTMaps.4The
mobile platform is a modiÔ¨Åed Honda CR-V , equipped with an
OXTS localization device5and six Ibeo Lux lidars allowing
360perception.6Additionally for debugging, a front-facing
camera provides images. In the current implementation, RNS
runs with a frequency of 10 Hz while employing the library
OpenGL for environment rendering.
Multiple recordings have been acquired in Offenbach am
Main, Germany. Necessary inputs of the system are positions,
velocity estimates and angle measurements of both ego car
and surrounding vehicles. Regarding localization of the ego
vehicle, we project the GNSS signal onto its navigation route.
Therefore, we have to know the route of the user in advance.
Alternatively, a Ô¨Ålter has to be added that selects the most
likely ego path. Throughout the course of the experiments,
the R-LDM is queried for upcoming risks-related data around
the current position.
A. Qualitative Outputs
In three intersection cases, we assess the support of RNS
forapproaching ,turning and crossing tasks. Qualitative
outputs of RNS visualizations are shown. Furthermore, we
provide values of distances dI,dc,drand timessEas well
as drivenv0and targetvtarvelocity. If needed, the quantitative
values can be turned off (slim mode) in order to reduce the
workload for the user.
The Ô¨Årst test run is an X-shaped junction with one oncom-
ing other car. Four chronologically sorted scenes are given in
Fig. 8 with front camera images on top and the synchronized
RNS output on the bottom. We show the recorded ego trace
4For the RTMaps software, please consult www.intempora.com.
5SpeciÔ¨Åcations of OXTS gear are described in www.oxts.com.
6At last, details of Ibeo sensors can be found on www.ibeo-as.com.with a red line and projected position as a green arrow tip. For
the prediction horizon, we set lh= 50 m . Other detected
cars are visualized as yellow dots, while the most critical
other vehicle is depicted in blue with its possible paths being
displayed as well.
In the initial image, the ego car is approaching the intersec-
tion. As can be seen, the junction lies in a distance of 30 m
for the next picture. RNS shows the point of closest encounter
and indicates the event time sE= 3 s under the given trafÔ¨Åc
sign. At the time of the third image, we nearly passed the
other vehicle with sE=1 s and are close to the intersection,
i.e. distance dI=15 m . Finally, no critical situation is present
anymore in the last image. The scenario shows how RNS can
inform the driver about possible situations and improves the
prediction capability.
The second test represents a T-junction with a sharp right
turn (see Fig. 9). In this context, vtar= 4 m=sdescribes the
velocity the ego driver should have adopted when reaching
the curve. Since the vehicle exceeds vtar, the velocity scale
turns red. However, due to appropriate behavior of the driver,
i.e., reduction of speed v0, the scale changes to yellow on the
second image from the left. Here, the distance to the turn dr
decreased simultaneously from 40 m to10 m . When arriving
at the curve, the driver now matches the RNS target velocity
v0=vtar, denoted in green. This example shows how users
can leverage recommendations from curve risks using the
velocity scale of the RNS.
In the third experiment, a pedestrian intends to use a cross-
walk and the car driver ignores the regulatory risk. It should
be considered that this crosswalk does not have trafÔ¨Åc lights,
as it is common e.g. in Germany. Since the R-LDM stores
trafÔ¨Åc elements, we can warn the driver already dc= 90 m in
advance with a pop-up symbol. In the following sequence of
Fig. 10, the driver keeps its velocity v0nearly constant while
the suggested stopping trajectory vtarchanges from 12 m=s
with a green warning, via 7 m=swith a yellow velocity scale
to3 m=sat10 m distance to the waiting pedestrian. Because
of the deviation between the driver and RNS, the warning
became critically red in the end. In turn, we are able to guide
the driver‚Äôs awareness towards the most relevant risks.
B. Performance Discussion
We showed the general applicability of our concept and
focused on urban scenarios with single-lane streets. When
handling complex roads, accurate lane-level localization be-
comes more important. On one side, the ego vehicle has to
be projected on the right lane, which puts demands on the
lateral localization precision. On the other side, obstacles that
are sensed relative to the ego vehicle need to be assigned to
their own proper lane, which adds further requirements to
both lateral error and ego orientation estimation. To tackle
this, we refer to e.g. [23].
The results underline the potential of RNS to proactively
support the driver. Its visual display allows us to consistently
analyze the situational points of interests. In this sense, we
provide a navigation on strategical and manoevring level with
time horizons of several seconds.¬©2020 IEEE. Personal use of this material is permitted.
Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes,
creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.
DOI: 10.1109/ITSC45102.2020.9294452
m3050
0
3 s
m1550
0
1 s
Fig. 8: Collision risk example. At intersections, RNS calculates TTCE for combinations of ego plus other vehicle‚Äôs path and informs about
the critical encounter point (red line: recorded trace from ego car, green line: trace projected on navigation path). Top: Stream of front
camera images. Bottom: Screen layout of system.
m/s415
0
40 m
 10 mm/s415
0
m/s415
0
5 m
Fig. 9: Curve risk example. RNS detects a sharp turn and recommends to decrease the velocity, which the driver is shortly after abiding
to. The velocity scale goes from red (difference of actual to desired velocity) to green (small difference).
90 mm/s1215
0
50 mm/s715
0
10 mm/s315
0
Fig. 10: Regulatory risk example. In the situation, the driver does not let a prioritized pedestrian pass Ô¨Årst on the crosswalk. RNS warns
of the upcoming trafÔ¨Åc object and displays the distance and colors the ego lane according to the risk.¬©2020 IEEE. Personal use of this material is permitted.
Permission from IEEE must be obtained for all other uses, in any current or future media, including reprinting/republishing this material for advertising or promotional purposes,
creating new collective works, for resale or redistribution to servers or lists, or reuse of any copyrighted component of this work in other works.
DOI: 10.1109/ITSC45102.2020.9294452V. C ONCLUSION AND OUTLOOK
In this paper, we outlined a map-based risk warning
device for urban driving. RNS aligns the GNSS position
in a relational local dynamic map. Upcoming trafÔ¨Åc objects
are then queried along the navigation route (i.e., detected
other cars from lidar, sharp turns and crosswalks). Here, we
derive road geometries and object positions with augmented
OpenStreetMap data and utilize direct data links in a graph
representation. The situation can be evaluated with TTCE for
car-to-car collision risk, maximal curvature for curve risk and
the distance to full stop for regulatory risks.
A detailed driving context is now visualized using a 2D/3D
renderer. We chose OpenGL augmented by elements that con-
vey the risk sources with spatio-temporal vehicle interactions.
Each of them have the same underlying color code from green
as safe to red as dangerous. With an application of RNS on
real intersections, we eventually showed the versatile warning
functionality. The user is supported to perceive the relevant
obstacles in long range, safe behaviors are recommended in
medium terms and risky encounters are highlighted for short
times.
Instead of pure GNSS usage, the RNS could beneÔ¨Åt from
adding vision-based localization components (as mentioned
before). The visualizations of RNS depend on the quality of
the map and also on the reference within the map. Matching
detected lanes on images with stored street polylines is
promising [24]. This potentially also reduce the errors from
the shared map. Intersections are still to be investigated
because of typically mixed curvy and straight segments.
The risk prediction in RNS draws upon time metrics
and does not consider uncertainties in driving. In previous
research, we developed the survival analysis [11] that consists
of Gaussian and Poisson distributions for the modeling of
states and critical events. It showed to detect risks early and
with less false positives. Hence, we may be able to make RNS
more effective. A combination of intuitive with uncertainty-
aware risks for warning is possible.
Furthermore, augmented reality is deployable besides the
2D screen display. A 3D environment could be simulated
in Ô¨Årst-person-view and overlayed on camera images. Here,
the pitch angle vibration from bumps in the road has to be
compensated by changing the camera angle of the simulator.
We could thus circumvent the higher effort of processing 3D
compared to 2D information.
Finally, the paper evaluated and discussed technological
aspects of a Risk Navigation System and showed its potential.
What remains to be done as a next clear step is a user study
that investigates the ergonomics, psychological workload and
societal acceptance.
ACKNOWLEDGMENT
This work has been supported by the European Unions
Horizon 2020 project VI-DAS , under the grant agreement
number 690772. Map data ¬© OpenStreetMap contributors,
licensed under the Open Database License. We like to thank
Cristhiam Felipe Pulido Riveros from National University of
Colombia for his support.REFERENCES
[1] W. H. Organization, ‚ÄúWorld Report on Road TrafÔ¨Åc Injury Prevention:
Summary,‚Äù 2004.
[2] National Highway TrafÔ¨Åc Safety Administration, ‚ÄúMotor Vehicle Crash
Causation Survey,‚Äù 2008.
[3] K. Bengler, K. Dietmayer, F ¬®arber, M. Maurer, C. Stiller, and H. Winner,
‚ÄúThree Decades of Driver Assistance Systems - Review and Future
Perspectives,‚Äù Intelligent Transportation Systems Magazine , vol. 6,
no. 4, pp. 6‚Äì22, 2014.
[4] M. J. Eppler, ‚ÄúA Systematic Framework for Risk Visualization in Risk
Management and Communication,‚Äù Risk Management , 2009.
[5] P. M. Knoll, ‚ÄúAn Integrated HMI Concept for Driver Information
and Driver Assistance Systems,‚Äù in Society for Information Display
Symposium , 2007.
[6] S. Messelodi, C. M. Modena, M. Zanin, F. G. B. De Natale, F. Granelli,
E. Betterle, and A. Guarise, ‚ÄúIntelligent Extended Floating Car Data
Collection,‚Äù Expert Systems with Applications , 2008.
[7] I. Gat, M. Benady, and A. Shashua, ‚ÄúA Monocular Vision Advance
Warning System for the Automotive Aftermarket,‚Äù Society of Automo-
tive Engineers Technical Paper , 2005.
[8] G. Yahiaoui, ‚ÄúSafetyNex - Onboard Driving Risk Assessment in Real-
Time,‚Äù in https://www.safetynex.nexyad.net/ , accessed 16.09.2019.
[9] H. Pu, ‚ÄúDynamic eHorizon with TrafÔ¨Åc Light Information for EfÔ¨Åcient
Urban TrafÔ¨Åc,‚Äù Advanced Microsystems for Automotive Applications ,
pp. 15 ‚Äì 24, 2015.
[10] J. Eggert, D. Aguirre Salazar, T. Puphal, and B. Flade, ‚ÄúDriving Situ-
ation Analysis with Relational Local Dynamic Maps,‚Äù in International
Symposium FAST-zero , Nara, 2017.
[11] T. Puphal, M. Probst, and J. Eggert, ‚ÄúProbabilistic Uncertainty-Aware
Risk Spot Detector for Naturalistic Driving,‚Äù Transactions on Intelli-
gent Vehicles , vol. 4, no. 3, pp. 406‚Äì415, 2019.
[12] T. Puphal, M. Probst, Y . Li, Y . Sakamoto, and J. Eggert, ‚ÄúOptimization
of Velocity Ramps with Survival Analysis for Intersection Merge-Ins,‚Äù
inIntelligent Vehicles Symposium , Changshu, 2018, pp. 1704‚Äì1710.
[13] P. Alves, J. Goncalves, R. J. F. Rossetti, E. Oliviera, and C. Olaverri-
Moreal, ‚ÄúForward Collision Warning Systems Using Head-Up Dis-
plays,‚Äù in Intelligent Vehicles Symposium , 2013.
[14] A. Dettmann and A. C. Bullinger, ‚ÄúSpatially Distributed Visual,
Auditory and Multimodal Warning Signals - A Comparison,‚Äù in Human
Factors and Ergonomics Society Europe Conference , 2016.
[15] W. Chang, W. Hwang, and Y . G. Ji, ‚ÄúHaptic Seat Interfaces for Driver
Information and Warning Systems,‚Äù International Journal of Human-
Computer Interaction , 2011.
[16] M. Kr ¬®uger, C. B. Wiebel-Herboth, and H. Wersing, ‚ÄúApproach for
Enhancing the Perception and Prediction of TrafÔ¨Åc Dynamics with a
Tactile Interface,‚Äù in Automotive User Interfaces , 2018.
[17] M. Plavsic, H. Bubb, and et al., ‚ÄúErgonomic Design and Evaluation of
Augmented Reality Based Cautionary Warnings for Driving Assistance
in Urban Environments,‚Äù in World Congress on Ergonomics , 2009.
[18] M. Walch, K. Lange, M. Baumann, and M. Weber, ‚ÄúAutonomous Driv-
ing: Investigating the Feasibility of Car-Driver Handover Assistance,‚Äù
inAutomotive User Interfaces , 2015.
[19] H. Winner, F. Lotz, E. Bauer, and et al., ‚ÄúPRORETA 3: Comprehensive
Driver Assistance by Safety Corridor and Cooperative Automation,‚Äù
Handbook of Driver Assistance Systems , 2016.
[20] S. Habenicht, H. Winner, S. Bone, F. Sasse, and P. Korzenietz,
‚ÄúA Maneuver-based Lane Change Assistance System,‚Äù in Intelligent
Vehicles Symposium , 2011.
[21] C. Roessing, A. Reker, M. Gabb, K. Dietmayer, and H. P. A. Lensch,
‚ÄúIntuitive Visualization of Vehicle Distance, Velocity and Risk Po-
tential in Rear-View Camera Applications,‚Äù in Intelligent Vehicles
Symposium , 2013.
[22] W. Narzt, G. Pomberger, A. Ferscha, and et al., ‚ÄúA New Visual-
ization Concept for Navigation Systems,‚Äù User-Centered Interaction
Paradigms for Universal Access in the Information Society , 2004.
[23] B. Flade, E. Casapietra, C. Goerick, and J. Eggert, ‚ÄúBehavior-based
Relative Self-Localization in Intersection Scenarios,‚Äù in Intelligent
Transportation Systems Conference) , 2017.
[24] B. Flade, M. Nieto, G. V . Isasmendi, and J. Eggert, ‚ÄúLane Detection
Based Camera to Map Alignment Using Open-Source Map Data,‚Äù in
Intelligent Transportation Systems Conference , 2018.