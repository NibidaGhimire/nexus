A Virtual Diractometer For Creating Synthetic HEDM Images of
Tessellated and Meshed Finite Element Polycrystals
Paul R. Dawson Matthew P. Miller
Sibley School of Mechanical and Aerospace Engineering
Cornell University
Ithaca, NY 14850, USA
April 3, 2023
Abstract
To assist in the planning of in situ loading, HEDM experiments by generating synthetic diraction images
of virtual samples in loaded and unloaded states. The user designates a target grain in the virtual sample and
species the set of reections for which images are to be generated. The code generates several intermediate
images, including: (1) the points of intersection between the diracted beam direction vector the detector plane;
(2) reection-dependent frequency distributions of the diraction angle, !; and (3) plots of the diraction
volume-weighted intensity distributions for the specied set of reections. The nal sets of plots are facsimiles
of pixelated detector images which take into account characteristics of specic detectors, including its pixel
size and point spread behavior.
1 Introduction
High Energy Diraction Microscopy (HEDM), also known as 3D X-ray Diraction (3DXRD), refers to a branch
of high-energy x-ray diraction that is devoted to measuring the internal state of polycrystalline solids, often
while under mechanical loading [1, 2, 3, 4, 5, 3, 6]. In particular, it is possible to conduct experiments involving
mechanical loading while using HEDM to interrogate the orientations and distortion of the crystallographic lattice
at the sub-grain scale [7]. Measuring lattice orientations is important because: (1) crystals comprising a solid
usually display anisotropic properties associated with the crystal structure, making orientation a need-to-know
quantity and (2) internal deviations in orientations from a nominal value result from deformation and thermal
processing and can have substantial eects on a material's properties. The latter lattice distortions are important
because it can be possible with the precision needed to quantify the elastic strains, and critically for engineering
applications, the changes in strain with changes in load which allow for evaluation of stress.
While HEDM experiments have potential to deliver data of great value, challenges persist in designing and
conducting experiments that achieve research goals. Because high energy X-ray facilities are costly, access to
them is limited and awarded on a merit basis. Consequently, researchers are motivated to be as productive as
possible in using the precious beam time. As HEDM experiments all are unique to some extent, customization of
the experimental set-up is typical making it dicult to 'get it right' the rst time. For example, it is dicult to
assess the extent to which detectors images will reveal behaviors of interest. As a result, many times experiments
fail to achieve goals articulated in the proposal and either (1) the experiments must be redone after modifying the
set-up or (2) the experimental goals must be changed on-the-y to reect how experimental limitations inuence
the character of the data.
For these reasons, tools that can provide a priori estimation of the experimental observations can provide
insight into an experiment in advance of conducting the experiment. Such tools could benet a researcher's eorts
in a number of ways: providing insight into the mechanical environment present within loaded samples during the
experiment; assessing if the diracted beams will generate signals that can be detected by the instrumentation;
and, determining if the diraction data in the end will be denitive for purposes of the experimental goals. For
example, Obstalecki, Wong, Dawson and Miller [8] investigated the microstructural origins of peak broadening in a
copper alloy subjected to cyclic loading. Bertin and Cai [9] have proposed a method to compute virtual diraction
patterns from discrete dislocation structures in single crystals. Intensity distributions are computed for the
detector images using a previously published ray-tracing method. Pagan, Jones, Bernier and Than [10] published
a framework for nite energy bandwidth-based diraction that can be used for simulating x-ray diraction patterns
gathered during in situ laser-melting processes. Ribart, King, Ludwig, Bertoldo, Joao and Proudhon [11] examined
1arXiv:2303.17702v1  [cond-mat.mtrl-sci]  30 Mar 2023the inuence of using local versus grain-averaged lattice orientations in synthetic diraction images of virtual
samples reconstructed from of in situ diraction contrast tomography (DCT) data.
This article describes one of a suite of simulations tools that enables researchers to perform virtual mechanical
loading experiments in advance to estimate the ability of the experimental set-up and procedure to expose the
sought-after behaviors. It builds on a previous contribution reported by Wong, Park, Miller and Dawson [12].
Specically, it performs the analog of a diraction measurement by creating a set of diraction spot images
corresponding to specied crystallographic reections at designated points in the loading regime. Here, diraction
spot or peak is used to mean the detector reading associated with the diracted beam associated with a small
part of the sample volume having a shared lattice orientation (typically a grain or grain subvolume).
The article is organized as follows. Section 2 provides background useful for understanding the functioning
of a virtual diractometer in conjunction with in situ loading HEDM experiments. Section 3 then details the
methodologies associated with the distinct steps employed in creating a synthetic diraction spot and its cor-
responding detector image. Section 4 illustrates the functionality of the virtual diractometer via the tensile
loading of a stainless steel sample. Section 5 summarizes the capabilities of the virtual diractometer.
2 Background and Goals for the Virtual Diractometer
2.1 Using diraction measurements with in situ loading experiments
X-ray diraction provides a powerful method for measuring internal structural changes during in mechanical
testing of crystalline solids. Succinctly stated, high-energy x-rays are used to measure the evolving microstructural
state within samples of the material that are subjected to mechanical loads that induce deformation. High-energy
x-rays are well suited for such measurements because (1) the beams are suciently bright to pass through samples,
thereby facilitating interrogation of interior grains, and (2) the diraction events may be suciently resolved in
space and time to detect both lattice orientation and lattice distortion with accuracies needed for engineering
applications.
Basic diraction elements of an in situ loading HEDM experiment are illustrated in Figure 1. A load frame
applies loads to the sample concurrently with the diraction measurements, but is not shown as the focus here is
on the diraction measurements. The incident x-ray beam is shown to penetrate the loaded sample and to spawn
two diracted beams from two dierent crystallographic planes within a single diraction volume. Typically at
any given time, there are many such diracted beams originating from suitably oriented crystallographic planes
within a diraction volume. For now, we concentrate on a few diracted beams originating from within a single
grain that are associated with chosen families of crystallographic planes.
Figure 1: Physical set-up being simulated by the virtual diractometer. Modied version of gure from [12].
The theory underpinning the basic diraction geometry shown in Figure 1 can be understood with basic prin-
ciples laid out originally by Bragg and subsequently rened by others [13]. Bragg's law expresses the relationship
between the wavelength of the incident X-ray beam, , the lattice interplanar spacing, d, within a diraction
2volume, and the angle between the incident and diracted beams as:
= 2dsin() (1)
To fully dene the diraction geometry, the spatial orientation of the diracting planes enters the mathematical
description. For simplicity here, the orientation is denoted by its normal vector, n; its connection to families of
crystallographic planes will be made explicit in Section 3.1. Let siandsodenote unit vectors in the direction
of the incident and diracted beams, respectively, as also shown in Figure 1. Assuming elastic scattering, the
scattering vector, q, is dened as a bisector of siandsoas:
qso si
(2)
Constructive interference during diraction, leading to an observable diracted beam, occurs when the lattice
plane normal and the scattering vector align. Mathematically, nkq. The diracted beam forms a spot on the
detector with nite size owing to the nite volume from which it originates. The larger the diracting volume,
the larger the spot, in general. The spot embodies much more information that just the diraction volume. The
shape of the spot not only relates to the shape of the diraction volume, but also the distortions of the crystal
lattice within the volume, the variations in lattice orientation over the diraction volume, and more. Moreover,
as the diraction volume deforms under load, the spots evolve in manners that depict the changes to orientation
and distortion over the diraction volume.
When applied as the instrumentation for mechanical test, the direction change of an outgoing beam can
be used to extract the lattice strain in the direction normal to the scattering planes. Further, changes to the
conditions for diraction, as described in the next section indicate changes to the lattice orientation within the
diraction volume. Thus, using diraction measurements together with in situ loading, it is possible to produce
spatial maps of the elastic strain and lattice orientation over a polycrystalline sample with sub-grain denition.
2.2 Overview of the virtual diractometer
It is the intent of the virtual diractometer described herein to simulate the evolution of diraction spots that
could be observed in a physical experiment and to relate these to the deformations induced by the mechanical
loading. To relate the simulated diraction images to actual ones measured, the simulations must replicate the
experiments in a number of critical ways. Namely, the experimental facility information required must include: (1)
the beam energy, spread and input direction vector and (2) the detector size, orientation, and center position. For
the virtual sample, required data include: (1) the sample material unstrained lattice spacing and crystallographic
reections of interest, (2) the virtual sample denition (tessellation dening grains and their lattice orientations
plus the associated nite element mesh), and (3) lattice orientation and elastic strain tensors for every nite
element with the grains. With these input data, the virtual diractometer output should include: (1) basic
diraction parameters on an element-by-element basis over a tessellated and meshed virtual sample; (2) a map
of the intersections of diracted beams with the plane of the detector for all elements within a designated target
grain; (3) relative intensity distributions for spots created on the detector for designated scattering vectors; and,
(4) strains associated with each spot.
The virtual diractometer reported here follows the same overall framework used to implement the method-
ology documented in [12]. That methodology divided the complete set of tasks in creating a detector image into
a number of distinct steps (referred to as Steps 1 to 4):
1. Establish the diraction conditions for each nite element within a target grain (diracted beam direction
and sample rotation angle).
2. Compute the intersections of the diracted beam with the detector plane for sets of points within every
element of the target grain).
3. Combine contributions from Step 2 to form an intensity distribution over a patch lying on the diraction
plane.
4. Process the intensity distribution to form a detector image taking into account the detector resolution.
There are several dierences between the method reported here and that in [12]:
•In creating the diraction spot for the target grain, the present code combines the contributions to the
diracted beam intensity for each reection regardless of the sample rotation angle, !(rather than for
discrete intervals in !). Supplementary plots are created that give distributions of rotation angles for each
reection from the target grain.
3•Spatial resolution within every nite element of the target grain is generated using the elemental quadrature
points of the target grain elements, as is commonly employed in nite element practice for performing volume
integrations. Quadrature weights become the intensity weights, thus giving a diraction-volume weighted
interpretation to each diracted beam to intersect the detector plane.
•To determine the relative intensity distribution over the plane of the detector, a local region in the vicinity
of a diraction spot is discretized with a 2D nite element mesh. Simple bi-linear quadrilateral elements
are employed to facilitate subsequent mapping to a detector pixel array.
•Diracted beams are projected onto the 2D detector mesh where they are treated as the centers of Gaussian
distributions. An intensity eld is determined for the entire set of diracted beams using a nite-element
L2inner product formalism, as detailed in the subsection devoted to Step 3..
•The average normal strain for a single spot is computed over all diraction (elemental) volumes that con-
tribute to that reection. Each contributing strain value is computed from the Cauchy formula using the
reciprocal lattice vector in sample coordinates.
•Finally, a detector image is created as a derivative of the intensity distribution. The detector image incor-
porates pixel-based binning of the relative intensity distribution completed in Step 3. In the methodology
reported here, a nite element mesh is dened that directly coincides with detector pixels. The intensity
distribution computed in Step 3 is mapped onto this mesh to provide the detector image.
Details of each task for the present code are laid out in the following subsections.
2.3 Coordinate systems and related notation
Several right-handed Cartesian coordinate systems displayed in Figure 1 are used during the computations per-
formed in the virtual diractometer. These are dened in Table 1. Note the following points:
•The crystal coordinate systems (one for each crystal) have base vectors coincident with the lattice directions.
(See Figure 2-10 of [13].) Currently, cubic and hexagonal crystal types are available. The crystal coordinate
system orientations are dened relative to the sample coordinate system via the lattice orientations provided
as part of the virtual sample denition.
•The sample coordinate system and the laboratory coordinate system share the same origin and the es
2and
el
2base vectors are aligned. This conforms to any experimental station where HEDM is performed.
•The sample coordinate system is attached to the sample with the following provisions: the loading direction
coincides with es
2; the sample is rotated during an experiment by the angle !about es
2to facilitate placing
diraction spots on the detector (this could be generalized to permit tilting of the load frame).
•The incident beam has a xed direction in the laboratory coordinate system. This is readily changed.
•The detector coordinate system is dened relative to the laboratory coordinate system by a vector oset
of the origins of the laboratory and detector coordinate systems. The detector plane normal vector is ed
3.
ed
1anded
2lie in the detector plane and may be oriented as the user chooses. Note ed
3= 1 corresponds to
the orientation shown in Figure 1. The detector plots generated by the code will appear as viewed looking
toward the detector in the direction opposite the direction of the incident beam. If ed
3= 1 is designated
the plots will be a mirror image about the ed
2axis and appear as viewed looking toward the detector in
same direction as the incident beam.
•The detector patch coordinate systems are two-dimensional, lying in the detector plane and displaced from
the detector coordinate system to position their origins in the vicinity of particular spots.
The convention for a position vector within space given as x. The vector has components depending on the
coordinate system as indicated in Table 1. Vectors are written as t=tc
iec
i=ts
ies
iusing Einstein summation
convection on component indices (subscripts). A change of basis between systems isngiven by a transformation
of the form: ts
i=Qsc
ijtc
j, whereQsc
ij=es
iec
jfor two systems sharing the same origin. Spatial dependence for a
eld vector is given as t(x) ort(xs
i) (for example).
4Table 1: Coordinate system notation.
Name Dimensions Base vectors Components of x
crystal 3 ec
i xc
i
sample 3 es
i xs
i
laboratory 3 el
i xl
i
detector 3 ed
i xd
i
detector patch 2 ep
i xp
i
3 Computational Tasks of a Virtual Diractometer
3.1 Step 1: Determining the diraction conditions of elemental volumes.
Using the elemental lattice orientations and lattice (elastic) strains previously determined from a nite element
simulation (and entered here as data), the objectives of Step 1 are to compute the basic diraction conditions
illustrated in Figure 1. This consists of computing the angles, !,, and, and the diracted beam directions
(one for each reection) for each diraction center in the virtual sample (each quadrature point of every element
of the target grain.) The methodology used here is similar in its overall structure to what is reported by Wong,
Park, Miller and Dawson [12] although the notation has been revised. An alternative approach is described in
[10].
We rst dene reference lattice vectors1. For cubic crystals, the reference lattice vectors are:
a0
i=aec
i (3)
which are obtained simply by scaling the coordinate system base vectors by the lattice parameter. The reference
lattice vectors are aligned with the edges of the simple cubic Bravais lattice of an undeformed unit cell. For
hexagonal crystals, the reference lattice vectors are:
a0
1=aec
1
a0
2= 1
2aec
1+p
3
2aec
2
a0
3=cec
3
These reference lattice vectors are aligned with the edges of the hexagonal Bravais lattice of an undeformed unit
cell. The lattice vectors, a, in the current conguration are computed in the deformed conguration using the
pure elastic stretch, Ve, as dened in the kinematic decomposition of an an elastoplastic deformation [14]:
ai=Vea0
i (4)
For a linear elastic simulation, Vesimplies to the stretch tensor computed from the polar decomposition of the
deformation gradient.
Reciprocal lattice vectors, bi, are dened from the lattice vectors [15] as:
b1=a2a3
a1a2a3b2=a3a1
a1a2a3b3=a1a2
a1a2a3(5)
The reciprocal lattice vectors often are used as base vectors in reciprocal space, but here we use them to dene
the normals to the crystallographic planes mentioned in Section 2.1. To emphasize their role in the diraction
events, we refer to these as reection vectors, rhkl, where the superscript hkldenotes the Miller indices of a family
of crystallographic planes and write them as:
rhkl(xc
k) =hb1+kb2+lb3 (6)
for each crystallographic plane of interest. The reection vectors are referred to also as the reciprocal vectors in
the literature. Here, the parameters h,kandlare the Miller indices for crystallographic planes fhklgfor cubic
crystal types and h=u t,k=v tandl=wfor crystallographic planes fuvtwgfor hexagonal crystal types
using the 4 index notation.2Note that in using the hklparameters explicitly to dene the reection vectors, these
vectors are implicitly written with components in the crystal coordinate system as shown in Eq. (6). Applying
1Also called lattice translation vectors by Cullity and Stock [13] .
2See [13] Section 2-8.
5the Laue condition, the reection vectors equate to the scattering vectors for the hklreections to dene the
condition for constructive interference in diraction. That is, rhkl=qhkl.
Continuing this step to identify the diraction conditions, rhklis written in the sample coordinate system
indicated in Figure 1 using the transformation matrix Qsc
ijthat converts a vector in the crystal coordinate system
to one in the sample coordinate system:
rhkl
i(xs
k) =Qsc
ijrhkl
j(xc
k) (7)
Likewise, this vector is written in the laboratory coordinate systems (again as shown in Figure 1), with the aid
of a transformation matrix, Qls
ij
rhkl
i(xl
k) =Qls
ijrhkl
j(xs
k) (8)
Applying Bragg's law (Eq. (1)), the reection vector in laboratory coordinates can be written after normalization
in terms of the azimuthal angle, , and the Bragg angle, , of the diraction spot are depicted in Figure 1:
rhkl(xl
k) =rhkl(xl
k)
krhklk=8
<
: sincos
coscos
 sin9
=
;(9)
For the the particular case of the relation between the sample frame and laboratory frame consisting solely of a
rotation of the sample frame about the its es
2axis by the angle !,Qls
ijis given in matrix form as
[Qls] =2
4cos!0 sin!
0 1 0
 sin!0 cos!3
5 (10)
Finally, we designate the components of the normalized reection vector in the sample coordinate system as
(rs
1;rs
2;rs
3). Combining Equations 8, 9 and 10, provides the matrix equation,
2
4cos!0 sin!
0 1 0
 sin!0 cos!3
58
<
:rs
1
rs
2
rs
39
=
;=8
<
: sincos
coscos
 sin9
=
;(11)
from which the !-position at which the diraction condition is fullled for a specic rhkland a specic x-ray
wavelength can be determined. The third equation in Eq. (11) provides a nonlinear equation for !given that
is known.!is evaluated from this equation using an optimization routine with the constraint that the solution
is in the interval of 0 !. Note that this equation for determining !admits the possibility of multiple
solutions (here, 0,1 or 2 solutions are possible). Within the code we exclude imaginary solutions. If two solutions
are possible, the code chooses the solution that provides the lesser value of the objective function. The rst two
equations of Eq. (11) are then used to solve for , again using an optimization routine. For , the solution interval
is constrained to lie within  .
With the components of the lattice reciprocal vectors known in laboratory coordinates by enforcing the Laue
condition, the direction of the diracted beams, so, for each reection is readily computed from Eq. (2). Further,
the normal strain component in the direction of the normal to the diracting plane also can be computed using
the now known scattering vector:
hkl
qq=rhklrhkl(12)
3.2 Step 2: Determining intersections of diracted beams with the detector plane.
Using the diraction conditions computed in Step 1, the objective of Step 2 is to compute the intersection points
between the diracted beams and the plane of the detector for every quadrature point of every element of the
target grain. The computation is depicted schematically in Figure 2 and is performed in the following manner.
A line is dened that passes through the position of the quadrature point (dened as pq) in the direction of
the diracted beam. The point of intersection of this line and the detector plane is dened as pdand is given by:
pd=pq+dso(13)
where the distance along the line, d, is dened by:
d=cdnd
pdnd(14)
6Figure 2: Schematic of the projection of diracted beams onto the plane of the detector.
7Here, cdis the line segment connecting the detector center to the origin of the laboratory coordinate system. nd
is the unit normal vector to the detector plane (also serving as the third base vector of the detector coordinate
system, ed
3.) Recall that sois a unit vector in the direction of the diracted beam. Finally, the point is written
in the detector coordinate system, which consists of projecting the point onto the detector plane as shown in
Figure 3. We denote the two-dimensional, detector plane coordinate system using the epbase vectors.
Figure 3: Projected points on the detector plane for one crystallographic reection from within a typical grain.
Each point represents a the diraction volume associated with a quadrature point from within a nite element of
the virtual sample.
The quadrature point positions within an element are shown in Figure 4. Each point carries with it an intensity,
which is the product of the quadrature point weight and the elemental volume. Thus the weight represents the
volume within the sample that is associated with the point. Note that the sum of the weights over an element
is the element volume and the sum of this sum taken over all elements in the grain is the grain volume. Also
computed at this point in the code are the distances traveled by diracted beams within the sample { that is,
the distance between a quadrature point and the point at which a diracted beam exits the sample for every
quadrature point and reection. The methodology follows the same approach as used to compute the distances
to the detector plane. The intra-sample travel distances are used together with absorption properties stemming
from the X-ray's interaction with the sample material to compute the attenuation of the diracted beams in Step
4.
Figure 4: Ten-node tetrahedral element showing nodes (black) and quadrature points (green).
3.3 Step 3: Determining an intensity eld over the detector plane.
The objective of Step 3 is to create a smooth (continuous) intensity eld from the point-wise intensity data
computed in Task 2 using the following procedure:
1. Dene a patch on the detector plane from the spans of the detector coordinates, xd
i. (Individual spot
8typically cover a small portion of the detector, which is why they are call spots). Position a reference mesh
over the patch using a parametric mapping of the nodal point coordinates of the reference detector mesh.
2. Compute an array of values dened by the distances between the projected point positions and quadrature
point positions for elements of the re-positioned detector mesh. These distances are used to distribute the
relative intensity for each projected point spatially in the vicinity of the projected point. Specically, the
relative intensity of the diracted beam derived from a quadrature point in one element of the target grain,
iq(xp), is spread over an area surrounding its point of intersection on the detector according to a Gaussian
spread function:
iq(xp) =iq
01p
2~
exp
 1
2(
~)2
(15)
where=kxp ppk,ppis the point position on the detector dened in Eq. (13), and ~is the square root
of the variance of the intensity distribution. The value of iq
0is the attenuated weight associated with the
diracted beam from quadrature point q.
3. Compute nodal point values for the intensity distribution resulting from all projected points using an L 2
inner product procedure described below.
4. Making use of the piecewise interpolation functions, display a continuous relative intensity distribution to
represent an image of the diraction spot.
The benet is using an L 2approach for determining the eld representation for the total relative intensity,
i(xp), that it provides a best t to the net sum of the distributions of the quadrature point relative intensities
given in Eq. (15). The total relative intensity is represented over a patch on the detector that encompasses a spot
using a piecewise polynomial approximation commonly employed in nite element interpolation:
i(xp) = [N(xp)]fIg (16)
wherefIgare the nodal point values of the approximation and the interpolation functions, [ N(xp)]. This spatial
approximation possess C0continuity (continuity of the eld across element boundaries, but not of the eld's
spatial derivatives.) To determine the nodal values, fIg, a weighted residual, R, is formed over detector patch,
A, using Eq. (16):
R=Z
A	(xp) [i(xp) [N(xp)]fIg] dA (17)
where 	( xp) is the weighting function and Ais the patch area. Standard nite element procedures are followed
to develop a matrix equation for the nodal point intensities from Eq. (17):
[A]fIg=fBg (18)
where the elemental contributions for [ A] andfBg, respectively, are:
[Ae] =Z
Ae[N(xp)]T[N(xp)]dA (19)
and
fBeg=Z
Ae[N(xp)]Ti(xp)dA (20)
The projected point intensities enter the residual through the evaluation of fBeg. Because the integral that
denesfBegis evaluated by numerical quadrature, pointwise evaluation of fi(xp)gis all that is required:
fBeg=nqpX
i=1[N(xpjqp)]Ti(xpjqp)wqpA (21)
wherenqpis the number of quadrature points used with the detector mesh elements and wqpis the associated
quadrature point weight. The pointwise values of the total relative intensity are evaluated by summing the
individual contributions from all of the projected beams:
i(xpjqp) =nppX
i=1iq(xpjqp) (22)
wherenppis the total of all beams projected onto the detector from the virtual sample target grain (product of
the number of elements in the target grain times the number of quadrature points within each of those elements).
Solving Eq. (18) for the nodal point values of the total relative intensity, fIg, completes the information needed to
construct the piecewise approximation for i(xp) using Eq. (16) thereby giving a spatial map of the spot intensity
in its vicinity.
93.4 Step 4: Creating a detector image.
The objective of Step 4 is to create a facsimile of the detector image using the intensity distribution computed
in Step 3. The detector image is constrained by the detector's construction. Namely, it is an array of pixels with
xed size and shape. Each pixel displays a single value of intensity determined principally by the total ux from
diracted beam that shines upon it. However, this value can be altered to some extent by neighboring pixels,
referred to as point spread. The procedure for constructing a detector images includes the steps summarized
below.
1. For each reection, a mesh with one-to-one element-to-pixel construction is dened that overlays the de-
tector patch discretized in Step 3. The elements are superparametric: geometry is mapped with bi-linear
interpolation; the eld variable (intensity) is mapping with piecewise constant interpolation. We recognize
that using parametric elements for this purpose appears to introduce unnecessary complexity, but defend
the choice as it opens the door to including greater detail regarding the physical behavior of detector pixels
later.
2. There is a relation between the intensity distribution (Step 3) mesh and the detector(Step 4, pixel) mesh.
Namely, the intensity distribution mesh is a renement of the pixel mesh. The intensity distribution mesh
subdivides the detector mesh elements into one or more subdivisions in both detector in-plane directions.
In the demonstration example shown in Section 4, for instance, there are 256 (16x16) intensity distribution
mesh elements with each detector mesh element. The two meshes are made in coordination: in Step 3, the
patch around a spot is sized to be an even integer multiple of the pixel size. The intensity distribution mesh
is then dened to have its elements lying within a single detector mesh element.
3. Mapping of a relative intensity distribution computed in Step 3 to its corresponding detector mesh is done
simply by averaging the integrated intensities of the elemental distributions over the intensity distribution
elements with a detector element. The integrations over individual elements is performed by quadrature at
the end of Step 3 for every element in the intensity distribution mesh.
4. A point spread function is then applied to adjust the elemental (pixel) values over the detector mesh. The
point spread function reported in [12] has been used here. However, this function is detector-dependent, so
it is anticipated users will modify the code as appropriate at the point indicated within the code. Before
applying the point spread function, the detector mesh is enlarged by a factor of two in each direction
(expanded about its center) to accommodate the larger numbers of pixels being activated as a consequence
of the spread.
5. Visualization of the image completes the step. This image is a patchwork of constant value squares with
each square coinciding with a pixel.
Step 4 above is carried out in discretized manner using a template to modify elemental (pixel) values according
to the spread function. The spread function f(s) is a decreasing function of the distance, s, measured from the
center of a pixel. The energy reaching the detector above a chosen pixel is re-distributed across it and its neighbors
according to the proportions specied by this function. For the spread function implemented, the eect of the
spread extends only about 2 pixels in each coordinate direction. In this case, the template for implementing the
spread function for a single pixel is given by:
2
66664~f(2sp)
~f(p
2sp)~f(sp)~f(p
2sp)
~f(2sp) ~f(sp) ~f(0) ~f(sp) ~f(2sp)
~f(p
2sp)~f(sp)~f(p
2sp)
~f(2sp)3
77775(23)
wherespis the center-to-center distance between neighboring pixels (equivalently, the pixel size) and ~findicates
a rescaling of fvalues in the template so that the sum equals unity. The rescaling is done to preserve the total
energy over the spot during the application of the point spread function.
The template values for each pixel are re-written as a vector with values appearing in the rows for the
corresponding elements of the detector mesh. The set of vectors are concatenated to form a point spread matrix,
[PS], which is used to map the pixel values prior to application of the point spread function to the nal detector
values:
fIdg= [PS]fId0g (24)
wherefIdgandfId0gare the elemental (pixel) values over the detector mesh and before application of the point
spread function, respectively. The sum of the pixel intensities over the detector mesh subsequent to application
of the point spread function equals the sum prior to its application.
104 Demonstration Example
4.1 Problem denition
To demonstrate the functionality of the virtual diractometer we show results for the tensile loading of a stainless
steel sample. The HEDM data needed to dene the virtual sample were provided by Dr. Jun-Sang Park.3
The full experimental records include comprehensive sets of data at numerous points in a loading program.
For this demonstration, we use only the grain center-of-mass and lattice orientation information at the initial
(unloaded) state to dene a virtual sample using Neper . This is an anticipated starting point for using the
virtual diractometer as a planning tool for HEDM experiments. The full virtual sample has 1800 grains and
is shown in Figure 5.
Figure 5: Neper tesselation of complete stainless steel sample. Color indicates the grain number.
The experimental data were collected in four separate layers from which the complete sample was recon-
structed. For the virtual diractometer demonstration, we employ only one of the four subsets of data (Layer
2). Layer 2 has440 grains and the Neper -generated virtual sample is shown in Figure 6. The tessellated
sample was discretized with Neper with 78,696 10-node tetrahedral elements. This is a relatively coarse mesh,
but is adequate for the purpose of demonstrating the virtual diractometer capabilities. Using this mesh, the
elastic strain distribution was computed using MechMet . For this purpose, the single crystal elastic moduli for
stainless steel were taken from literature and are given in Table 2.
In the MechMet simulation, the sample was extended along its y axis to induce a nominal axial strain
of 0.1%. The elastic strain distribution, shown in Figure 6a, shows the spatial heterogeneity in the strain eld
typical of polycrystals with moderate levels of elastic anisotropy (as is the case with stainless steel). Note that
the strain elds are smooth over each grain, but display discontinuities at the grain boundaries. This reects
a post-processing step performed in MechMet as the raw results generated using C0elements do not possess
intra-element continuity. The virtual diractometer currently assumes that the strain data from the mechanical
simulation will consist of a value for each component of the strain tensor for each element of the mesh and that
this value is the average value for the element.
(a)
 (b)
 (c)
Figure 6: MechMet model of Layer 2 showing (a) the elastic strain distribution (axial component) over the
entire layer (b) the elastic strain distribution (axial component) over target grain (80) and (c) a close-up of the
target grain (80), again with elastic strain distribution (axial component) plotted.
Grain 80 is the designated target grain and also is shown in Figure 6a and Figure 6b. Grain 80 was selected
because it is an interior grain of relatively average size. There are 249 tetrahedral elements discretizing this grain
3This research used resources of the Advanced Photon Source, a U.S. Department of Energy (DOE) Oce of Science user facility
at Argonne National Laboratory and is based on research supported by the U.S. DOE Oce of Science-Basic Energy Sciences, under
Contract No. DE-AC02-06CH11357.
11Table 2: Single crystal elastic constants using the strength of materials convention ( 44=c4444).
phaseC11C12C44 source
(GPa) (GPa) (GPa) -
FCC 205 138 126 [16]
in the nite element mesh. A second view of Grain 80 appears in Figure 7. Here, the viewing axis of the plot is
parallel to, but opposite, the incident beam direction. This view is helpful later when examining images generated
by the virtual diractometer. This stainless steel has a face-centered cubic crystal structure. The plane families
of interest were specied to be f111g,f200g, andf220g.
Figure 7: Close-up of target grain (80) viewed along an axis parallel to, but opposite, the incident beam direction
vector and showing axial strain associated with an 0.1% extension in the ydirection.
4.2 Results from Step 1: Elemental diraction conditions
If requested by the user, the diractometer will create plots and images associated with each step summarized
in Section 3. This subsection and the two that follow present these results step-by-step, beginning with Step 1.
Note that the detector coordinate system is as shown in Figure 2, which means that the detector is viewed from
a direction opposite the direction of the incident beam.
The virtual diractometer prompts the user for a scattering vector of interest. The code then identies the
particular reection for each family of reections having its reection (reciprocal) vector closest to the scattering
vector designated by the user. Only the angle between the loading direction and the scattering vector is considered
in choosing the particular reection. In this demonstration example, two cases are examined with the virtual
diractometer, one for spots associated with near-axial strains and the other with spots associated with near-
transverse strains. Thus, angles of 0 and =2 were designated. None of the chosen reections exactly match
these angles, but rather are the reections that are closest to those angles. For convenience, these are called the
'near-axial' and 'near-traverse' cases for 0 and =2 angles, respectively. The identied scattering vector directions
depend on the grain's lattice orientation and thus will dier from grain-to-grain.
The scattering vectors are shown in Figure 8 for the 'near-axial' and 'near-traverse' cases. The legends indicate
the particular reection ( hkl) chosen for each case. A table of scattering vectors with associated normal strain
values is given in Table 3. Note that the 'near axial' normal strains are positive and the 'near traverse' normal
strains are negative. We see that the 111 axial strains are smaller than the 020 axial strains. We expect this
trend but have to caution that the scattering vectors are not closely aligned with the loading direction nor each
other, so this trend is not denitive. The detector positions will be discussed in Section 4.4.
Table 3: Approximate detector position and associated average normal strains for near-axial and near-transverse
scattering vectors.
hkl xp
1(m)xp
2(m) hkl
qq
111 0.042 0.062 0 :3510 3
020 -0.037 0.078 1 :2410 3
022 0.044 0.114 0 :7010 3
111 0.073 -0.016  0:0110 3
200 0.086 -0.010  0:4410 3
202 0.120 0.025  0:4110 3
The sample rotation angle, !, is a critical diraction parameter in the experimental set-up. In an undeformed
12(a)
 (b)
Figure 8: Scattering vectors chosen by the virtual diractometer to best match axial and transverse directions:
(a) ones most closely aligned with the axial (loading) axis and (b) ones most closely transverse to the loading
axis.
grain with spatially uniform lattice orientation, there is a single rotation angle for the entire grain for each hkl
plane. However, if either of these conditions is not met, the sample rotation angle diers from point-to-point
within the grain (and thus from element-to-element within the mesh). The virtual diractometer computes this
angle for all designated reection planes for every element of the target grain and generates frequency distribution
plots for the loaded states. The code loads orientation and strain data for each load step. The load steps are
referred to as 'frames' and number from 1 to the maximum number of load steps. Frame 0 refers to the initial
unloaded state. Orientations for this frame are taken from the Neper le and the strain is assumed to be zero.
Note that distributions for the diraction angle and the Bragg angle also are computed, but are not shown
here.
The!frequency distributions for the 'near-axial' scattering vectors are shown in Figure 9. The spread in
!is a consequence of the elastic strain altering the lattice vectors as indicated by Eq. (4). For all reections,
the widths of the distributions are small, but are consistent with the typically small spot size of a crystal that
has not undergone plastic deformation. The distributions dier among the three reections owing to the spatial
heterogeneity in the strain eld. Qualitatively similar !frequency distributions arise for the 'near-transverse'
scattering vector as seen in Figure 10. Comparing across all of the frequency distributions, one can see that the
strain heterogeneity aects the distributions for the same reections as well as causing distributions with similar
scattering vectors to dier.
(a)
 (b)
 (c)
Figure 9: Frequency distributions for sample rotation angle, !, for the most axial scattering vectors: (a) 111
reection, (b) 020 reection, and (c) 022 reection.
4.3 Results from Step 2: Projected point plots
For eachhkl, the virtual diractometer projects a point onto the detector plane for every quadrature point of
every nite element of the target grain. For Grain 80, 3735 points are projected points on detector plane (249
elements each with 15 quadrature points). The projected point plots are shown in Figure 11 and Figure 12 for
the unloaded and loaded states, respectively, for the 'near axial' scattering vectors. The coordinates of points are
13(a)
 (b)
 (c)
Figure 10: Frequency distributions for sample rotation angle, !, for the most transverse scattering vectors: (a)
111 reection, (b) 200 reection, and (c) 202 reection.
given in detector coordinates ( xd
i); the orientation of the detector coordinate system is shown in Figure 2 with
ed
3= 1 in the laboratory coordinates. Thus, the view on the detector is in the direction opposite the direction of
the incident beam.
In the plots, like-colored points are associated with the quadrature points of a single nite element. The
specic reections for this case are the 111, 020, and 022 planes. The overall spatial pattern is dened in the
unloaded case shown in Figure 11 by the cross section that the grain presents to the incident beam. The pattern
is dierent for each reection owing the the sample rotation, !. To make this point more evident, Figure 13
shows Grain 80 rotated about the loading axis from the view in Figure 7 by !for each of the reections shown in
Figure 11. The outlines are not exactly one-to-one because the angles of rotation in Figure 13 are not precisely the
correct values of !and the inuence of projection onto the detector plane is not included. Comparing Figure 11
to Figure 12 on a reection-by-reection basis, the inuence of the distortion of the lattice induced by the stress
is evident. The outlines of the grain evident with the undeformed grain are not as clearly discerned once the
grain is loaded. There is an overall shift in the location of the points, which is manifest in the average strains
listed in Table 3, but what is seen here are the changes in shape of a pattern that is due to strain heterogeneity.
The diracted beams for the collection of diraction volumes (volumes associated with the quadrature points of
the nite elements) are no longer parallel owing to changes in the unit cell as given in Eq. (4).
(a)
 (b)
 (c)
Figure 11: Projected points on the detector plane under zero load for the most axial scattering vectors: (a) 111
reection, (b) 020 reection, and (c) 022 reection.
The projected point plots are shown for the 'near transverse' scattering vectors in Figure 14 and Figure 15.
Again, the grain shape is evident in the patterns associated with the undeformed state. As with the patterns for
the 'near axial' scattering vectors, there are slight dierences from reection to reection owing to dierences is
the directions of the diracted beam. We also see the eects of the lattice distortion on the patterns from the
undeformed to deformed states. These changes are most pronounced for the f220gfamily of planes.
4.4 Results from Step 3: Intensity distributions
The relative intensity distributions are an important intermediate goal for the diractometer. They dier quali-
tatively from the projected point plots in that the eld distribution of intensity much better conveys the actual
spatial distribution that does the set of projected points. The points plot suer from not including the point
14(a)
 (b)
 (c)
Figure 12: Projected points on the detector plane under tensile load for the most axial scattering vectors: (a)
111 reection, (b) 020 reection, and (c) 022 reection.
(a)
 (b)
 (c)
Figure 13: Grain 80 rotated by !from the view in Figure 7 by approximately: (a) 2.67 rad; (b) 1.72 rad; and
(c) 1.44 rad to correspond to rotations associated with the: (a) 111 reection, (b) 020 reection, and (c) 022
reection shown in Figure 11.
(a)
 (b)
 (c)
Figure 14: Projected points on the detector plane under zero load for the most transverse scattering vectors: (a)
111 reection, (b) 200 reection, and (c) 202 reection.
(a)
 (b)
 (c)
Figure 15: Projected points on the detector plane under tensile load for the most transverse scattering vectors:
(a)111 reection, (b) 200 reection, and (c) 202 reection.
15weights, not spreading the point contribution according to the Gaussian spread function, and from the points
possibly overlaying each other. The intensity distributions rectify all these limitations.
The nite element mesh for the relative intensity distributions has 4096 (16x16) quadrilateral elements. These
overlay a detector area of 16 (4x4) pixels. The pixels are 0.2mm x 0.2mm. The intensity distribution mesh is
spatially uniform and registered with the pixels, so that there are 256 elements coinciding with each pixel. The
intensity distribution mesh can be rened or coarsened as specied by the user, but is linked to the pixel size so
that subsets of the total mesh always coincide exactly with the pixel positions. This facilitates integrating the
intensity distributions over detector patches that are directly associated with one and only one pixel.
The relative intensity distributions for unloaded and loaded states are shown in Figure 16 and Figure 16 for
the 'near axial' scattering vectors and in Figure 18 and Figure 19 for the 'near transverse' scattering vectors.
Note the following: the discretized regions for the unloaded and loaded cases are the same for each reection ( e.g.
the two (a) subgures have the x ydomains as do the two (b)'s and the two (c)'s). This allows the user to
better see the degree to which a spot shifts and spreads when loaded. Likewise the intensity scales are the same
for the matching unloaded and loaded images. The parameter that determines the amount of attenuation was
set so that the attenuation was minimal. This has little eect here as we are examining only a single grain rather
than ones with dierent positions within the sample.
For the axial scattering vectors, both the shifts and the intensity changes are quite apparent. The shifts can
be interpreted (and checked) more readily than the intensities using the actual spot positions available in Table 3.
Note that the spot shifts from unloaded to loaded states are consistent with the signs of the strains. That is, if
the strain is tensile there is an increased in lattice plane ( d) spacing and a corresponding decrease in the Bragg
() angle. This can be observed by combining the approximate spot center with the apparent movement of the
spot between Figure 16 and Figure 17 for the most axial reections or between Figure 18 and Figure 19 for the
most transverse reections. Because the intensity plots have been re-centered, it is not possible to conrm this
by looking at the intensity distribution plots alone.
We do not attempt to make general statements regarding the relative intensity changes due lattice distortions
under applied load. Grain 80 is only one of the more than 400 grains in Layer 2. Examination of the relative
intensity across the full population of grains should be made before attempting to suggest trends in this regard.
Such an examination is possible using the virtual diractometer, but has not been attempted here.
(a)
 (b)
 (c)
Figure 16: Intensity distribution over the detector plane under zero load for the most axial scattering vectors:
(a)111 reection, (b) 020 reection, and (c) 022 reection.
(a)
 (b)
 (c)
Figure 17: Intensity distribution over the detector plane under tensile load for the most axial scattering vectors:
(a)111 reection, (b) 020 reection, and (c) 022 reection.
16(a)
 (b)
 (c)
Figure 18: Intensity distribution over the detector plane under zero load for the most transverse scattering vectors:
(a)111 reection, (b) 200 reection, and (c) 202 reection.
(a)
 (b)
 (c)
Figure 19: Intensity distribution over the detector plane under tensile load for the most transverse scattering
vectors: (a) 111 reection, (b) 200 reection, and (c) 202 reection.
4.5 Results from Step 4: Detector images
Synthetic detector images are the end goal for the virtual diractometer. In contrast to the intensity distributions
of Step 3, the detector images reect the nite resolution of inherent with pixels from which a detector is built.
From a experimental planning perspective, having both the intensity distribution plots and the detector images
facilitates evaluating whether or not the choice and positioning of the detector is optimal for the experimental
objectives. Are critical aspects of the diraction patterns captured on the detector?
A pixel-based mesh is constructed for computing detector images. This mesh is comprised of quadrilateral
elements with piecewise constant interpolation (one value of the detector intensity over the element). Elements
are the same size as pixels. In this simulation, parameters for the detector are the same as those employed by
Wong et al. [12] with a pixel size of 0.2mm. The intensity distribution mesh was constructed rst to overlay a
patch equal in overall size to 16 pixels. For the detector image, the mesh has 16 elements that coincide with the
16 pixels. The intensity distribution from Step 3 is integrated over those elements associated with a pixel (and
thus an element of the detector image mesh) to give the single value displayed by that pixel. Because the point
spread function enlarges the detector spot, the detector mesh is doubled in size about its center. This is why all
of the detector image plots span twice the are as the intensity distribution plots and cover an area of 64 (8x8)
pixels.
First, detector images prior to the application of the point spread function are shown in Figure 20 and
Figure 21 for the most axial reections or between Figure 22 and Figure 23 for the most transverse reections.
To accommodate the spreading of the spot, the patch size is four times (twice as many pixels in each detector
direction) larger than in used for the intensity distribution plots (Figures 16-19). As is evident from comparison
of the two set of images, the detector images are very coarse with this combination of detector position and pixel
size. The spots shown in the relative intensity distributions are comparable in area to a single pixel. Because
the spots are not centered on one pixel, a few pixels typically are activated even though the net area of the
intensity distribution spot is comparable to a single pixel. As a consequence, much of the detail apparent in the
intensity distribution plots is lost in the process of binning the distributions to construct the detector image with
the specied pixel size of 0.2mm. Some features are still evident, however, including an overall shift in the spot
stemming from the change in lattice spacing with strain. Note also that the scales on the detector images overall
are lower than those on the corresponding intensity distribution images. This is due to the averaging over the
intensity distributions done to create the pixel intensity values.
17(a)
 (b)
 (c)
Figure 20: Detector images under zero load for the most axial scattering vectors: (a) 111 reection, (b) 020
reection, and (c) 022 reection. The pixel size is 0.2mm.
(a)
 (b)
 (c)
Figure 21: Detector images under tensile load for the most axial scattering vectors: (a) 111 reection, (b) 020
reection, and (c) 022 reection. The pixel size is 0.2mm.
(a)
 (b)
 (c)
Figure 22: Detector images under zero load for the most transverse scattering vectors: (a) 111 reection, (b) 200
reection, and (c) 202 reection. The pixel size is 0.2mm.
(a)
 (b)
 (c)
Figure 23: Detector images under tensile load for the most transverse scattering vectors: (a) 111 reection, (b)
200 reection, and (c) 202 reection. The pixel size is 0.2mm.
18Next, a point spread function is applied to the detector image. The point spread function here is the same as
reported by Wong et al. [12] together with the tting parameters determined from line spread data reported by
Lee [17]. Values of the point spread template given in Eq. (23) are:
2
666640:0116
0:0400 0:0868 0:0400
0:0116 0:0868 0:4462 0:0868 0:0116
0:0400 0:0868 0:0400
0:01163
77775(25)
Detector images following the application of the point spread function are shown in Figure 20 and Figure 21
for the most axial reections or between Figure 22 and Figure 23 for the most transverse reections. Probably
the most apparent take-away is that the detector image with point spread is highly inuenced by the detector
resolution and its characteristic spread function.
(a)
 (b)
 (c)
Figure 24: Detector images under zero load for the most axial scattering vectors: (a) 111 reection, (b) 020
reection, and (c) 022 reection. The pixel size is 0.2mm.
(a)
 (b)
 (c)
Figure 25: Detector images under tensile load for the most axial scattering vectors: (a) 111 reection, (b) 020
reection, and (c) 022 reection. The pixel size is 0.2mm.
(a)
 (b)
 (c)
Figure 26: Detector images under zero load for the most transverse scattering vectors: (a) 111 reection, (b) 200
reection, and (c) 202 reection. The pixel size is 0.2mm.
19(a)
 (b)
 (c)
Figure 27: Detector images under tensile load for the most transverse scattering vectors: (a) 111 reection, (b)
200 reection, and (c) 202 reection. The pixel size is 0.2mm.
5 Summary
A computational tool for creating synthetic diraction images (spots) associated with HEDM experiments is
documented. Attention is focused on polycrystalline samples that are subjected to in situ loading. The tool,
referred to as a virtual diractometer, computes images for diraction volumes that are sub-crystal in scale.
Under these conditions, the diraction images consist of isolated peaks (or spots) derived from beams diracted
from individual crystals. The virtual diractometer is congured to compute the spots created by diraction
within a single, target crystal. The user designates the families of crystallographic planes that spawn diracted
beams and the code identies the specic planes that are closet to desired scattering vectors. From the diraction
conditions computed for Laue diraction, morphology of the target crystal, and details of the experimental
conguration, the code produces virtual diraction spots. These spots embody information regarding the its
detector coordinates and a spatial map of relative intensity of the diracted beam.
In this article, the underlying methodology used for the virtual diractometer is summarized and an example
case illustrates the its capabilities. Principal features include:
•The code is written in MatLab and is available freely from GitHub.
•The code takes in the following input data:
1. denition of a virtual sample in the form of a meshed tessellation of the grains; and,
2. data arrays that provide the lattice orientations and elastic strains coinciding with the mesh at loaded
and unloaded states.
•The code requires data related to the material, the x-ray beam, and the detector. These can be re-dened
as needed. The data used includes:
1. the lattice type and relevant lattice constants, families of hkl's to be considered, and attenuation
characteristics;
2. the incident beam energy and direction and the spatial variance of the diracted beam;
3. the plane of the detector and the resolution of the nite element mesh used to represent the intensity
eld in the vicinity of a spot; and,
4. the detector resolution (pixel size).
•The code computes spot images for a combination of target grain and scattering vector direction designated
by the user. The output includes the following items for each reection and load point:
1. the average strains associated with the scattering vectors (loaded points only);
2. plots showing distributions of the rotation angle !at which the diraction conditions are satised
(loaded points only);
3. plots showing points at which diracted beams intersect the detector plane;
4. images of the spot intensity distributions; and,
5. pixelated detector images including the eects of point spread.
•A demonstration example is provided for a stainless steel sample.
20Acknowledgements
The research reported here was supported by the ONR under grant # N00014-16-1-3126, Dr. William Mullins
Program Manager. The authors thank Wiley Kirks for his assistance in providing independent checks of compu-
tations performed in Step 1 to determine the diraction conditions of elemental volumes.
Conict of interest
The authors declare that they have no conict of interest.
References
[1] H Poulsen. Three-Dimensional X-Ray Diraction Microscopy . Springer, Heidelberg, U.K., 2004.
[2] R. M. Suter, C M Heernan, S F Li, D Hennessy, and C Xiao. Probing Microstructure Dynamics With
X-Ray Diraction Microscopy. Journal of Engineering Materials and Technology , 130:021007, 2008.
[3] U Lienert, S F Li, C M Heernan, J Lind, R. M. Suter, J. V. Bernier, N. R. Barton, M Brandes, M J Mills,
M P Miller, C Wejdemann, and W Pantleon. High Energy Diraction Microscopy at the Advanced Photon
Source. JOM , 63(7):70{77, 2011.
[4] U Lienert, M C Brandes, J. V. Bernier, J Weiss, S D Shastri, M J Mills, and M P Miller. In situ single-
grain peak prole measurements on Ti-7Al during tensile deformation. Materials Science and Engineering
A, 524(1-2):46{54, 2009.
[5] Jette Oddershede, Sren Schmidt, Henning Friis Poulsen, Henning Osholm Srensen, Jonathan Wright, and
Walter Reimers. Determining grain resolved stresses in polycrystalline materials using three-dimensional
x-ray diraction. Journal of Applied Crystallography , 43(3):539{549, 2010.
[6] J V Bernier, N R Barton, U Lienert, and M P Miller. Far-eld high-energy diraction microscopy: a tool
for intergranular orientation and strain analysis. The Journal of Strain Analysis for Engineering Design ,
46(7):527{547, 2011.
[7] Matthew P. Miller, Darren C. Pagan, Armand J. Beaudoin, Kelly E. Nygren, and Dalton J. Shadle. Under-
standing micromechanical material behavior using synchrotron x-rays and in situ loading. Metallurgical and
Materials Transactions A: Physical Metallurgy and Materials Science , 51(9):4360 { 4376, 2020.
[8] M. Obstalecki, S.-L. Wong, P. Dawson, and M. Miller. Quantitative analysis of crystal scale deformation
heterogeneity during cyclic plasticity using high-energy X-ray diraction and nite-element simulation. Acta
Materialia , 75:259{272, 2014.
[9] N. Bertin and W. Cai. Computation of virtual x-ray diraction patterns from discrete dislocation structures.
Computational Materials Science , 146:268{277, 2018.
[10] D. C. Pagan, K. K. Jones, J. V. Bernier, and T. Q. Phan. A nite energy bandwidth-based diraction
simulation framework for thermal processing applications. Journal of Materials , 72(12):4539 { 4550, 2020.
[11] C. Ribart, A. King, W. Ludwig, J. P. C. Bertoldo, and H. Proudhon. In situ synchrotron X-ray multimodal
experiment to study polycrystal plasticity. Journal of Synchrotron Radiation , 30(2):379{389, Mar 2023.
[12] S. L. Wong, J.-S. Park, M. P. Miller, and P. R. Dawson. A framework for generating synthetic diraction
images from deforming polycrystals using crystal-based nite element formulations. Computational Materials
Science , 77:456{466, 2013.
[13] B. D. Cullity and S. R. Stock. Elements of X-Ray Diraction . Prentice Hall, 2001.
[14] P. R. Dawson and D. E. Boyce. FEpX { Finite Element Polycrystals: Theory, Finite Element Formulation,
Numerical Implementation and Illustrative Examples. ArXiv e-prints , April 2015.
[15] A. D. Krawitz. Introduction to Diraction in Materials Science and Engineering . Wiley-Interscience, New
York, 2001.
[16] H. Ledbetter. Monocrystal-polycrystal elastic constants of stainless steels. In M. Levy, editor, Handbook of
Elastic Properties of Solids, Liquids, and Gases , volume 3, chapter 17, pages 291{297. Academic Press, 2001.
21[17] John H. Lee, C. Can Aydner, Jonathan Almer, Joel Bernier, Karena W. Chapman, Peter J. Chupas,
Dean Haener, Ken Kump, Peter L. Lee, Ulrich Lienert, Antonino Miceli, and German Vera. Synchrotron
applications of an amorphous silicon at-panel detector. Journal of Synchrotron Radiation , 15(5):477{488,
Sep 2008.
22