A simulation framework of procurement operations in the
container logistics industry
George Vassos1,3, Klaus K. Holst1, Pierre Pinson2,3, and Richard M. Lusby3
1Research and Development, A.P. Moller - Maersk
2Dyson School of Design Engineering, Imperial College London
3Department of Technology, Management and Economics, Technical University of Denmark
May 23, 2023
Abstract
This study proposes a simulation framework of procurement operations in the container logistics
industry that can support the development of dynamic procurement strategies. The idea is
inspired by the success of Passenger Origin-Destination Simulator (PODS) in the eld of airline
revenue management. By and large, research in procurement has focused on the optimisation
of purchasing decisions, i.e., when-to-order and supplier selection, but a principled approach
to procurement operations is lacking. We ll this gap by developing a probabilistic model of
a procurement system. A discrete-event simulation logic is used to drive the evolution of the
system. In a small case study, we use the simulation to deliver insights by comparing dierent
supplier selection policies in a dynamic spot market environment. Policies based on contextual
multi-armed bandits are seen to be robust to limited access to the information that determines
the distribution of the outcome. This paper provides a pool of modelling ideas for simulation
and observational studies. Moreover, the probabilistic formulation paves the way for advanced
machine learning techniques and data-driven optimisation in procurement.
1 Introduction
The procurement business is important to companies with widespread or global supply chains,
where, naturally, demand for products and services is generated daily from business operations.
Therefore, a procurement organisation has to be in place to ensure such demand is met in a structured
fashion. The procurement organisation is a three-layer hierarchical entity, within a company, with
the purpose of carrying out the procurement enterprise. On the top layer, category management
identies categories of products and services and develops strategies for establishing framework
agreements (contracts) with suppliers. On the middle layer, sourcing must implement the strategies
to consolidate a supplier portfolio with contract and spot market options. On the bottom layer,
purchase managers execute the strategy by allocating demand to suppliers in daily operations. This
generic structure of procurement is depicted on the right side of Figure 1. In the container logistics
industry, there is customer demand for container transportation. A container logistics company
utilises a eet of transportation units that can be owned by the company or by service providers in a
contract-spot market. Procurement maintains a contract-spot portfolio of container transportation
suppliers as well as suppliers that can satisfy demand for the operation of company-owned assets.
1arXiv:2303.12765v2  [stat.AP]  22 May 2023Figure 1: Procurement in the container logistics industry: circles and arrow heads, on the left side, represent
operational sites and transportation units or vice versa. The sites generate demand, i.e., product and service
requests, that is sent to the operational layer of the procurement organisation where purchase orders are
executed. The higher layers, that is, category management and sourcing are responsible for developing and
implementing the business policies to guide the decisions of purchase management.
Figure 1 illustrates the structure of the procurement business in container logistics. Knowledge and
insights about the nature of operations are core determinants of a procurement strategy.
In a typical procurement process, strategic and tactical planning are made in a static fashion,
similar to airlines before the development and success of the Passenger Origin-Destination Simulator
(PODS), in the sense that they rely on a long-term forecast of the demand, which is then fed into
optimisation models to develop operational policies over annual or quarterly horizons (Fry, 2015,
Chapter 3). PODS is a tool for revenue management developed by Boeing with a simulation model
of customer demand and few options for the number of airlines and network competition. Similar
to PODS, the proposed framework can enable a transition towards more exible solutions where
the eect of strategic and tactical decisions is continuously informed and policies are dynamically
updated in light of new data. This study develops a probabilistic formulation of the mechanism
underlying the evolution of a procurement system where in the ambient scheme demand, decisions,
and outcome (welfare measures) are interdependent, as shown in Figure 2. We believe this study can
spark future research in procurement, as the idea behind PODS has led to a series of concomitant
studies (Fry, 2015; Wittman and Belobaba, 2016; Weatherford, 2017; Wang et al., 2021; Szyma nski
et al., 2021), leading to a valuable product for revenue optimisation.
Our goal is to advance a joint probabilistic model of operations and demand in procurement, fostering
the use of advanced machine learning techniques in optimisation which is currently trending in
the Operations Research (OR) eld (Lodi et al., 2020). Chilmon and Tipi (2020) and Ha et al.
(2018) argue on the importance of a unied framework for procurement operations in which demand
and operations are interconnected. The simultaneous optimisation of all model parameters is very
2Figure 2: Generic architecture of the simulation logic including the three core components, namely, the
demand, decision, and outcome mechanisms, the auxiliary component where the pending requests are main-
tained, and the interactions between them represented by the arrows. Notice how the demand may only be
impacted by the decisions through the outcome.
likely to be intractable even for simple simulation congurations; however, extensive control over the
evolution of the system can help formulate more concise optimisation problems than those under the
usual untestable exogeneity assumptions on demand (Zheng et al., 2021; Zhang and Chen, 2013) or
spot market (Nie et al., 2017; Hu et al., 2012). The state of the procurement system is determined by
historical (demand, decision, outcome) records, exogenous eects, and the list of unresolved requests.
On a given day, purchase management will decide whether or not and to whom to send purchase
orders given the present state of the system, which is in turn aected by the decisions taken.
A case study is carried out to illustrate how the simulation can be used to compare dierent supplier
selection policies in a dynamic spot market environment. Supplier selection is the primary oper-
ational task in procurement where the business strategy is executed to realise the expectations of
category management. The utility of the spot market is twofold: rst, it is a safety buer against
disruptions in demand and helps to avoid supplier lock-in (Hamdi et al., 2018), and, second, it
enables the exploration of new collaboration opportunities. Contextual multi-armed bandits are
known to have robust performance in non-stationary environments (Sutton and Barto, 2018). Our
insights indicate that in a spot market situation contextual multi-armed bandits outperform static
supplier selection policies with the same knowledge of the outcome distribution. Hence, such models
can be employed to perform ecient supplier selection or exploration of new opportunities in the
spot market and continuously inform a more dynamic business strategy.
This paper is structured as follows. Section 2 is a review of state-of-the-art literature on modern
approaches to procurement and the need for a new paradigm. Section 3, provides a unied proba-
bilistic model and the set of assumptions under which it describes the data generating mechanism in
the procurement business. An outline of a discrete-event simulation (Law, 2015) design is included
to inform software implementations. Section 4, proposes specic expressions and algorithms for the
components of the probabilistic model, and we showcase the usage of our proposed framework in an
example in Section 5. Finally, Section 6 discusses future research perspectives.
32 Literature review
The signicance of the procurement organisation to modern multinational corporations has been
re-evaluated in recent years to accommodate the complexity of supply chain planning in the global
environment (Hamdi et al., 2018). Strategic collaborations with suppliers and the establishment of
strong supplier relationships are critical to the eciency of daily operations. The work by Mart nez-
de Alb eniz and Simchi-Levi (2005) shows the link between the choice of a supply contract portfolio
and the optimisation of procurement operations. Hamdi et al. (2018) explain the important role of
supplier selection in supply chain risk mitigation.
By and large, research in the eld of procurement and supply chain planning has focused on stochas-
tic and robust optimisation but the eld of OR (Govindan and Cheng, 2018). These traditional OR
approaches often rely on long-term forecasts of the demand and assumptions about the market envi-
ronment that are postulates and do not emerge from data modelling. Limitations of such approaches
have been outlined by Abbasi et al. (2020), Powell (2019), and Shahriari et al. (2016). Dai et al.
(2020) criticised the use of long-term forecasts in the development of procurement strategies. The
situation is similar to that with the airline revenue management business that led to the development
of PODS which has been a key lever in the transition from static to dynamic revenue management
in the airline industry (Fry, 2015, Chapter 3).
The recent advances in machine learning and data-driven optimisation promote a new paradigm in
procurement research to enable the transition to dynamic strategies. A trend towards introducing
machine learning in supply chain management research within OR has been highlighted by Lodi
et al. (2020), Larsen et al. (2018), and Nguyen et al. (2018). Policy learning under uncertainty in
a Markov decision process (MDP) framework has been attempted on similar applications (Powell,
2019; Haehl and Spinler, 2018). Moreover, concerns on the causal interpretation of OR models have
been raised (Bertsimas and Kallus, 2020, 2017). In a systematic literature review, Chilmon and
Tipi (2020) pointed out the great utility of simulation methods in modelling complex systems such
as an end-to-end supply chain (E2ESC). They highlighted the absence of a principled framework,
i.e., of generic rules, concepts, and processes, which can provide regularity for the future eorts in
modelling complex systems, and emphasised the importance of having a theoretical model for real
world problems, a point also made by Ha et al. (2018), as well as the scarcity of such eorts (Chilmon
and Tipi, 2020).
Supplier or vendor selection is one of the operational problems that falls within the scope of supply
chain planning. Supplier selection can be understood as the execution of a procurement strategy
in daily operations. Govindan and Cheng (2018) stress the potential of multidisciplinary research
to improve supply chain planning in uncertain environments. Nguyen et al. (2018) found a growing
interest in data-driven decision-making in supply chain management (SCM) in recent years. They
suggested that data-driven approaches have attracted great interest among researchers in confronting
the challenges of SCM.
Important problems of procurement such as the identication of optimal supplier selection poli-
cies have been studied in isolation taking approaches such as fuzzy multi-criteria decision-making
(MCMD), game theory, swarm-based heuristics, robust optimisation, or fuzzy goal programming
(Khemiri et al., 2017; Chen, 2015; Yoon et al., 2020; Prince et al., 2013; Pal et al., 2011; Kanyalkar
and Adil, 2010; Torabi and Hassini, 2009). Such studies focused on obtaining insights on very specic
study designs and do not provide a portable logic that can be readily utilised by new researchers.
4Interest has also been shown in procurement policies under uncertainty, usually on price or demand,
(Dai et al., 2020; Bollapragada et al., 2015; Xie et al., 2013; Hegedus and Hopp, 2001); however,
the standard practice is to postulate a probability distribution on the price or demand without any
insights on the underlying generating mechanism. Data-driven approaches to procurement are few
and fairly recent (Zhang et al., 2022; Mogale et al., 2020; Akcay and Corlu, 2017) and have also
been anticipated due to the rise of e-procurement systems (Chibani et al., 2018; Oh et al., 2014;
Chan et al., 2011; Talluri et al., 2007). Case-specic simulation models have been developed for the
investigation of particular research inquiries (Tao et al., 2020; He et al., 2016; Johnson et al., 2013)
but they are not generalisable to confront a wider variety of procurement problems. Interestingly,
simulation alternatives have been employed to enable the comparison of procurement policies (Mula
et al., 2013). Procurement has also been considered jointly with other processes in a broader supply
chain planning context (Karaba g and G okg ur, 2022; Yaghin and Goh, 2021; Reiner et al., 2014).
Joint optimisation at such scale could easily become intractable. The complexity burden could be
mitigated with the use of a simulation model of procurement. Buyer-supplier interaction is a core
topic in procurement (Ghadimi et al., 2016) and also a focal point of the proposed simulation model.
Other cases that are of interest in recent literature on procurement are concerned with green or sus-
tainable procurement (Niu et al., 2021; Ghadge et al., 2019; Dey et al., 2019) and can also benet
from using a simulation.
This study proposes a simulation framework of procurement operations that is founded on a proba-
bilistic model that captures the dynamics between operations and demand. On the highest level, the
model consists of demand, decision, and outcome components with an interdependence structure.
Furthermore, a set of congurable specications allows great exibility when simulating a variety of
scenarios, and enables both simulation-based optimisation and data-driven approaches. Demand is
considered in the form of purchase requisitions which are common in the procurement business and
exible to congure. The important operational decisions in procurement are: (1) when to place an
order, (2) supplier selection, and (3) demand allocation (Sun et al., 2022). Attempts to model (1)
as an optimal stopping problem are made by Xie and Zheng (2013) and Fontes (2008). Research
in (2) throughout a relatively long period of time has pointed out cost, lead or delivery time, and
quality as the main drivers of the business (Rao et al., 2017; Weber et al., 1991; Dickson, 1966). The
problem of demand allocation in procurement is linked to compliance with existing supply contracts.
The proposed simulation framework can be congured to generate insights in this situation.
The novelty of this study is a formulation of the procurement system that avoids any independence
assumptions between operations and demand or spot prices and makes no assumptions on the
functional form of the random variables that describe the procurement system. Previous studies
have only treated the case of independent demand, spot market, and procurement operations under
regularity assumptions that allowed for convenient solutions at the expense of generality.
3 Mathematical framework and simulation logic
In this section, we propose a joint probabilistic model of procurement operations, decision-making
and outcome mechanisms, and demand. We introduce a model of the evolution of procurement
operations which enables a systematic representation of the problem.
LetB`denote the demand information available at calendar day `, with`= 1;:::; enumerating 
calendar days, and m= 1;:::;M`, whereM`is the total number of entries in all requisitions in B`.
5We use the term line item to refer to a single entry, i.e., request for a product, in a requisition. Let
D`denote the set of suppliers who are relevant at time `, andD`m2f(0;;);(1;1);:::; (1;jD`j)gthe
relative decision variable. That is, at any calendar day `, the purchase management needs to decide
whether to place a purchase order, for line item m, or not. If the decision is to order it, then one out
ofjD`jdistinct supplier rms must be selected to send the order to. We let Y`mdenote the response
variable, i.e., cost, delivery time, and quality, relative to line item mat calendar day `.
Example 3.1. Suppose we observe for 2days a procurement system with three products f1;2;3g
that belong to a single category and two suppliers f1;2gthat can provide all three products. Following
the logic of the proposed data generating mechanism, we illustrate below a potential observation from
this system. Notice that b1is a purchase requisition that contains two line items b11andb13and
similar for b2.
Product id b1d1y1b2d2y2
1b11(0;;);b21(1;1)y21
2; ; ; b22(1;1)y22
3b13(1;2)y13; ; ;
A realisation of the system over a period of calendar days will have the structure
(b1;d1;y1);:::; (b;d;y) (1)
which is a draw from the probability distribution, also called mechanism, with density function that
can be factorised as
Y
`=1p(b`jy` 1;d` 1;b` 1)p(d`jy` 1;d` 1;b`)p(y`jy` 1;d`;b`) (2)
whereb`:= (b1;:::;b`),d`:= (d1;:::;d`) andy`:= (y1;:::;y`), and we use the convention that
b0=d0=y0=;. Lettingb 
`:= (y` 1;d` 1;b` 1),d 
`:= (y` 1;d` 1;b`), andy 
`:= (y` 1;d`;b`) we
can express the probability density function more compactly as
Y
`=1p(b`jb 
`)p(d`jd 
`)p(y`jy 
`) (3)
A mechanism encapsulates the entirety of cause and eect relationships that govern the evolution
of a system. Directed acyclic graphs (DAGs) are common devices, in the theory coarsely termed
Causality or Causal Inference (Hern an and Robins, 2020; Peters et al., 2017), used to represent
structural causal models; in the context of this study, a structural causal model can be seen as
a collection of probability distributions having a density of the sort of (3). An arrow in a DAG
indicates a cause-eect relationship between the connected nodes and is always directed from left
to right. Figure 3 attempts an economic illustration of the longitudinal observation structure (1)
aiming to highlight the working cause-eect relationships at time `. Figure 3 identies the model
which includes a conditional independence assumption.
Assumption 3.1 (Conditional independence) .Demand at time `is independent of past decisions
given the historical demand and outcome information, i.e.,
B`? ?D` 1jB` 1;Y` 1 (4)
The assumption asserts that past decisions can aect demand only through the outcome, and is
the initial design assumption presented in Figure 2. The reader can verify the absence of arrows
6Figure 3: A directed acyclic graph (DAG) that illustrates the dynamics in the model under the assumption
that there is no unobserved confounding so that any arrow represents a direct cause-eect relationship. A
DAG is useful by way of communicating the set of cause-eect relationships that are at work in a particular
simulation scenario.
fromD(0)
` 1andD(1)
` 1toB`in Figure 3, and notice the exibility of the proposed model in terms of
capturing cause-eect relationships. Under the simplifying Assumption 3.1, Equation (3) remains a
valid expression of the probability density function with the dierence that b 
`:= (y` 1;b` 1).
In the general case, we would like to generate a number of features from historical data, that is,
to construct a design using transformations B 
`7!fb;`(B 
`):=eB`,D 
`7!fd;`(D 
`):=eD`, and
Y 
`7!fy;`(Y 
`):=eY`, and, potentially, introduce additional exogenous covariates

X(b)
`;X(d)
`;X(y)
`
7!
f(b)
x;`(X(b)
`);f(d)
x;`(X(d)
`);f(y)
x;`(X(y)
`):=
eX(b)
`;eX(d)
`;eX(y)
`
so that (eB`;eX(b)
`) can serve as input to the demand model for generating the next demand instance
B`, (eD`;eX(d)
`) can be used in the decision model to generate D`, and (eY`;eX(y)
`) would be the input
to the outcome model for obtaining Y`. Figure 4 demonstrates the logic in three simple diagrams.
In the following sections, we describe in more detail the demand, decision, and outcome models that
we have introduced.
3.1 Demand model
We propose a two-stage model for the generation of purchase requisitions. First, a recurrent event
process, modelled with an intensity function, triggers the generation of a requisition; we may refer
to the exact time when a generation is triggered as an event time. Furthermore, we argue that
the nature of a procurement organisation allows for an independence assumption on the demand
between categories so that we can focus on one category without loss of generality. Second, once a
requisition generation has been triggered, we describe the selection of line items with a sequential
decision model.
7(a)
 (b)
(c)
Figure 4: Graphical input/output illustration of the (a) demand model, (b) decision model, and the (c)
outcome model. Each model takes as input a number of features generated from the endogenous variables of
the relative mechanism as reported in (3) as well as additional features constructed from exogenous covariates
and generates the corresponding output variable.
3.1.1 Time-to-request model
A procurement setting involves operational sites that generate recurrent purchase requisitions for dif-
ferent categories of products. One of the strategic tasks of a procurement organisation, as mentioned
in Section 1, is to segregate the products into categories so that each category can be treated inde-
pendently. Thus, we can naturally make an independence assumption which allows us to consider a
single category as our point of reference and readily generalise our analysis to all categories.
Assumption 3.2 (Independent categories) .Demand is independent across categories of products.
Suppose at time t,Ntrequisitions are sent to procurement from all operations so that, in continuous
time, there is a counting process ( Nt:t0) at work. Under the temporal ordering, it is possible to
introduce the demand process ( Bt:t0) as well as additional exogenous processes associated with
the counting process. The sequence of event times, at which requisitions are generated, is guided
by a recurrent event process which, in line with the literature on event history analysis (Cook and
Lawless, 2007; Aalen, 2008), is modelled using an intensity function (jHt), whereHtcontains
historical counts ( Ns: 0s < t ) and information exogenous to the counting process, namely, the
covariate process ( X(b)
t:t0) and historical process B 
t:= ((Bs;Ys) : 0s<t ).
Event times take values in the event time scale induced by (jHt) which is, in our case, indexed
bytand it is the calendar scale but can be ner than days, e.g., hours. Cook and Lawless (2007)
dene the intensity function, that is, the probability that a requisition is generated exactly at time
t, as
(tjHt):= lim
t!0P(Nt= 1jHt)
t(5)
8and can be used to model the generation of requisitions for some category of products at an opera-
tional site. When modelling a recurrent event process with an intensity function it is customary to
assume that no more than one requisition can be generated at a particular time instance (Cook and
Lawless, 2007; Aalen, 2008). In this study, it is easy to force the veracity of this assumption in the
rare situation that two events are generated simultaneously by assigning them a random order and
adding a very small increment to event(s) in later order.
In this study, an event time can always be identied with an operational site i= 1;:::;n and the
number of requisitions generated at that site ni; in the notation, dependence of jfromiis suppressed.
Thus, the individual unit of observation is an operational site, and an event history instance has the
form
(ti1;:::;tini:i= 1;:::;n )
where event times are grouped by operational site. Individual-specic historical information Hit,
fori= 1;:::;n , can capture the observed heterogeneity in the event times of dierent operational
sites. Furthermore, we introduce an individual-specic, potentially, time-varying, random eect it
to induce the correlation structure between individuals. Hence, we can understand an operational
siteias sending nirequisitions, over a period of interest (0 ;], at times 0 < ti1<< tini
with intensity i(jHit;it).
3.1.2 Requisitions generation model
The previous section describes an intensity model of the event times at which requisition generations
are triggered. This section takes the next step to propose a mechanism of how a requisition's line
items are lled. In more detail, the procedure of lling a requisition is seen as a sequential decision
mechanism of the joint decision about whether to keep adding line items or stop, which product
to introduce, and at what quantity. We explain the logic of the proposed mechanism in a simple
example and provide a formal expression.
Example 3.2. Suppose an agent at some operational site iis preparing the j-th requisition to be
sent from that particular site to procurement. Let ek 1:=eij;k 1represent the vector of product
ids and relative quantities already included in the requisition at step k,a(0)
k:=a(0)
ijk2f0;1gis the
decision about whether to introduce a k-th line item or not, a(1)
k:=a(1)
ijkis thek-th product id, and
qk:=qijkthe relative quantity in the case that a(0)
k= 1; ifa(0)
k= 0, the agent stops adding line items
to thej-th requisition. Initially, it is clear that e0=;anda(0)
1= 1 since no item has been added
yet. Next, the agent chooses the rst line item and, hence, e1:= (a(1)
1;q1). Now, ifa(0)
2= 1, then
e2:= (a(1)
1;q1;a(1)
2;q2)and the process continues, for instance, until K:=Kijline items are added
and the nal requisition is eij:= (a1;q1;:::;aK;qK), where, clearly, ak:= (1;a(1)
k).
The logic that is illustrated in the example above can be formalised as follows. Consider the proba-
bility density function of an instance ( qijk;aijk) factorised as
p(qijk;aijkjeij;k 1;Hitij) =p(a(0)
ijkjeij;k 1;Hitij)p(qijk;a(1)
ijkjeij;k 1;Hitij)a(0)
ijk (6)
whereeijk:= 
tij;(aij1;qij1);:::; (aijk;qijk)
denotes part of a requisition with kKij,Hitijis the
historical process explained in the previous section, and ( aij;qij):= ((aijk;qijk) :k= 1;:::;Kij) line
items relative to eij. Hence, a realisation of the form
(ei1;:::;eini:i= 1;:::;n )
9is sampled from
nY
i=1niY
j=1KijY
k=1p(qijk;aijkjeij;k 1;Hitij;itij) (7)
whereHitijcontains historical data to adjust for observed heterogeneity in the content of requisi-
tions, while the random vector itijcontrols for correlation patterns in the structure of requisitions
generated at dierent operational sites, e.g., products often requested together.
Conversion of the demand from its own time scale, guided by the time-to-request model, to calendar
days, or, in general, to a discrete time scale, is important when the decisions are carried out at
discrete stages such as calendar days. Requisitions can be grouped so that demand occurs on daily
basis
bi`:= (eij: 24(` 1)tij<24`:j= 1;:::;ni)
so thatb`:= (bi`:i= 1;:::;n ). In this study, the aim is to simulate real world procurement
operations and, thus, it is natural to think that decision-making takes place at a discrete calendar
day based time scale.
3.2 Decision model
In this section, we describe a model of the operational (purchasing) decisions, i.e., when to order and
supplier selection, in procurement. Consider a -step realisation from the system given by
(b1;d1;y1);:::; (b;d;y)
with probability density
p(b1;d1;y1;:::;b;d;yjX) =Y
`=1p(b`jb 
`;X(b)
`)p(d`jd 
`;X(d)
`)p(y`jy 
`;X(y)
`) (8)
whereX`:= (X(b)
`;X(d)
`;X(y)
`) is exogenous covariate history, y 
`:= (b`;d`;y` 1),d 
`:= (b`;d` 1;y` 1),
andb 
`:= (b` 1;y` 1). The following assumption eliminates unnecessary layers of complexity. For
instance, suppose the aim is to develop an optimal policy for processing the unresolved and new
requests. The approach could be to model the daily buyer-supplier interaction by harvesting bits
of information from placing many small orders on the same day. This might sound appealing, but
goes far beyond what is realistic and to the best of our knowledge has never been attempted.
Assumption 3.3. Every day`, all line items in the array of unresolved requests as well as the ones
arriving during the day are considered only once, in the chronological order they arrived, and all
orders are placed at once at the end of the day.
A direct concomitant of the above assumption is that outcomes or outcome beliefs about the orders
placed on a given day are available the next day. Let
I(`):=f(l;m)2f(1;1);:::; (1;M1);:::; (`;1);:::; (`;M`)g: (d(0)
lm= 0)_(l=`)g
index the set of unresolved requests on day `. For a single instance `, we may isolate the decision
mechanism
p(d`jd 
`;X(d)
`) =Y
(l;m)2I(`)p(dlmjd 
lm(`);X(d)
`)
=Y
(l;m)2I(`)p(d(0)
lm;d(1)
lmjd 
lm(`);X(d)
`) (9)
10=Y
(l;m)2I(`)p(d(0)
lmjd 
lm(`);X(d)
`)p(d(1)
lmjd 
lm(`);X(d)
`)d(0)
lm
whered 
lm(`):= 
d 
`;dl0m0: (l0;m0)2I(`) : (l0< l)_[(l0=l)^(m0< m)]
, under Assumption
3.3, contains information about line items processed at day `before line item ( l;m). Clearly, if
d(0)
lm= 0, thend(1)
lm=;, which means it is not observed and the line item index ( l;m) should enter
the setI(`+ 1), i.e., the next day's list of unresolved requests (including the ones generated on day
`+ 1).
3.3 Outcome model
Consider again Equation (8) and take an instance of the outcome variable y`. We can write its
probability density as
p(y`jy 
`;X(y)
`) =Y
(l;m)2I(`)p(ylmjy 
`;X(y)
`)d(0)
lm (10)
so that the generating mechanism of the rst stage decision, d(0)
lm, on whether to place an order
at day`for line item ( l;m), acts again as a missingness mechanism for the supplier selection and
response vector. Assumption 3.3 does not allow the values ylmto be sampled before the next day
of the corresponding supplier selection d(1)
lm.
We emphasise that the outcome variable y`contains the actual cost of line items in the orders
placed at day `, but information regarding the (delivery) lead time and quality are only the sup-
plier's estimates and can be dierent than the actual ones. We therefore introduce the following
assumption.
Assumption 3.4 (Supplier honesty) .Suppliers provide consistent estimates of the expected lead
time and quality of an order.
The above assumption alleviates the need to develop a separate model of the actual performance of
suppliers as compared to the one disclosed in their estimates as it asserts that signicant divergence
between the supplier-provided outcome estimates and the actual outcomes is not due to systemic
behavior but, rather, could only be caused by exogenous eects. Supplier honesty is a mild require-
ment as it is expected that any procurement organisation carries out a careful supplier on-boarding
process prior to allocating business.
3.4 Discrete-event simulation logic
The theory of discrete-event simulation (DES) modelling has been described extensively by Law
(2015) who suggests the collection of state variables, a simulation clock, and an event list as the
necessary components of any DES model. The simulation clock is a variable in the simulation model
which registers the current value of simulated time, and the event list contains the next time each
type of event occurs. In this section, we provide all the details of the proposed DES logic for the
procurement operations system.
The evolution of a procurement system is the sequence of transitions between states at discrete
points in time; the state of the system at time tis determined by historical demand, decisions, and
outcomes. An operational site igenerates its j-th requisition eijat timetijadding an increment
to the total count of unresolved requisitions jI(`)j, before the upcoming decision point t=`, with
`2f1;2;:::g. By the end of day `a number of requisitions has been processed and orders are placed
at the end of day `to generate the decision and outcome vectors, d`andy`, respectively.
11Table 1: Events taking place in procurement operations.
Event description Event type
The generation of a requisition 1
Decision point every calendar day 2
Termination of the simulation after calendar days 3
Supplier evaluation (honesty assessment) every 90 days 4
Order delivery 5
Five event types, that is, discrete events that take place in procurement operations are summarised
in Table 1. The rst three event types are the crucial ones, whereas the latter two are included
as potentially useful for case-specic designs, more precisely, the event types 1 and 2 drive the
evolution, whereas event type 3 signals the termination of the simulation. Event type 4 is an
evaluation routine that simply produces summary measures to monitor the performance of dierent
suppliers every quarter of a calendar year, and event type 5 represents the time an order has been
delivered.
A more technical presentation of the proposed DES model can be guided by the event graph (Law,
2015). The purpose of an event graph is to illustrate the scheduling of the event types. In our
DES model, the rst requisition generation for each operational site, the rst decision point, the
rst supplier evaluation, and the termination of the simulation are all scheduled at initialisation.
A requisition generation, a decision point, or a supplier evaluation event schedule the time of the
next event of the same sort. Moreover, a decision point event can schedule the time of the next
order delivery event too as well as the next requisition generation event. Figure 5 depicts the event
graph.
Figure 5: Event graph outline of the proposed procurement simulation model. A single jagged arrow
pointing to an event means that an event of the sort is scheduled when the simulation is initiated, whereas
multiple jagged arrows mean that an event is scheduled initially for each operational site. A thick arrow
indicates that the event type at the start schedules the next event of the type at the tip of the arrow.
124 Proposed simulation model
In this section, we provide detailed specications and algorithmic implementations of the dier-
ent components of the probabilistic model formalised in the previous section. Each section con-
tains a mathematical expression, specications, and a simulation algorithm of the corresponding
model.
4.1 Generation of request times
The rst stage of demand generation involves an intensity model to trigger the generation of requi-
sitions. Recall that products are grouped into categories which are known a priori so that a demand
model is specic to a category of products. Consider the intensity function having the multiplicative
form, parameterised by the Euclidean vector of, potentially, time-varying parameters t,
i(tjHit;i;t):=(1)
ii0(t) exp(eH>
itit) (11)
wherei0(t) is a positive-valued function called the baseline intensity, eHitare features, i.e., main
eects, higher order interactions, or basis expansions, constructed by applying transformations to
Hit, and correlation patterns between operational sites are introduced through unobserved eects
(1)
i, fori= 1;:::;n , assumed to be i.i.d. draws from the same distribution with E(1)
i= 1.
Specication
Features can be constructed from historical data Htby applying a mapping
Ht7!f(1)
b;t(Ht):=eHt
to obtain a vector of main eects as well as interactions and basis expansions.
We propose a total of six main eects plus baseline characteristics eH0that inuence the time
a requisition is generated, see Table 2. Ecient computation of such features requires operational
site-specic records of event times, lead time, and quality to be stored as the simulation is performed.
We can then simply extract the latest recorded delivery day, for every operational site i, and subtract
from the present day to obtain the rst main eect, while the second would equal the last quality
record for each i. Clearly, these two eects do not vary within a given day. However, computation of
the third feature requires the information collected during day `. Business policy shocks and market
disruptions are represented with sinc functions as we expect they would cause spikes in the demand
over narrow intervals, whereas seasonal trends are captured with calendar time harmonics. There is
no computational burden associated with the exogenous features since they are computed prior to
the simulation run.
Eventually, the unobserved eects (1)
iare taken to be Gamma distributed, for i= 1;:::;n , with
mean equal to 1, and we suggest each baseline intensity i0(t) be either parameterised as a Weibull
distribution or as a piecewise-constant function (Cook and Lawless, 2007).
Simulation
To simulate a recurrent event process with intensity function (11) and time-varying covariates, we
propose an extension of the thinning algorithm of Lewis and Shedler (1979) to accommodate observed
heterogeneity that is captured by the time-varying covariate vector eHt. Algorithm 1 simulates a
single event time tijwhen a requisition is to be generated. The algorithm requires the norm of eHt
to be bounded. The function is an upper bound on the intensity function.
13Table 2: Main eects in the intensity model constructed from historical data.
Short description Symbol Level
1 Days since latest delivery eH(1)
t Category
2 Quality of the latest delivery eH(2)
t Category
3 Number of requisitions sent over the past year eH(3)
t Category
4 Seasonal trends eH(4)
t Category
5 Business policy shock eH(5)
t Category
6 Market disruption eH(6)
t Category
7 Baseline information eH0 Operational site
Algorithm 1: Time-to-request mechanism.
Input:ti;j 1,eHit,i,
i,(1)
i,
Output: event time tij
1Settijto the previous event time ti;j 1;
2whiletijdo
3 Drawvfrom Uniform(0 ;1);
4 ifv<(1)
ii

i(tij;eHit)then
5tij tij log(v)=
i(tij);
6 break ;
7 end
8end
9-
144.2 Generation of requisitions
The second component of the demand model is concerned with the generation of requisitions. Con-
sider a requisition instance generated, according to (7), by
KY
k=1p(qk;akjek 1;Hit;i)
where we dispense with the subscripts i;j, for brevity. The value of Kis implicitly set by a sequential
two stage decision ak:= (a(0)
k;a(1)
k);a(0)
k2f0;1gindicates whether to add another line item in the
current requisition or stop, and a(1)
k2A the product identier. By Awe denote the nite set of
all discrete product identiers for a given category. Hence, we can factorise the mechanism further
as
p(qk;akjek 1;Hit;(2)
i) =p(a(0)
kjek 1;Hit)p(a(1)
kjek 1;Hit)a(0)
k
p(qkja(1)
k;ek 1;Hit;i)a(0)
k
A natural modelling choice for the rst stage decision-to-stop variable a(0)
kis the logistic regression
model with propensity score given by
logit
U(e;0)
k:=ee(0)>
k(0)
`(12)
where (ek 1;Hit)7!f(0)
e;tk(ek 1;Hit):=ee(0)
kare features derived from ( ek 1;Hit),(0)
`an Euclidean
parameter vector.
Another intuitive modelling option is to let the second stage product selection variable a(1)
kfollow a
mixed multinomial distribution with utility model
U(e;1)
k(a;w):=a(0)
k
ee(1)
k(a)>(1)
`+G>
aw
(13)
where (a;ek 1;Hit)7!f(1)
e;tk(a;ek 1;Hit):=ee(1)
k(a) are features specic to product index acomputed
from (a;ek 1;Hit), respectively, (1)
`a Euclidean parameter vector, ware random intercepts aiming
to capture co-occurrence patterns between products, and Gis a design matrix dening the correlation
groups;Gadenotes the column of Gthat corresponds to product index a. The propensity score of
selecting product ais given as
p(ajek 1;Hit;(1)
`;w):=exp
U(e;1)
k(a;w)
P
a02Aexp
U(e;1)
k(a0;w) (14)
Eventually, suppose Qijktakes non-negative integer values, for k= 1;:::;Kij, and the quantities
of dierent products and services in the same requisition are independent given the historical data,
that is,Qijk? ?Qijk0;Aijk0jAijk;Hitfor allk06=k. In this case, the quantity values can be sampled
from a mechanism of the sort
p(qja(1);ek 1;Hit;i):=KY
k=1p(qkja(1)
k;Hit;i)
Let (a(1)
k;Hit)7!f(2)
e;tk(a(1)
k;Hit):=ee(2)
k(a(1)
k) denote summary features constructed from the sub-
setHitrelevant for product index a(1)
k,$a function associated with the mapping ee(2)
k(a(1)
k)7!
$
ee(2)
k(a(1)
k):=$k, and(2)
ia random eect that induces correlation in the quantity mechanism
between dierent operational sites. In this case, the quantity values can be sampled from a random
distribution with density function
p(qja(1);ek 1;Hit;i) =KY
k=1
(2)
i$kqk
qk!exp
 (2)
i$k
(15)
15Table 3: Main eects in the requisition generation model constructed from historical data.
Short description Symbol Level
01 Number of line items in requisition ee(01)
kRequisition
02 Cost estimate of requisition ee(02)
kRequisition
11 Number of requests over the past year ee(11)
kProduct
12 Quantity delivered over the past year ee(12)
kProduct
13 Number of days since last request ee(13)
kProduct
14 Number of days since last delivery ee(14)
kProduct
15 Quality of last delivery ee(15)
kProduct
21 Quantity requested over the past year ee(21)
kProduct
22 Quantity delivered over the past year ee(22)
kProduct
x1 Seasonal trends ee(03)
k;ee(16)
k;ee(23)
kProduct
x2 Business policy shock ee(04)
k;ee(17)
k;ee(24)
kProduct
x3 Market disruption ee(05)
k;ee(18)
k;ee(25)
kProduct
x4 Baseline information ee(06)
kOperational site
x5 Baseline information ee(19)
k;ee(26)
kProduct
Specication
The requisition generation model consists of three sub-models, presented above, each of which may
require its own set of features and parameter specications. Table 3 summarises the main eects to
be considered in each model; the row numbering convention is such that the rst digit indicates a
sub-model, while the second enumerates the eects. The letter `x' is used in place of the rst digit
to indicate that the relative eect may be used by more than one model.
Two covariates are suggested to bring an eect on the decision-to-stop variable. Computation of
ee(01)
krequires storing the current number of line items in a requisition, while ee(02)
kneeds an array of
quantities and product identiers of the line items currently in the requisition as well as unit cost
estimates of the relative products, e.g., a rolling average of the most recent unit cost realisations. The
main eectsee(11)
k;:::;ee(15)
kare used in Expression (13) of the product utility model. Computation
ofee(11)
krequires that the number of requests for each product and operational site combination over
the past year is recorded. For ee(12)
ka rolling sum of the annual quantity of each product delivered at
each operational site must be maintained. Eect ee(13)
kcan be computed by keeping track of the latest
day each product was requested from each operational site. The value can be simply computed by
extracting the relative record and subtracting it from the present day. Similarly, tracing the day of
the latest delivery for each product and operational site pair would enable the computation of ee(14)
k
by subtracting the present day from the desired record. Eventually, records of the observed quality
of the latest delivery on all product and operational site pairs can be kept to be able to derive ee(15)
kby
extracting the latest record for the desired combination. Computation of main eects ee(21)
kandee(22)
k
which could inuence the quantity mechanism may require records of the total quantity requested
and ordered for each pair of product and operational site over the past year. Additional exogenous
eects can be considered in any model to incorporate the eect of seasonal trends, business policies,
market disruptions, or baseline characteristics of products and operational sites on the corresponding
decision variable. Finally, it is worth noting that Table 3 illustrates only main eects but higher
order interactions and basis expansions could also enter the modelling expression.
16Algorithm 2: Requisition generation mechanism.
Input:A,G, A,(0)
`,(1)
`,$,2,f(0)
e;t,f(1)
e;t,f(2)
e;t,Hit
Output: requisition e
1Initialisation: e ;,A A ,a0 k 1, drawwfromN(0;A) and draw (2)from Gamma(  1
2);
2foreacha2Ado
3U(e;1)(a) f(1)
e;tk(a;ek 1;Hit)>(1)
`+G>
aw;
4p(e;1)(a) exp
U(e;1)(a).P
a02Aexp
U(e;1)(a0)
;
5 Drawa(1)
kfrom a multinomial distribution over Awith propensity vector p(e;1), push it in e, and
removea(1)
kfrom A;
6 Sample the quantity qkofa(1)
kfrom a negative binomial distribution with intensity
(2)$
f(2)
e;tk(a(1)
k;Hit)
;
7U(e;0) expit
ee(0)>
k(0)
`
;
8 Drawa(0)from Bernoulli
U(e;0)
;
9 ifa(0)= 0orjAj 0then
10 break ;
11 else
12k k+ 1;
13 end
14end
The proposed choices for the functional form of $and the distribution of the random eect (2)
iare
to use a simple additive model structure parameterised with a Euclidean vector (2)
`for the former
and a Gamma distribution with mean equal to 1 for the latter.
Simulation
The logic of requisition generation in summarised in Algorithm 2; notice that the elements A,G, A,
(0)
`,(1)
`,$,2, and transformations f(0)
e;t,f(1)
e;t,f(2)
e;t, wheref()
e;tcontains all f()
e;tk, are conguration
parameters and must be provided as input along with historical data Hit. The symbolN(;) is
used to denote a normal distribution.
4.3 Decision and outcome models
4.3.1 Decision model
The decision mechanism is given in Equation (9) where we show that on a given day indexed by `
decisions are made for each line item in the array of unresolved requests. More precisely, a decision
is performed by some buyer and involves two stages, rst, whether to order the line item or not,
and, second, the selection of a supplier. The formula is repeated below:
Y
(l;m)2I(`)p(d(0)
lmjd 
lm(`);X(d)
`)p(d(1)
lmjd 
lm(`);X(d)
`)d(0)
lm
A natural choice of a model for the rst stage decision variable d(0)
lmis a logistic regression with
propensity score
logit
U(d;0)
lm
=ed(0)>
lm(0)
`(16)
17where (d 
lm(`);X(d)
`)7!
f(0)
d;lm(d 
lm(`));f(d;0)
x;`(X(d)
`):=ed(0)
lmdenotes the feature vector obtained by
transforming the historical data. Notice the implicit dependence of an index ( l;m) from the calendar
day index`since for any index ( l;m) there exists a calendar index `such that (l;m)2I(`).
For supplier selection we propose the multinomial model with utility function
U(d;1)
lm(d):=d(0)
lm
ed(1)>
lm(1)
`
(17)
where (d;d 
lm(`);X(d)
`)7!
f(1)
d;lm(d;d 
lm(`));f(d;1)
x;`(d;X(d)
`):=ed(1)
lm(d) contains features specic to
supplier option d,`is a Euclidean parameter vector, and the propensity score for choosing supplier
dis given by
p(djd 
lm(`);X(d)
`;(1)
`) =exp(U(d;1)
lm(d))
P
d0exp(U(d;1)
lm(d0))(18)
4.3.2 Outcome model
The outcome vector is modelled as a multivariate normal distribution of the sort
Ylm=ey>
lm`+(y)
lm(19)
where the mapping ( y 
`;X(y)
`)7!fy;`(y 
`;X(y)
`):=ey`can be used to construct the features eylm,`
is a Euclidean vector of parameters, and (y)
lmfollows a 3-dimensional normal distribution centered
around 0 and with covariance matrix ; notice that ey`:= (eylm: (l;m)2I(`)).
Specication
We elaborate on the ecient computation of the main eects that determine the decision-outcome
dynamics; a detailed description of these eects is given in Table 4. The eect ed(01)
lmcan be computed
using event time records for each requisition by extracting the relevant value and subtracting it from
the current day. The value of ed(02)
lmcan be obtained by continuously monitoring the number of
requisitions in the list of unresolved requests. The mode of delivery and urgency status are disclosed
in a requisition and can be retrieved with the event time of the corresponding requisition. The
latest outcome records as well as an average outcome can be traced for each product and supplier
combination. Computation of ed(13)
lmanded(14)
lmrequires maintaining an array with the total quantity of
each product allocated to each supplier, so that the former can be obtained using the desired product
and supplier combination, whereas the latter by summing over the quantity of products allocated
to the supplier at question. Once more, exogenous eects would be seasonal trends, business policy
shocks, or market disruptions, but also supplier or product baseline information.
The main eects considered in the proposed outcome model are the recent and total quantity of
products, also termed volume, allocated to the dierent suppliers. Computation of such eects
requires maintaining volume information for each supplier as the simulation is running. Historical
realisations of the outcome as well as noise terms are recorded and can be used in the outcome
model expression, e.g., as autoregressive or moving average terms. The exogenous eects, similar to
previous sections, can be seasonal trends and shocks either on product level or on product-supplier
level. All the suggested main eects for the outcome model are illustrated on Table 4. Finally, the
additive noise terms are in all cases normally distributed random variables.
18Table 4: Main eects in the decision and outcome models constructed from historical data.
Short description Symbol Level
01 Number of days since generation ed(01)
lmRequisition
02 Number of unresolved requisition ed(02)
lmTotal
03 Mode of delivery (local or stores) ed(03)
lmRequisition
04 Urgency status ed(04)
lmRequisition
11 Outcome of previous order from supplier ed(11)
lmSupplier and Product
12 Average outcome of supplier ed(12)
lmSupplier and Product
13 Product volume allocated to supplier ed(13)
lmSupplier and Product
14 Total volume allocated to supplier ed(14)
lmSupplier
21 Autoregressive terms ey(1)
lmSupplier or Product
22 Moving average terms ey(2)
lmSupplier or Product
23 Recent volume ordered from supplier ey(3)
lmSupplier
24 Total volume ordered from supplier ey(4)
lmSupplier
x1 Seasonal trends ed(05)
lm;ed(15)
lm;ey(5)
lmSupplier or Product
x2 Business policy shock ed(06)
lm;ed(16)
lm;ey(6)
lmSupplier or Product
x3 Market disruption ed(07)
lm;ed(17)
lm;ey(7)
lmSupplier or Product
x4 Baseline information ed(08)
lm;ed(18)
lm;ey(8)
lmSupplier or Product
Simulation
Operational decisions and the relative outcomes on a given day `can be simulated using Algorithm 3.
The elementsI(`);d 
`;ey`,eX(d)
`,eX(y)
`,D`,(0)
`,(1)
`,`, ,f(0)
d;`,f(1)
d;`, described in the previous
sections are needed as input to generate an instance ( d`;y`) of decisions and outcomes for the day
`.
5 Numerical experiment
One strength of the proposed framework is that it can simulate many possible scenarios by providing
the conguration. A component of the system does not have knowledge of the working models of
other components but only has access to historical records which are used to construct the features
in its formal expression(s). We illustrate a use case of the proposed framework to compare supplier
selection policies in the spot market. Our open sourced GitHub repository1can be used to reproduce
all the results presented in this section.
Consider the problem of comparing the performance of dierent supplier selection policies over a year
of operations. The user must specify the time-horizon of interest, the number of operational sites, and
expressions of the time-to-request, requisition generation, decision-to-order, and outcome models.
Moreover, a list of supplier utility models needs to be provided to induce the corresponding supplier
selection policies. For instance, suppose that stakeholders in a maritime procurement business
speculate over the amount of savings that can result from dierent supplier selection policies. The
stakeholders may wish to support their claims with simulation-based evidence.
1https://github :com/georgios-vassos1/procurement-ops
19Algorithm 3: Procurement operations mechanism.
Input:I(`),d 
`,ey`,eX(d)
`,eX(y)
`,D`,(0)
`,(1)
`,`, ,f(0)
d;`,f(1)
d;`
Output: (d`;y`)
1Initialisation: d` y` ;;
2foreach (l;m)inI(`)do
3U(d;1)
lm(d) 
f(1)
d;lm(d;d`;d 
`)>;eX(d;1)
`(d)>
(1)
`;
4 Drawd(0)
lmfrom Bernoulli( U(d;0)
lm);
5 ifd(0)
lm= 0then
6 Push (0;;) tod`;
7 continue;
8 end
9 Remove index ( l;m) fromI(`);
10 foreachd2D`do
11U(d;1)
lm(d) 
f(1)
d;lm(d;d`;d 
`)>;eX(d;1)
`(d)>
(1)
`;
12p(1)(d) exp
U(d;1)
lm(d).P
d02D`exp
U(d;1)
lm(d0)
;
13 end
14 Drawd(1)
lmfrom Mult(p(1)) and(y)
lmfromN(0;);
15 Push (1;d(1)
lm) tod`and
ey>
lm;eX(y)>
`
`+(y)
lmtoy`;
16end
In this example, we consider a maritime procurement business in a container logistics company that
operates 50 company-owned container ships for ocean transportation. The ships generate demand
over a period of 365 days and may choose between 3 products when making a requisition. Purchase
management can order the products from the spot market consisting of 2 suppliers. The stakeholders
are concerned with uctuations in the spot market and want to investigate whether the benet of
adopting dynamic supplier selection policies instead of issuing a static policy to be executed over the
year. In the following, we describe the system conguration in detail and compare the performance
of ve dierent supplier selection policies in terms of regret, that is, a measure of divergence from
the optimal policy.
5.1 Demand model
5.1.1 Time-to-request model specications
The purpose of the intensity process model is to capture the heterogeneity patterns in requisition
generation times. Heterogeneity can be due to temporal phenomena, e.g., seasonal trends, market
shocks, etc, or due to dierences between individual ships, e.g., number of crew members, model of
the ship, size of the ship, scheduled port calls, etc. In this simple numerical study, we assume that
requisition generation times are homogeneous both in time and between individuals. In particular,
we seti(t) == 90 days for all ship indices i= 1;:::; 50. Requisition generation times are, thus,
sampled from an exponential distribution with mean 1 =.
In the proposed discrete-event simulation design, the rst requisition generation time is sampled for
each ship during initialisation. Every time the requisition generation routine is invoked to create a
requisition for a given ship, it will sample the next requisition generation time for that ship.
205.1.2 Requisition generation model specications
We have seen in previous sections that upon triggering a request a requisition must be sampled from
the generation model described in Sections 3.1.2 and 4.2. In Section 3.1.2, we also mentioned a
rst-stage propensity-to-stop model which eectively controls the size of the requisitions. For ee(01)
ijk
andee(02)
ijk, refer to Table 3, we consider the nonlinear eect of the requisition size  0:1(k 1)2and
the baseline cost estimate of the requisition before adding a k-th line item. The latter is set to 0 if
the current cost estimate is less than $20 and, at a sublinear rate, falls to  120 at $500. The baseline
cost estimate for any of the 3 products is xed to $100, $50, and $50. A linear expression of this
two features and a random intercept is used in the logistic distribution to compute the propensity-
to-stop score. The random intercept is sampled once at the start of the simulation from a normal
distribution with mean 5 and variance 1 and is xed thereafter. The decision-to-stop is a draw from
a Bernoulli distribution with success rate equal to the propensity-to-stop score. The product utility
and quantity intensity models are a normal distribution with mean equal to 0 and variance 1 and a
Poisson distribution with means 0.1, 0.5, and 0.5, respectively.
It is emphasised that the proposed simulation framework can readily accommodate heterogeneity
patterns in the product utility and quantity intensity models. However, to keep this numerical
example simple, we disregard this layer to avoid unnecessary layers of complexity. The focus of this
numerical study is to compare supplier selection policies in a two-supplier dynamic sport market. An
alternative scenario could be to investigate the eect of heterogeneous demand on the total savings
of the business under a particular supplier selection policy. The proposed simulation framework can
be used to address a plethora of business inquiries.
5.2 Decision and outcome models
5.2.1 Decision-to-order model specications
The propensity-to-order model described in Sections 3.2 and 4.3 is also kept simple to avoid compli-
cating the interpretations of results in this numerical example. We sample the propensity-to-order
score every time, for each item, in the list of unresolved requests, from a uniform distribution in
[0:1;0:9]. This decision could be particularly interesting in a combined contract-spot market envi-
ronment where additional costs might be incurred if the quantity commitment is not allocated to
the contracted suppliers within the relative time frame.
5.2.2 Outcome generation model specications
We consider a 3-dimensional outcome variable containing the unit price, delivery time and quality
cost-equivalent value supposedly in USD; clearly, the cost-equivalent of delivery time is an increasing
function, whereas that of quality is a decreasing function. The latter is due to the fact that at a
given price higher quality entails a lower quality-cost. In this example, the outcome model has a
VAR(2) (vector autoregressive of order 2) structure, a short-term (past 90 days) allocation eect, a
long-term (past 365 days) allocation eect, and an annual harmonic with initial phase set to =6.
The allocation eects correspond to the total quantity ordered from the selected supplier over the
relative period of time.
215.2.3 Supplier utility model specications
At this point, having specied all the above components, we can simulate the evolution of the pro-
curement system under dierent supplier selection policies. In particular, we compare ve dierent
policies, namely, always selecting suppler index 1 (Supplier.1), always selecting supplier index 2
(Supplier.2), selecting at random (Random), selecting based on a random utility model (Utility),
and selecting using a contextual mutli-armed bandit model (Bandit). The random utility model
resembles a static supplier selection policy in that it is parameterised by an Euclidean vector that is
xed throughout the simulation. It is worth noting that the random utility and bandit models have
strongly misspecied knowledge of the outcome generation mechanism based on solely observing the
seasonal eect out of the many that inuence the outcome dynamics.
The success measure that is used to compare the dierent policies is the regret and is dened as
the dierence between the optimal outcome and the outcome observed under the eective policy.
The optimal outcome is computed by a working oracle that has knowledge of the true outcome
distribution and, thus, always makes the optimal selection. The parameters of the bandit model
are updated using the well-known Bayesian regression rule (Gelman et al., 2013, Part IV). The
exploration-exploitation behavior of the bandit is regulated using Thompson Sampling (Russo et al.,
2017). This is very important for the bandit to keep adapting to the changing dynamics of the spot
market environment.
The bandit maintains a utility model parameterised by an Euclidean vector (cmab )
`2R36which
stacks the parameters of all product-supplier outcome models. In more detail, for each of the 3
products there are two arms (supplier alternatives) each with an expected cost, lead time, and
quality outcome. Each of the 18 stacked models is aliated 2 parameters for the intercept and the
observed seasonal eect. The information that must be available to compute the supplier utility with
the bandit model is termed the context. Generally, the context can be understood as the summary
measures
ed(1)
lm=
f(1)
d;lm(d;d`;d 
`)>;eX(d;1)
`(d)>>
The distribution of (cmab )
`is initialised to the multivariate normal distribution with mean 0(361)
and variance equal to 70 I(3636), where 0(361)is a vector of 36 zeros and I(3636)is the 3636
identity matrix. Below we summarise the logic of Thompson Sampling for a given line item ( l;m).
It requires as input the context variable ed(1)
lmand current distribution of (cmab )
`, denotedP, and
can readily replace lines 11 and 12 in Algorithm 3. The steps are:
1. Draw(cmab )
`fromP
2. For each d2f1;2gsetU(d;1)
lm(d) toed(1)>
lm(cmab )
`
3. Setdlmto the value dthat maximises U(d;1)
lm(d)
4. UpdatePju0(ylm;dlm)
The regret corresponding to ( l;m) is easily computed by subtracting U(d;1)
lm(d) fromu0(ylm;dlm).
The utility is set to the inner product of the true outcome and a weighting rule; in this example,
the weights are xed to (0 :5;0:25;0:25). This combination is needed to convert the 3-dimensional
outcome to a single welfare measure. The weight vector can be seen as a hyperparameter and can
either be tuned with data or chosen based on domain expert knowledge.
We perform 1000 Monte Carlo simulations of the system dynamics, under the conguration described
in this section, for every one of the ve competing supplier selection policies. As expected, the
22(a)
 (b)
Figure 6: (a) Box plots of the total regret accumulated under ve dierent supplier selection policies. Ran-
dom policy means choosing a supplier at random, Supplier.1 and Supplier.2 correspond to always choosing
the supplier with id 1 or 2, respectively, Utility is the random utility maximiser and Bandit is the contextual
multi-armed bandit with access to the same information as the utility maximiser. (b) Spaghetti plots of the
cumulative regret trajectory of the random utility maximising and contextual bandit policies.
random utility and bandit models had better performance than the three naive benchmarks. By
and large, contextual multi-armed bandits have outperformed the rational utility maximisers, thus,
conrming that data-driven decision-makers are benecial in dynamic environments compared to
their static alternatives. Figure 6 (a) illustrates the terminal regret values incurred under the ve
dierent policies, whereas Figure 6 (b) depicts the cumulative regret values incurred daily during
the study period. Clearly, contextual multi-armed bandits are quite robust both to severe lack
of knowledge of the true outcome distribution but also to the dynamics of the environment. We
believe that many such advantages are to be expected from shifting to advanced machine learning
methods.
6 Conclusion and future works
This study develops a exible framework for the simulation of procurement operations with a prob-
abilistic model of operations and the generation of demand. Based on the lack of such unied
modelling approach in procurement and given the success of PODS in airline revenue management,
we tailor the logic of PODS to the procurement business. We have distinguished three main compo-
nents of the evolutionary mechanism, namely, demand, decision, and outcome models, and described
how data are generated by providing modelling choices and their assumptions. The nature of de-
mand is given as a two-stage mechanism including a time-to-request and a requisition generation
component. Models are proposed for the two most important operational decisions and three out-
comes of interest in procurement. A discrete-event simulation logic is suggested to inform a software
implementation of our simulation framework. Specic suggestions are made about input eects,
modelling expressions, and algorithms to enable the implementation of our models using software.
Finally, the simulation is used in a numerical experiment to investigate the performance of dierent
supplier selection policies. Our results show that data-driven decision-makers, in particular, contex-
tual multi-armed bandits, outperform rational utility maximisers in a dynamic spot market.
23We believe that our eort can serve as the starting point for more statistical learning oriented
research in the optimisation of decision-making in procurement systems, similar to PODS has led
in the eld of airline revenue management. In particular, many study cases can be made for tuning
the parameters of our proposed models with observational data, e.g., learning the parameters of the
demand model to understand the demand generation mechanism, the nature of demand can be of
interest, by itself, for optimising inventory policies in warehouses used by the procurement business,
and, as argued repeatedly in this study, to optimise the two key operational decisions, namely,
when to place an order and supplier selection. However, to optimise the operational decisions
a working model of the outcome is needed, thus, another interesting study case could be based on
learning the parameters of the outcome model from observational data with continuous or categorical
outcomes and potentially with some additional correlation structure. Learning the nature of the
outcome mechanism is essential to the optimisation of when-to-order and supplier selection policies,
we also tried to touch upon this topic through our insight in the case study. Furthermore, optimal
policy learning and decision optimisation studies can be made by using postulated or estimated
congurations of the demand and outcome models. Notice that, as with PODS, the decision-making
component does not have access to the outcome model that is actually at work in the system but
has access to a cost or reward model which induces a decision policy. For instance, one can start
with an initial conguration of the decision-maker's cost model and apply online learning to obtain
an optimal policy. Moreover, the estimation of an initial policy from observational data is also a
case that can denitely be of interest. We conclude by stressing once more that with this work it is
our hope to spark future research in procurement towards more exible solutions, similar to PODS
in the airline revenue management.
Notation
In this section we explain some notation conventions that we have used to obtain more compact
expressions. Due to the fact that we are concerned with an evolutionary system our observations
have a panel structure of the sort
Z1;Z2;:::;Z
when factorizing the probability density expression of such an observation we use the following
convention
p(Z1;:::;Z) =Y
i=1p(ZijZ1;:::;Zi 1)
=Y
i=1p(ZijZi 1)
withZ0=;. When there are more than two components of interest in Z, e.g.,Z:= (X;A;Y ), in
temporal order, then we write
Y
i=1p(ZijZi 1) =Y
i=1p(Xi;Ai;YijXi 1;Ai 1;Yi 1)
=Y
i=1p(YijXi;Ai;Yi 1)p(AijXi;Ai 1;Yi 1)p(XijXi 1;Ai 1;Yi 1)
=Y
i=1p(YijY 
i)p(AijA 
i)p(XijX 
i)
24whereY 
i:= (Xi;Ai;Yi 1),A 
i:= (Xi;Ai 1;Yi 1), andX 
i:= (Xi;Ai 1;Yi 1). Furthermore,
when we report a modelling expression we might want to construct a design matrix that could be
enriched with interaction terms, basis expansions, and transformations of the main eects included,
for instance, in Y 
i. In such cases, we use a transformation mapping fy;iindexed both by the relative
variable and by time, the latter because we could transform an expanding window of the past, and
denote byeYitthe variable obtained from the mapping Y 
i7!fy;i(Y 
i).
Uppercase Latin letters are used to denote matrices, random variables, and simulated realizations
in the pseudocode. Uppercase calligraphy Latin letters are used to denote sets. Lowercase Greek
letters are used for unobserved eects and their simulated realizations in the pseudocode but also for
congurable parameters. For features which are constructed from functions of observed and random
variables, we use lowercase Latin characters with a tilde on top. In general, we use lowercase
Latin characters for observed realizations of a random variable when the focus is on the generation
mechanism.
References
Aalen, O. (2008). Survival and Event History Analysis, Statistics for Biology and Health . Springer.
Abbasi, B., Babaei, T., Hosseinifard, Z., Smith-Miles, K., and Dehghani, M. (2020). Predicting
solutions of large-scale optimization problems via machine learning: A case study in blood supply
chain management. Computers & Operations Research , 119:104941.
Akcay, A. and Corlu, C. G. (2017). Simulation of inventory systems with unknown input models: a
data-driven approach. International Journal of Production Research , 55(19):5826{5840.
Bertsimas, D. and Kallus, N. (2017). The power and limits of predictive approaches to observational-
data-driven optimization. arXiv .
Bertsimas, D. and Kallus, N. (2020). From predictive to prescriptive analytics. Management Science ,
66(3):1025{1044.
Bollapragada, R., Kuppusamy, S., and Rao, U. S. (2015). Component procurement and end product
assembly in an uncertain supply and demand environment. International Journal of Production
Research , 53(3):969{982.
Chan, F. T., Shukla, M., Tiwari, M. K., Shankar, R., and Choy, K. L. (2011). B2B multi-attribute
e-procurement: an articial immune system based goal programming approach. International
Journal of Production Research , 49(2):321{341.
Chen, F.-H. (2015). Application of a hybrid dynamic MCDM to explore the key factors for the inter-
nal control of procurement circulation. International Journal of Production Research , 53(10):2951{
2969.
Chibani, A., Delorme, X., Dolgui, A., and Pierreval, H. (2018). Dynamic optimisation for highly
agile supply chains in e-procurement context. International Journal of Production Research ,
56(17):5904{5929.
Chilmon, B. and Tipi, N. S. (2020). Modelling and simulation considerations for an end-to-end
supply chain system. Computers & Industrial Engineering , 150:106870.
25Cook, R. J. and Lawless, J. F. (2007). Statistical Analysis of Recurrent Events . Springer.
Dai, W., Yang, Z., Feng, Y., and Zheng, M. (2020). Real-time procurement policy with yield and
price uncertainty. International Journal of Production Research , 58(3):758{782.
Dey, K., Roy, S., and Saha, S. (2019). The impact of strategic inventory and procurement strate-
gies on green product design in a two-period supply chain. International Journal of Production
Research , 57(7):1915{1948.
Dickson, G. W. (1966). An analysis of vendor selection systems and decisions. Journal of Purchasing ,
2(1):5{17.
Fontes, D. B. (2008). Fixed versus exible production systems: A real options analysis. European
Journal of Operational Research , 188(1):169{184.
Fry, D. (2015). Demand driven dispatch and revenue management.
Gelman, A., Carlin, J. B., Stern, H. S., and Rubin, D. B. (2013). Bayesian data analysis . Chapman
& Hall/CRC, 3 edition.
Ghadge, A., Kidd, E., Bhattacharjee, A., and Tiwari, M. K. (2019). Sustainable procurement
performance of large enterprises across supply chain tiers and geographic regions. International
Journal of Production Research , 57(3):764{778.
Ghadimi, P., Azadnia, A. H., Heavey, C., Dolgui, A., and Can, B. (2016). A review on the
buyer{supplier dyad relationships in sustainable procurement context: past, present and future.
International Journal of Production Research , 54(5):1443{1462.
Govindan, K. and Cheng, T. C. E. (2018). Advances in stochastic programming and robust opti-
mization for supply chain planning. Computers & Operations Research , 100:262{269.
Ha, C., Jun, H.-B., and Ok, C. (2018). A mathematical denition and basic structures for supply
chain reliability: A procurement capability perspective. Computers & Industrial Engineering ,
120:334{345.
Haehl, C. and Spinler, S. (2018). Capacity expansion under regulatory uncertainty: A real options-
based study in international container shipping. Transportation Research Part E: Logistics and
Transportation Review , 113:75{93.
Hamdi, F., Ghorbel, A., Masmoudi, F., and Dupont, L. (2018). Optimization of a supply port-
folio in the context of supply chain risk management: literature review. Journal of Intelligent
Manufacturing , 29(4):763{788.
He, B., Huang, H., and Yuan, K. (2016). Managing supply disruption through procurement strategy
and price competition. International Journal of Production Research , 54(7):1980{1999.
Hegedus, M. G. and Hopp, W. J. (2001). Setting procurement safety lead-times for assembly systems.
International Journal of Production Research , 39(15):3459{3478.
Hern an, M. A. and Robins, J. M. (2020). Causal Inference: What If . Chapman & Hall/CRC.
Hu, X., Munson, C. L., and Fotopoulos, S. B. (2012). Purchasing decisions under stochastic prices:
Approximate solutions for order time, order quantity and supplier selection. Annals of Operations
Research , 201(1):287{305.
26Johnson, M. D., Sawaya, W. J., and Natarajarathinam, M. (2013). A methodology for modelling
comprehensive international procurement costs. International Journal of Production Research ,
51(18):5549{5564.
Kanyalkar, A. P. and Adil, G. K. (2010). A robust optimisation model for aggregate and detailed
planning of a multi-site procurement-production-distribution system. International Journal of
Production Research , 48(3):635{656.
Karaba g, O. and G okg ur, B. (2022). Integrated optimisation of pricing, manufacturing, and procure-
ment decisions of a make-to-stock system operating in a uctuating environment. International
Journal of Production Research , 0(0):1{28.
Khemiri, R., Elbedoui-Maktouf, K., Grabot, B., and Zouari, B. (2017). A fuzzy multi-
criteria decision-making approach for managing performance and risk in integrated procure-
ment{production planning. International Journal of Production Research , 55(18):5305{5329.
Larsen, E., Lachapelle, S., Bengio, Y., Frejinger, E., Lacoste-Julien, S., and Lodi, A. (2018). Pre-
dicting solution summaries to integer linear programs under imperfect information with machine
learning. arXiv preprint arXiv:1807.11876 .
Law, A. M. (2015). Simulation Modeling & Analysis . McGraw-Hill, New York, NY, USA, 5th
edition.
Lewis, P. A. W. and Shedler, G. S. (1979). Simulation of nonhomogeneous poisson processes by
thinning. Naval Research Logistics Quarterly , 26(3):403{13.
Lodi, A., Mossina, L., and Rachelson, E. (2020). Learning to handle parameter perturbations in
combinatorial optimization: An application to facility location. EURO Journal on Transportation
and Logistics , 9(4):100023.
Mart nez-de Alb eniz, V. and Simchi-Levi, D. (2005). A portfolio approach to procurement contracts.
Production and Operations Management , 14(1):90{114.
Mogale, D. G., Ghadge, A., Kumar, S. K., and Tiwari, M. K. (2020). Modelling supply chain
network for procurement of food grains in india. International Journal of Production Research ,
58(21):6493{6512.
Mula, J., Campuzano-Bolarin, F., D az-Madro~ nero, M., and Carpio, K. M. (2013). A system dy-
namics model for the supply chain procurement transport problem: comparing spreadsheets,
fuzzy programming and simulation approaches. International Journal of Production Research ,
51(13):4087{4104.
Nguyen, T., Zhou, L., Spiegler, V., Ieromonachou, P., and Lin, Y. (2018). Big data analytics in
supply chain management: A state-of-the-art literature review. Computers & Operations Research ,
98:254{264.
Nie, X., Boyac, T., G um u s, M., Ray, S., and Zhang, D. (2017). Joint procurement and demand-side
bidding strategies under price volatility. Annals of Operations Research , 257(1):121{165.
Niu, B., Mu, Z., and Chen, L. (2021). Procurement sharing decision for sustainable and regular
products in a multi-tier production system. International Journal of Production Research , 0(0):1{
22.
27Oh, S., Yang, H., and Kim, S. W. (2014). Managerial capabilities of information technology and rm
performance: role of e-procurement system type. International Journal of Production Research ,
52(15):4488{4506.
Pal, A., Chan, F. T., Mahanty, B., and Tiwari, M. K. (2011). Aggregate procurement, production,
and shipment planning decision problem for a three-echelon supply chain using swarm-based
heuristics. International Journal of Production Research , 49(10):2873{2905.
Peters, J., Janzing, D., and Schlkopf, B. (2017). Elements of Causal Inference: Foundations and
Learning Algorithms . The MIT Press.
Powell, W. B. (2019). A unied framework for stochastic optimization. European Journal of Oper-
ational Research , 275(3):795{821.
Prince, M., Geunes, J., and Smith, J. C. (2013). Procurement allocation planning with multiple
suppliers under competition. International Journal of Production Research , 51(23-24):6900{6922.
Rao, C., Xiao, X., Goh, M., Zheng, J., and Wen, J. (2017). Compound mechanism design of supplier
selection based on multi-attribute auction and risk management of supply chain. Computers and
Industrial Engineering , 105:63{75.
Reiner, G., Jammernegg, W., and Gold, S. (2014). Raw material procurement with uctuating
prices using speculative inventory under consideration of dierent contract types and transport
modes. International Journal of Production Research , 52(22):6557{6575.
Russo, D., Van Roy, B., Kazerouni, A., and Osband, I. (2017). A Tutorial on Thompson Sampling.
CoRR , abs/1707.02038.
Shahriari, B., Swersky, K., Wang, Z., Adams, R. P., and de Freitas, N. (2016). Taking the human
out of the loop: A review of Bayesian optimization. Proceedings of the IEEE , 104(1):148{175.
Sun, Y., Guo, S. C., and Li, X. (2022). An order-splitting model for supplier selection and order
allocation in a multi-echelon supply chain. Computers & Operations Research , 137:105515.
Sutton, R. S. and Barto, A. G. (2018). Reinforcement Learning: An Introduction . The MIT Press,
second edition.
Szyma nski, B., Belobaba, P. P., and Papen, A. (2021). Continuous pricing algorithms for airline rm:
revenue gains and competitive impacts.
Talluri, S., Narasimhan, R., and Viswanathan, S. (2007). Information technologies for procurement
decisions: a decision support system for multi-attribute e-reverse auctions. International Journal
of Production Research , 45(11):2615{2628.
Tao, J., Shao, L., Guan, Z., Ho, W., and Talluri, S. (2020). Incorporating risk aversion and fairness
considerations into procurement and distribution decisions in a supply chain. International Journal
of Production Research , 58(7):1950{1967.
Torabi, S. A. and Hassini, E. (2009). Multi-site production planning integrating procurement and
distribution plans in multi-echelon supply chains: an interactive fuzzy goal programming approach.
International Journal of Production Research , 47(19):5475{5499.
28Wang, K. K., Wittman, M. D., and Bockelie, A. (2021). Dynamic oer generation in airline revenue
management.
Weatherford, L. R. (2017). Intelligent aggressiveness: Using forecast multipliers, hybrid forecasting,
fare adjustment, and unconstraining methods to increase revenue*. Decision Sciences , 48(3):391{
419.
Weber, C. A., Current, J. R., and Benton, W. (1991). Vendor selection criteria and methods.
European Journal of Operational Research , 50(1):2{18.
Wittman, M. D. and Belobaba, P. P. (2016). Customized oers in airline revenue management. 56th
Annual Agifors Symposium .
Xie, Z., Park, C. S., and Zheng, L. (2013). Procurement models under purchase price uncertainty
for chinese oil reneries. International Journal of Production Research , 51(10):2952{2968.
Xie, Z. X. and Zheng, L. (2013). A Bayesian learning approach for making procurement policies
under price uncertainty. 19th International Conference on Industrial Engineering and Engineering
Management: Assistive Technology of Industrial Engineering , pages 1{10.
Yaghin, R. G. and Goh, M. (2021). Procurement, production, and price planning under visibility and
risk: a generalised benders decomposition method. International Journal of Production Research ,
59(18):5626{5646.
Yoon, J., Talluri, S., and Rosales, C. (2020). Procurement decisions and information sharing un-
der multi-tier disruption risk in a supply chain. International Journal of Production Research ,
58(5):1362{1383.
Zhang, J., Chan, F. T., and Xu, X. (2022). Data-driven analysis on optimal purchasing decisions in
combined procurement. International Journal of Production Research , 0(0):1{14.
Zhang, J.-l. and Chen, J. (2013). Supplier selection and procurement decisions with uncer-
tain demand, xed selection costs and quantity discounts. Computers & Operations Research ,
40(11):2703{2710.
Zheng, M., Zhou, H., Jiang, P., Pan, E., Zhao, S., and Wu, K. (2021). Supplier selection problem
for multiple projects with uncertain demand and project life cycles. Computers & Operations
Research , 132:105312.
29