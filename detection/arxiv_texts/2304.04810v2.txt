arXiv:2304.04810v2  [math.AC]  10 Jan 2024CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
OLEKSANDRA GASANOVA*, LISA NICKLASSON†
*Universit¨ at Duisburg-Essen
†M¨ alardalens universitet
Abstract. We introduce a family of toric algebras deﬁned by maximal cha ins
of a ﬁnite distributive lattice. Applying results on stable set polytopes we con-
clude that every such algebra is normal and Cohen-Macaulay, and give an
interpretation of its Krull dimension in terms of the combin atorics of the un-
derlying lattice. When the lattice is planar, we show that th e corresponding
chain algebra is generated by a sortable set of monomials and is isomorphic
to a Hibi ring of another ﬁnite distributive lattice. As a con sequence it has
a deﬁning toric ideal with a quadratic Gr¨ obner basis, and it sh-vector counts
ascents in certain standard Young tableaux. If instead the l attice has dimen-
sionn >2, we show that the deﬁning ideal has minimal generators of de gree
at least n.
Introduction
In this note we study toric algebras arising from maximal chains of ﬁn ite dis-
tributive lattices. Toric rings deﬁned by combinatorial objects is an emerging area
of research, motivated by its thriving interplay between toric geom etry, combina-
torics, and commutative algebra. Edge rings of graphs ([10, Sectio n 5], [16], [19]),
base rings of matroids ([3], [26]), Hibi rings of posets ([8], [12]), and rin gs of stable
set polytopes ([14]) are some examples of such algebras. In the pre sent paper we
introduce a new class of algebras of this type, namely those deﬁned by maximal
chains of ﬁnite distributive lattices.
Given a ﬁnite distributive lattice L, we identify its elements with variables in
a polynomial ring over a ﬁeld K. Each maximal chain of elements in Lis then
associated with a monomial, and we let K[CL] denote the chain algebra generated
by these monomials. The goal is then to explore the properties of th e chain algebra
in connection to the combinatorial properties of L. WhenLis planar it turns out
thatthealgebraisisomorphictoaHibiringdeﬁnedbyanintervalofY oung’slattice.
A connection to stable set polytopes enables us to draw conclusions in the general
case, in particular it follows that chain algebras are normal and Cohe n-Macaulay.
Moreover, a neat formula for the dimension of a chain algebra is obta ined.
This paper is organised as follows. Section 1 reviews necessary back ground on
lattices, graphs, convex polytopes, Hibi rings, and sortable sets of monomials.
In Section 2 we introduce the notion of a chain algebra K[CL] of a ﬁnite distribu-
tive lattice Land explain the connection of such algebras to stable set polytopes .
E-mail address :oleksandra.gasanova@uni-due.de, lisa.nicklasson@mdu. se.
2020Mathematics Subject Classiﬁcation. Primary: 13F65; Secondary: 13H10, 06A11.
12 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
Indeed, it is not hard to see that any chain algebra is the toric algebr a of a speciﬁc
face of the stable set polytope of the co-comparability graph of L. This implies
normality and Cohen-Macaulayness of any chain algebra and allows to bound from
above the degrees of minimal generators of its deﬁning ideal. We also bound from
below the maximal degree of a minimal generator of this ideal, and com pute the
Krull dimension of a chain algebra in terms of L.
Section 3 is dedicated to the study of chain algebras of planar ﬁnite d istributive
lattices. The highlight of this paper is Theorem 3.4 which says that the following
are equivalent for a ﬁnite distributive lattice L:
(1)Lis planar,
(2)K[CL] can be generated by a sortable set of monomials,
(3) The deﬁning ideal of K[CL] has a quadratic Gr¨ obner basis with respect to
DegRevLex,
(4) The deﬁning ideal of K[CL] is quadratically generated,
(5)K[CL] is Koszul,
(6)K[CL] is a Hibi ring.
Since the chain algebra of a planar ﬁnite distributive lattice Lcan be seen as
a Hibi ring of another distributive lattice L′, it is then natural to talk about L′
itself. It turns out that elements of L′are maximal chains of L, and that L′can
in fact be identiﬁed with an interval of Young’s lattice. In addition, we discuss a
combinatorial interpretation of the Hilbert series and an alternativ e interpretation
of the Krull dimension formula for the planar case.
Inspired by the connection to Hibi rings and sortable sets of monom ials, in
Section 4 we take a detour to closely study the connection between Hibi rings and
sortable sets of monomials.
1.Background
In this section we provide a quick review of necessary background o n posets and
lattices, graph theory, integral convex polytopes, Hibi rings, an d sortable sets of
monomials.
1.1.Posets and lattices. Here we will review the deﬁnitions and basic properties
of posets and lattices. For further reading we recommend [21]. A partially ordered
setP(orposet, for short) is a set, together with a binary relation /precedesequal(or/precedesequalPwhen
thereisapossibilityofconfusion), satisfyingthe axiomsofreﬂexivit y,antisymmetry
and transitivity. In this paper all the posets will be ﬁnite.
Aninduced subposet ofPis a subset QofPendowed with a partial order
≺Qsuch that for u1,u2,∈Qwe have u1≺Qu2if and only if u1≺Pu2. Two
posetsPandQareisomorphic , denoted P∼=Q, if there exists an order preserving
bijection φ:P→Q, whose inverse is also order preserving, that is, u1/precedesequalPu2⇔
φ(u1)/precedesequalQφ(u2). Foru1,u2∈Pwe say that u1coversu2(oru2is covered byu1)
denoted u2≺·u1, ifu2≺u1and no element u∈Psatisﬁesu2≺u≺u1.
AchainofPis an induced subposet in which any two elements are comparable.
Anantichain ofPis an induced subposet in which no two elements are comparable.
A chain of Pis called maximal if it is not contained in a larger chain of P. The
widthof a poset is the number of elements in the largest antichain of P. By
Dilworth’s theorem ([7, Theorem 1.1]), it is also the smallest number of d isjoint
chains needed to cover P. If every maximal chain of a ﬁnite poset Phas the sameCHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES 3
lengthr, then we say that Pispure. In this case there is a unique rank function
rank :P→ {0,1,...,r}such that rank( u) = 0 ifuis a minimal element of P, and
rank(u2) = rank( u1)+1 ifu1≺·u2inP. We will also say that Phas rank r. For
an arbitrary poset Pits rank is deﬁned as the length of its longest chain.
Foru1,u2∈Pajoinofu1andu2is an element a∈Psuch that a/{ollowsequalu1and
a/{ollowsequalu2, and such that any other element a′with the same property satisﬁes a′/{ollowsequala.
If a join of u1andu2exists, it is clearly unique, and is denoted by u1∨u2. Dually,
one can deﬁne the meetu1∧u2, when it exists. A latticeis a poset for which
every pair of elements has a meet and a join. An element of a ﬁnite latt ice is called
join-irreducible if it covers exactly one element, and meet-irreducible if it is covered
by exactly one element. A lattice is called distributive if the operations ∨and∧
distribute over each other.
Anidealof a poset Pis a subset IofPsuch that if u1∈Iandu2/precedesequalu1, then
u2∈I. In other words, an ideal is a downward closed subset of P. The set J(P)
of ideals of Pis a poset, ordered by inclusion. Since the union and intersection of
ideals is again an ideal, it follows that J(P) is a lattice with the join of two ideals
being their union, and the meet being their intersection. From the we ll-known
distributivity of set union and intersection over one another it follow s thatJ(P) is
in fact a distributive lattice. Birkhoﬀ’s fundamental theorem for ﬁn ite distributive
lattices states that the converse is true when Pis ﬁnite.
Theorem 1.1 (Birkhoﬀ) .LetLbe a ﬁnite distributive lattice. Then L∼=J(P),
wherePis the induced subposet of join-irreducible elements of L.
Thedimension of a lattice L∼=J(P) is deﬁned to be the width of P. This is
well deﬁned as J(P)∼=J(Q) if and only if P∼=Q([21, Proposition 3.4.2]). We
say that Lisplanarif dim(L)≤2.
It is also useful to keep in mind the following:
Theorem 1.2 ([21, Proposition 3.4.5]) .IfPis a ﬁnite poset, then J(P)is pure
of rank|P|. The rank of an element of J(P)is its cardinality as an ideal of P.
1.2.Some graph theory. LetG= (V,E) be a ﬁnite simple graph. An induced
subgraph H= (V′,E′) ofGis a graph with the vertex set V′⊆Vand the edge set
E′⊆Esuch that every edge in Ewith both ends in V′must also be an edge of
E′. Aninduced cycle of graph Gis an induced subgraph which is a cycle. A perfect
matching of a graph is a set of edges such that each vertex is contained in exa ctly
one edge from this set.
A subset W⊆Vis called stable(orindependent ) if{i,j} /\e}a⊔io\slash∈Efor alli,j∈W.
In other words, a stable set in GisW⊆Vsuch that no pair of vertices from Ware
adjacent. Dually, a cliqueinGisW⊆Vsuch that every pair of diﬀerent vertices
fromWare adjacent.
We say that a graph G= (V,E) isbipartite ifVcan be partitioned into two
stable sets, or equivalently if Ghas no induced cycle of odd length.
Acolouring ofGis a labelling of Vwith colours such that no two adjacent
vertices have the same colour. The smallest number of colours need ed to colour G
is called its chromatic number . If for any induced subgraph H⊂Gthe chromatic
number of Hequals the size of the largest clique in H, then we say that Gis a
perfect graph .
LetPbe a poset with the underlying set {t1,...,ts}. The (co-)comparability
graph of Pis a graph GwithV(G) ={1,...,s}and{i,j} ∈E(G) if and only if4 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
i/\e}a⊔io\slash=jandtiandtjare (in)comparable. According to Dilworth’s theorem [7], any
co-comparability graph is perfect, which we will use later in the paper .
1.3.Integral convex polytopes. LetQ⊂Rsbe an integral convex polytope,
that is, a convex polytope whose vertices have integer coordinate s, and let Q∩Zs=
{a1,...,am}. LetK[X,X−1,t] =K[x1,x−1
1,...,x s,x−1
s,t]. Given an integer vec-
tora= (a1,...as)∈Zs, wesetXat=xa1
1···xass·t∈K[X,X−1,t]. Then, the toric
algebraofQis the subalgebra K[Q]ofK[X,X−1,t] generatedby {Xa1t,...,Xamt}
overK. The toric ideal IQofQis the kernel of a surjective homomorphism
π:K[y1,...,y m]→K[P] deﬁned by π(yi) =Xaitfor 1≤i≤m.
Anintegralconvexpolytopeiscalled compressed ifallofitspullingtriangulations
are unimodular (see [22] for details). Equivalently ([24]), a compress ed polytope
is an integral convex polytope Qsuch that the initial ideal of IQwith respect
to any reverse lexicographic monomial order on K[y1,y2,...,y m] is generated by
squarefreemonomials. If Qis compressed, then all faces of Qare again compressed.
1.4.Hibi rings. LetLbe a ﬁnite lattice and S=K[xa|a∈L] a polynomial ring
over a ﬁeld K. TheHibi ring ofL, denoted K[L], is the quotient ring S/Iwhere
Iis the ideal generated by all binomials xaxb−xa∧bxa∨bfora,b∈L. These rings
were introduced by Hibi in [12], where he proves that K[L] is toric if and only if
Lis distributive, and in this case K[L] is a normal Cohen-Macaulay domain. All
Hibi rings considered in this paper will be deﬁned by distributive lattice s.
Another result from [12] is that the Hibi ring of a ﬁnite distributive lat tice
L=J(P) is Gorenstein if and only if Pis pure. It is also known that reg K[L] =
|P| −rank(P)−1 and dim( K[L]) =|P|+ 1. For these and more results on Hibi
rings the reader may consult the survey [8].
Let us index the elements of P={p1,...,p d}so thatpi≺pjimpliesi < j.
In other words, we are giving Pa natural labelling. Let L(P) be the set of linear
extensions of P, meaning the set of bijections w:P→ {1,2,...,d}respecting
the partial order on P. Adescentofwis an index isuch that w(pj) =iand
w(pk) =i+ 1 where j > k, and des( w) denotes the number of descents of w.
Let Ω P(m) denote the function counting the number of order-preserving m aps
P→ {0,...,m}. This function is in fact a polynomial of degree |P|and is called
the order polynomial ofP. With the natural labelling we ﬁxed above and using
equation (3.65) in Stanley’s book [21] one obtains (note that Stanley uses a slightly
diﬀerent deﬁnition for Ω P(m)):
(1)/summationdisplay
m≥0ΩP(m)zm=/summationtext
w∈L(P)zdes(ω)
(1−z)d+1.
It is pointed out in [11, Proposition 2.3] that the expression (1) equ als the Hilbert
series of the Hibi ring of a L=J(P). AsK[L] is a Cohen-Macaulay domain, the
h-vector is symmetric if and only if the ring is Gorenstein.
1.5.Sortable monomial sets. Letrbe a positive integer and let Srbe the
K-vector space spanned by the monomials of degree rin the standard graded
polynomial ring S=K[t1,...,ts]. Take two monomials u1,u2∈Sr. We write
u1u2=ti1ti2···ti2rwith 1≤i1≤i2≤...≤i2r≤sand deﬁne
v1=ti1ti3···ti2r−1, v2=ti2ti4···ti2r.CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES 5
The pair ( v1,v2) is called the sortingof (u1,u2). Sorting pairs of monomials in
this way deﬁnes a map sort : Sr×Sr→Sr×Sr. A subset B⊆Srof monomials
is called sortable if sort(B×B)⊆B×B. A pair ( u1,u2) is called sortedif
sort(u1,u2) = (u1,u2). Sincesort( u1,u2) = sort( u2,u1), wewill sometimesconsider
unorderedpairsandsaythat {u1,u2}issortedifeither( u1,u2)or(u2,u1)isasorted
pair.
LetB={u1,...,u m} ⊂Srbe a sortable set of monomials and let K[B] be the
algebra generated by B. LetR=K[T1,...,T m] and let φ:R→K[B] be the
surjective K-algebra homomorphism deﬁned by Ti/maps⊔o→uifor alli= 1,...,m. Then
K[B]∼=R/IBwhereIB= ker(φ).
A monomial order >onRis called a sorting order ifTiTj> TkTℓwhen
sort(ui,uj) = (uk,uℓ).
Theorem 1.3 ([24, Theorem 14.2]) .LetB={u1,...,u m}be a sortable set of
monomials and let
(2)G=/braceleftig
TiTj−TkTℓ:{ui,uj}not sorted ,(uk,uℓ) = sort( ui,uj)/bracerightig
⊂R.
Then a sorting order on Rexists, and Gis a reduced Gr¨ obner basis of IBw.r.t.
any sorting order.
Remark 1.4. In [24] Sturmfels constructs a monomial order and proves [24, Th e-
orem 14.2] with respect to this particular order. However, the pro of only relies
on the fact that the monomial order is a sorting order as deﬁned ab ove. We have
phrased Theorem 1.3 diﬀerently from [24], in order to emphasise that there might
exist several sorting orders and the result holds for any of them.
A sorting order can often be realised as a degree reverse lexicogra phic order, for
short DegRevLex. As this order will be employed later, we recall its d eﬁnition here.
Ordering the variables of the polynomial ring R=K[T1,...,T m] asT1>···> Tm
we have
Tα1
1···Tαm
m< Tβ1
1···Tβm
maccording to DegRevLex
ifα1+···+αm< β1+···+βmorα1+···+αm=β1+···+βmand there is
anisuch that αi> βiandαj=βjfor anyj=i+1,...,m. Note that reordering
the variables, and reordering the comparison of exponents accor dingly, gives rise to
another DegRevLex order. In total, there are m! possible DegRevLex orders on R.
2.The chain algebra of a finite distributive lattice
2.1.Deﬁnition and connection to stable set polytopes. LetLbe a ﬁnite
distributive lattice (FDL for short) of rank r. We label the elements of Lby
t1,...,tsso thatt1is the unique minimal element, and tsis the unique maximal
element. We write ti/precedesequaltjto indicate the inclusion of the respective ideals. Recall
that maximal chains C={t1=ti0≺·ti1≺·...≺·tir=ts}ofLalways have
cardinality r+1, start at t1, which is the unique element of rank 0, and end at ts,
which is the unique element of rank r.
To the maximal chain Cwe associate the monomial tC:=ti0···tirin the poly-
nomial ring K[t1,...,ts] over some ﬁeld K.
Deﬁnition 2.1. Thechain algebra ofanFDL ListheK-subalgebraof K[t1,...,ts]
generated by all monomials tC, whereCis a maximal chain of L. This algebra is
denoted by K[CL].6 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
ac
bd
t1=∅t3={b}t5={b,d}t7={a,b,d}t8={a,b,c,d}
t6={a,b,c}
t4={a,b}
t2={a}
Figure 1. A posetPand the lattice J(P)
Clearly, the properties of K[CL] are independent of the labelling of L, and we
may choose a labelling which ﬁts our purpose.
Example 2.2. LetPandL=J(P) be as described in Figure 1. Here r= 4 and
s= 8. Then
K[CL] =K[t1t2t4t6t8, t1t2t4t7t8, t1t3t4t6t8, t1t3t4t7t8, t1t3t5t7t8]⊂K[t1,...,t8].
One can verify with the help of computer algebra that
K[CL]∼=K[T1,T2,T3,T4,T5]/(T2T3−T1T4).
We will now proceed to explaining the connection of chain algebras to s table set
polytopes, which will yield some properties of chain algebras. To this e nd, we are
interested in a speciﬁc class of polytopes, namely the so-called stable set polytopes
of ﬁnite simple graphs.
LetG= (V,E) be a graph with V= [s] ={1,...,s}. To a subset W⊆[s], we
associate the (0 ,1)-point ρ(W) =/summationtext
j∈Wej∈Rs. Here,eiis theith standard basis
vector of Rs. LetS(G) denote the set of all stable sets of G. Thestable set polytope
QG⊂Rsof a simple graph Gis the convex hull of {ρ(W) :W∈S(G)}. Note that
QGis ans-dimensional polytope since the empty set and each singleton of [ s] are
stable sets. Also note that QGis a (0,1)-polytope (the convex hull of (0 ,1)-points).
This implies that all ρ(W) are vertices of QGand that QGcannot contain other
points in Zsapart from its vertices. It is also known (see [17]) that if Gis a perfect
graph, then QGis compressed.
In order to connect stable set polytopes to chain algebras, let GLbe the co-
comparability graph of a lattice L=J(P). Then (maximal) independent sets
ofGLcorrespond to (maximal) chains of L. LetFGLbe the convex hull of
{ρ(W)|Wis a maximal independent set of GL}. ThenFGLis a face of the stable
set polytope QGL. Indeed, the inequality x1+x2+···+xs≤r+1, where ris the
rank ofP, is valid for the whole polytope QGL. Since equality is attained precisely
at the points of FGL, the claim follows.
Note that FGL, being a (0 ,1)-polytope itself, does not contain any other points
inZsapart from those coming from maximal chains of L. Therefore, we conclude
the following:CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES 7
Proposition 2.3. LetLbe an FDL, and FGLthe polytope deﬁned above. Then
K[CL]∼=K[FGL]. Moreover, the initial ideal of IFGLw.r.t. any DegRevLex order
is squarefree, and as a consequence K[CL]is normal and Cohen-Macaulay.
Proof.The claimed isomorphism follows from the discussion above. For the re st,
consider the following chain of implications:
GLisaco-comparabilitygraph(of L)[7]= =⇒GLisperfect[17]==⇒QGLisacompressed
polytope= ⇒FLisacompressedpolytope[24]==⇒the initial idealof IFLis generatedby
squarefree monomials with respect to anyDegRevLex[13],[24]= ====⇒the corresponding
toric ring K[FL]∼=K[CL] is normal and Cohen-Macaulay. /square
We will see in Corollary 2.9 that having a squarefree initial ideal with res pect to
any DegRevLex order gives an upper bound for the degree of a minim al generator
ofIFL.
2.2.Krull dimension and bounds on degrees of generators. The next result
concerns the Krull dimension of a chain algebra.
Theorem 2.4. LetPbe a poset and let L=J(P). ThendimK[CL] =|L|−|P|.
Proof.LetG(L) be the graph constructed as follows: the vertices of G(L) are the
elements of L;tiandtjare adjacent if and only if there exist maximal chains A
andBinLsuch that, set theoretically, A\B={ti},B\A={tj}. Note that this
is equivalent to rank( ti) = rank( tj) =kand rank( ti∨tj) =k+1 (and/or, dually,
rank(ti∧tj) =k−1). The proof is now divided into three steps, the idea being
as follows. In the ﬁrst step we compute the number of connected c omponents of
G(L). In the second step we introduce an oriented incidence matrix B(G(L)), and
compute its rank using the ﬁrst step. By [10, Proposition 3.1] the Kr ull dimension
of our chain algebra equals the dimension of the Q-vector space V=/a\}bracke⊔le{⊔{ρ(C)|
Cis a maximal chain of L}/a\}bracke⊔ri}h⊔. The third step is then to compute dim V, using the
matrixB(G(L)) as a tool.
Step 1: By construction, G(L) has at least as many connected components as
the number of diﬀerent values the rank function takes, which is |P|+1. We shall
prove that tiandtjbelong to the same connected component of G(L) if rank( ti) =
rank(tj), giving G(L) exactly |P|+1 components. The proof is by induction on the
rank. The base case k= 0 is clear since we only have one element of rank 0. Now
assume the statement holds for all ranks up to k, and let rank ti= ranktj=k+1.
Letti′besomeelementcoveredby tiandlettj′besomeelementcoveredby tj. Note
that such elements will always exist and have rank k. By the induction hypothesis,
ti′andtj′belong to the same connected component of G(L). In other words, there
is a path ti′ta1...taptj′inG(L). Assume that this is the shortest possible path
between ti′andtj′. We proceed by induction on the length of this path. Figure 2
illustrates the idea. The statement clearly holds in the base case: if o ur path has
length 0, that is to say, if i′=j′, thenti′=tj′is covered by both tiandtj
therefore, tiandtjare either equal or adjacent in G(L). For the induction step, let
tb1:=ti′∨ta1. Sinceti′andta1are adjacent in G(L), we get rank( tb1) =k+1, and
thustb1covers both ti′andta1. Moreover, tiandtb1either coincide or are adjacent
inG(L). Indeed, they both cover ti′, which means ti′=ti∧tb1, unlessi=b1. Now
that we have shown that tiis either adjacent or equal to tb1, it is enough to prove8 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
rankk+1
rankkti
ti′tb1
ta1...
...tbp
taptbp+1
tj′tj
Figure 2. Illustration of step 1 in the proof of Theorem 2.4
thattb1is in the same connected component as tj. We already know that tb1covers
ta1andtjcoverstj′, and that ta1...tj′is the shortest possible path between ta1
andtj′, thus the statement holds by induction.
Step 2: An oriented incidence matrix B(G(L)) is constructed as follows. We
give some direction to the edges of G(L); the columns of B(G(L)) are indexed by
edges, and the rows are indexed by vertices. The column of ti→tjgets a−1
in rowi, a 1 in row j, and 0 in all other rows. By [2, Proposition 4.3] the rank
of the incidence matrix of a directed graph equals the number of ver tices minus
the number of connected components of the graph. Therefore, by Step 1 we get
rankB(G(L)) =|L|−|P|−1. We let Udenote the column space of B(G(L)). Note
that the entries of a vector in Ualways sum up to 0.
Step 3: Let Cbe any maximal chain in L. The vector ρ(C) does not belong to
Usince its entries are non-negative, not all zero, and hence do not s um up to 0.
LetV′=/a\}bracke⊔le{⊔U,ρ(C)/a\}bracke⊔ri}h⊔. Then dim V′= dimU+1 =|L|−|P|. We shall now prove that
V′=V, whereV=/a\}bracke⊔le{⊔{ρ(C)|Cis a maximal chain of L}/a\}bracke⊔ri}h⊔. Let us start with the
inclusion V′⊆V. Recall that Uis by deﬁnition spanned by columns of B(G(L)),
and each column corresponds to an edge connecting a pair of vertic estiandtjsuch
thatA\B={ti},B\A={tj}for some chains AandB. Then the column vector
corresponding to the edge ti→tjequalsρ(B)−ρ(A). Therefore, U⊆V, and as
ρ(C)∈Vwe have V′⊆V.
We move on to proving the inclusion V⊆V′. It is suﬃcient to show that
ρ(D)∈V′for any maximal chain DinL. In fact, it is suﬃcient to show that
for any such Dwe have ρ(D)−ρ(C)∈U. Note that the entries of ρ(D)−ρ(C)
belong to the set {0,1,−1}and sum up to 0. If ρ(D)−ρ(C) = 0, we are done.
Otherwise, there exists an index isuch that the ith entry of ρ(D)−ρ(C) is 1. Then
tiis an element of D, but not C. Letk= rank(ti). Since every chain contains a
unique element of each rank, there exists tj∈C,i/\e}a⊔io\slash=j, such that rank( tj) =k.
Then clearly tj/\e}a⊔io\slash∈DsinceDalready possesses an element of rank k, namely, ti. In
other words, the ith and the jth entries of ρ(D)−ρ(C) are 1 and −1, respectively.
By Step 1 we know that tiandtj(having the same rank) belong to the same
connected component of G(L) and therefore ei−ej∈U. It is enough to show
(ρ(D)−ρ(C))−(ei−ej)∈U, and we proceed by induction on the number of
entries 1 of ρ(D)−ρ(C).
We have now proved that V′=V, and we can conclude that dim K[CL] =
dimV= dimV′=|L|−|P|. /square
Next, we discuss the degrees of minimal generators of the toric ide al of a chain
algebra.CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES 9
Given an FDL Land a positive integer a, consider the bipartite graph on the
rankaand rank a+ 1 elements if L. The edges of this graph are pairs I≺·I′,
whereIhas rank a.
Theorem 2.5. LetLbe an FDL, such that the bipartite graph on the rank aand
a+1elements has an induced cycle of length 2s, for some positive integer aand
s >2. Then the deﬁning ideal of the chain algebra K[CL]has a minimal generator
of degree s.
Proof.Lett1,...,tsandt1,2,t2,3,...,ts−1,s,ts,1be labels of the elements of rank a
anda+1 inLthat constitutes an induced cycle C
(3) t1≺·t1,2·≻t2≺·t2,3·≻t3≺· ··· ·≻ ts≺·ts,1·≻t1
of length 2 s. Takesmaximal chains C1,...,C sinLsuch that Ci={c(i)
1≺·...≺·
c(i)
r}withc(i)
a=tiandc(i)
a+1=ti,i+1wherets,s+1should be understood as ts,1. In
addition, take another smaximal chains /hatwideC1,...,/hatwideCsinLsuch that
/hatwideCi={c(i)
1≺·...≺·c(i)
a≺·c(i−1)
a+1≺·...≺·c(i−1)
r}
wherec(0)
jshould be read as c(s)
j. Note that there are precisely two perfect match-
ings of the cycle C, and those are given by {c(i)
a≺·c(i)
a+1}i=1,...,sand{c(i)
a≺·
c(i−1)
a+1}i=1,...,s. The two matchings have no edge in common.
The monomial identity tC1···tCs=t/hatwideC1···t/hatwideCsgives rise to a binomial of degree
sin the deﬁning ideal of K[CL]. If this binomial is generated by binomials of lower
degrees, then by [10, Lemma 3.8] there is a sequence of s-tuples of chains

C1
...
Cs
=
E(0)
1
...
E(0)
s
/squiggleright
E(1)
1
...
E(1)
s
/squiggleright···/squiggleright
E(j)
1
...
E(j)
s
=
/hatwideC1
...
/hatwideCs

all deﬁning identical monomials tE(i)
1···tE(i)
s, and at least one chain ﬁxed in each
step. Foreachofthe s-tuples, therank aanda+1piecesmustbeaperfectmatching
oftheinduced subgraphwith vertexset {t1,...,ts,t1,2,...,ts−1,s,ts,1}, whichisthe
cycleC. As (C1,...,C s) and (/hatwideC1,...,/hatwideCs) correspondtothe twopossiblematchings
ofCthere must be a step ( E(i)
1,...,E(i)
s)/squiggleright(E(i+1)
1,...,E(i+1)
s) where we switch
from one matching to the other. But this contradicts the fact tha t for every ithere
existskisuch that E(i)
ki=E(i+1)
ki. We conclude that the deﬁning ideal of K[CL]
contains a binomial of degree swhich is not generated by the binomials of lower
degrees. /square
Corollary 2.6. LetPbe a poset of width n >2, and let L=J(P). Then the
deﬁning ideal of the chain algebra K[CL]has a minimal generator of degree n.
Proof.AsPhas width n >2 there is an antichain p1,...,p n. Consider the ideal
I= (p1,...,p n)\ {p1,...,p n}, and let tibe the label of the ideal I∪ {pi}, for
i= 1,...,n. We note the ideals I∪{pi}all have the same rank, say a. Letti,jbe
the label of the rank a+1 ideal I∪{pi,pj}. Then (3) is an induced cycle of length
2n, so by Theorem 2.5 we have a minimal generator of degree n./square
Example 2.7. IfPis an antichain of nelements, then J(P) is the Boolean lattice
Bn. Forn= 3,4 the toric ideal deﬁning the chain algebra of Bnis generated by10 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
{1,2} { 1,3} { 1,4} { 4,5} { 3,5} { 2,5}{1,2,3} {1,3,4} {1,4,5} {3,4,5} {2,3,5} {1,2,5}
Figure 3. An induced cycle of length 12 in the Boolean lattice B5.
binomials of degrees up to n, but when n= 5 there is a minimal generatorof degree
six. To see this, let us identify the elements of B5with subsets of {1,2,3,4,5}. An
induced cycle of length 12 is given in Figure 3. By Theorem 2.5, with a= 2, the
deﬁning ideal of the chain algebra has a minimal generator of degree six.
We have just seen that the width of the poset Pdoes not give an upper bound
for the degrees of minimal generators of the toric ideal deﬁning th e chain algebra.
However,wedogetabound intermsofthe numberofchains, applyin gthe following
proposition.
Proposition 2.8. LetI⊂K[x1,...,x n]be a homogeneous binomial prime ideal
whose initial ideal is squarefree w.r.t. any DegRevLex orde r. Then any minimal
generator of Ihas degree at most n/2.
Proof.For a monomial m∈K[x1,...,x n], let supp( m) denote its support, that is
the set of variables which divide m.
Letf1=xα1
1···xαnn−c1xβ1
1···xβnnbe a minimal generator of I. AsIis prime
the two terms of f1have no variable in common. Consider a DegRevLex order <
where the variables in supp( xα1
1···xαnn) are greater than any other variable, and
the variables in supp( xβ1
1···xβnn) are smaller than any other variable. Then the
leading term of fisxα1
1···xαnn. If this term is not squarefree, there is a binomial
g=xγ1
1···xγnn−c2xδ1
1···xδnnin the Gr¨ obner basis of Iw.r.t.<with squarefree
leading term dividing the leading term of f. We reduce fmodulogand get a new
binomial
f2=f1−mg=c2mxδ1
1···xδn
n−c1xβ1
1···xβn
n
wherem=xα1−γ1
1···xαn−γnn. We have supp( xδ1
1···xδnn)∩supp(xβ1
1···xβnn) =∅,
as otherwise f1would be generated by binomials in Iof lower degree, contradicting
the assumption that f1is a minimal generator. By deﬁnition of the monomial order
<the leading term of f2isc2mxδ1
1···xδnn, which is smaller than the leading term
off1. If the leading term of f2is not squarefree we continue and reduce f2in
the same way. After a ﬁnite number of reductions we must arrive at a binomial
f3=m′−c1xβ1
1···xβnninIwith the same degree as f1, whose leading term m′
is squarefree. Next, let’s choose another DegRevLex order <′where the variables
in supp(xβ1
1···xβnn) are the largest and the variables of supp( m′) are the smallest.
Applying the same procedure as above but w.r.t. <′results in a binomial f4=
m′′−m′where supp( m′′)∩supp(m′) =∅and both terms are squarefree. Then f4
can have degree at most n/2, and as deg( f1) = deg(f4) we are done. /square
As the deﬁning toric ideal of a chain algebra has a squarefree inital id eal w.r.t.
any DegRevLex order by Proposition 2.3, we get the following.CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES 11
123
1′2′3′4
(0,0)(4,3)
Figure 4. A posetP, the lattice L=J(P) embedded into a grid,
and a pair of its incomparable maximal chains
Corollary 2.9. LetLbe an FDL, and let Ibe the deﬁning toric ideal of the chain
algebraK[CL]. Then any minimal generator of Ihas degree at most half the number
of maximal chains in L.
For the Boolean lattice B5in Example 2.7, Corollary 2.9 gives an upper bound
of 5!/2 = 30 for the degrees of minimal generators of the deﬁning ideal. It is not
known whether generators of this degree are actually needed.
Problem 2.10. Describeaminimalgeneratingsetforthedeﬁningidealofthechain
algebra of a ﬁnite distributive lattice. What are the degrees of the g enerators?
3.Chain algebras of planar distributive lattices
Recall that an FDL Lis called planar if dim( L)≤2. Planarity is characterised
by several equivalent conditions, see [6]. Informally, a lattice being p lanar means
that its Hasse diagram can be drawn on a plane without self-crossing s. For us, it
will be useful that Lcan be embedded into a square grid, as explained below. Note
that if dim( L) is 0 or 1 the chain algebrais isomorphicto the polynomial ring in one
variable. To avoid technicalities we assume dim( L) = 2 throughout this section,
noting that all results are trivially true in the case dim( L)<2.
3.1.Algebraic properties of planar chain algebras. For a planar FDL L=
J(P), the underlying poset Pis covered by two chains A={1≺2≺ ··· ≺a}and
B={1′≺2′≺...≺b′}. An ideal IofPwith|I∩A|=iand|I∩B|=jis assigned
the label tij. It is easily veriﬁed that this assignment is injective. We now have
a natural embedding of LintoN2, with the convention that 0 ∈N. The maximal
chainsof Laredepicted aspathstakingsteps( i,j)→(i+1,j)and(i,j)→(i,j+1),
with starting point (0 ,0) and end point ( a,b).
With this notation, tij/precedesequaltkℓif and only if i≤kandj≤ℓ, and the rank of
tijisi+j. We extend this to a total order on the tij’s by saying that tij< tkℓif
i+j < k+ℓori+j=k+ℓandi < k. Next, we deﬁne a partial order /precedesequalchon
the set of maximal chains of L. LetC={t00=c0≺·c1≺·...≺·cr=tab}and
D={t00=d0≺·d1≺·...≺·dr=tab}, whereckanddkare some tij’s of rank k.
We say that C/precedesequalchDif for all k= 1,...,rwe haveck≤dk. Considering CandD
asN2-paths, this can be visualised as Clying weakly above and to the left of D,
that isCandDarenon-traversing .
Now, suppose CandDare incomparable, and let k < rbe the largest rank such
that the truncated chains {c0≺·c1≺·...≺·ck}and{d0≺·d1≺·...≺·dk}are12 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
comparable with respect to the partial order above. Then ck=dkand this point
will be called the ﬁrst traversing point ofCandD.
Example 3.1. LetPbe the poset in Figure 4. This ﬁgure also shows the cor-
responding embedding of L=J(P) intoN2. An example of two incomparable
maximal chains CandDof the lattice Lin Figure 4 is given by
C={t00≺·t01≺·t11≺·t21≺·t31≺·t32≺·t42≺·t43}
and
D={t00≺·t10≺·t20≺·t21≺·t22≺·t23≺·t33≺·t43}.
The ﬁrst traversing point of CandDis (2,1). Following Cuntil the point (2 ,1)
and then following Dproduces the greatest path smaller than both CandDw.r.t.
the partial order ≺ch. In other words
C∧D={t00≺·t01≺·t11≺·t21≺·t22≺·t23≺·t33≺·t43},
and similarly
C∨D={t00≺·t10≺·t20≺·t21≺·t31≺·t32≺·t42≺·t43}.
Taking the meet and join of maximal chains can also be realised as a sor ting of
monomials. The sorting is performed using the total order on variab lestijdeﬁned
above, from smaller to larger. In Example 3.1 we get sort( tC,tD) = (tC∧D,tC∨D).
Lemma 3.2. LetLbe a planar FDL whose elements are labelled as described abov e.
The set of maximal chains of Lconstitutes an FDL L′, with respect to the partial
order/precedesequalch. For two maximal chains C={c0≺·...≺·cr}andD={d0≺·...≺·dr}
inL, their meet and join in L′are given by
C∧D={min(c0,d0)≺·...≺·min(ci,di)≺·...≺·min(cr,dr)}
C∨D={max(c0,d0)≺·...≺·max(ci,di)≺·...≺·max(cr,dr)}.
Moreover, we have sort(tC,tD) = (tC∧D,tC∨D).
Proof.Let’s ﬁrst consider the case C/precedesequalchD. Here we have ck≤dkfor allk=
0,...,r. We also have dk≤ck+1for allk= 0,...,r−1 sincedkhas rank kand
ck+1has rank k+1. We conclude that
c0=d0≤c1≤d1≤c2≤d2≤...≤cr=dr
and thus the sorting process on the pair ( tC,tD) returns ( tC,tD). It is clear that
C∧D=CandC∨D=D. Now let CandDbe incomparable with respect to
/precedesequalch, and let ck=dkbe the ﬁrst traversing point. Without loss of generality we
can assume ci≤difor all 0≤i≤k, andck+1> dk+1. Now, let
C′={c0≺·c1≺·...≺·ck=dk≺·dk+1≺·...≺·dr},and
D′={d0≺·d1≺·...≺·dk=ck≺·ck+1≺·...≺·cr}.
In other words, C′travels along Cuntil rank k, where CandDtraverse, and
continues along D, whileD′travels along Duntil rank kand continues along C.
ClearlyC′andD′are chains of L, and sort( tC,tD) = sort( tC′,tD′). IfC′/precedesequalchD′,
the sorting is complete. Otherwise there is a rank k′> kwhereC′andD′ﬁrstCHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES 13
traverse, and we repeat the argument. Eventually we arrive at so rt(tC,tD) =
(t/tildewideC,t/tildewideD). By construction
/tildewideC={min(c0,d0)≺·...≺·min(ci,di)≺·...≺·min(cr,dr)}
/tildewideD={max(c0,d0)≺·...≺·max(ci,di)≺·...≺·max(cr,dr)}.
Moreover, /tildewideCis the largestchain which is smallerthan both CandD, so/tildewideC=C∧D,
and similarly /tildewideD=C∨D. This proves the claim on the sorting, and that L′is a
lattice with the prescribed meet and join. We will see in Lemma 3.6 that L′can in
factbeidentiﬁedwithanintervalofYoung’slatticeandistherefore distributive./square
Finally, we would like to introduce the notion of a sortable FDL. We have seen
that sortable sets of monomials deﬁne toric algebras with well under stood deﬁning
ideals. We have also seen that the meet and join of maximal chains of a planar FDL
can be expressed via the sorting operator. This leads to the followin g deﬁnition:
Deﬁnition 3.3. LetL=J(P), as before. We will say that Lissortable if there
exists a labelling on Lsuch that B={tC|Cis a maximal chain of L}is a sortable
set of monomials.
Applying Lemma3.2wecannowgiveaclassiﬁcationofthe chainalgebras arising
from planar FDLs.
Theorem 3.4. The following are equivalent for an FDL L.
(1)Lis planar,
(2)Lis sortable,
(3) The deﬁning ideal of K[CL]has a quadratic Gr¨ obner basis with respect to
DegRevLex,
(4) The deﬁning ideal of K[CL]is quadratically generated,
(5)K[CL]is Koszul,
(6)K[CL]is a Hibi ring.
Proof.We will ﬁrst prove ( 1)⇒(2)⇒(3)⇒(5)⇒(4)⇒(1) and then connect
these ﬁve statements to (6).
The implication ( 1)⇒(2) follows by Lemma 3.2
(2)⇒(3): let us assume that Lhasmmaximal chains C1,...,C m, indexed
such that if Ci/precedesequalchCjtheni < j. We then deﬁne a K-algebra homomorphism
φ:K[T1,...,T m]→K[CL] byTi/maps⊔o→tCifori= 1,...,m. On the polynomial ring
K[T1,...,T m] we impose the DegRevLex monomial order with T1>···> Tm.
By Theorem 1.3, it is then enough to show that this is a sorting order. For two
maximal chains CandDthe equality sort( tC,tD) = (tC∧D,tC∨D) lifts to the
binomial TiTj−TkTℓ∈kerφwhereTi/maps⊔o→tC,Tj/maps⊔o→tD,Tk/maps⊔o→tC∧D,Tℓ/maps⊔o→tC∨D.
ThenTjTjis the leading term with respect to DegRevLex.
The implication ( 3)⇒(5) was proved in [1], and it is well known that Koszul
algebras are quadratic so ( 5)⇒(4).
We saw in Corollary 2.6 that if the lattice Lis not planar, then the deﬁning
binomial ideal is not quadratic. Hence ( 4)⇒(1).
We have now proved that the ﬁrst ﬁve statements are equivalent.
Now, (1)⇒(6) follows by Lemma 3.2. More precisely, K[CL] is isomorphic to
the Hibi ring K[L′].
Finally, it follows from the deﬁnition of a Hibi ring that ( 6)⇒(4), which
completes the proof. /square14 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
3.2.Hilbert series of planar chain algebras. We will now interpret the Hilbert
series of the algebra K[CL] combinatorially. A grading on K[CL] is deﬁned by
assigning degree one to the monomials generating K[CL]. From Lemma 3.2 and
Theorem 3.4 we get the following description of the Hilbert function.
Corollary 3.5. For a planar FDL L, the vector space dimension of the graded
component K[CL]iequals the number of ways to draw inon-traversing maximal
lattice paths in L.
By amaximal lattice path we mean a path from (0 ,0) to (a,b) where the points
are identiﬁed with elements of L, and (a,b) is the maximal element, as described in
Section 3.1. We clarify that the maximal lattice paths are allowed to ha ve points
in common, only not to traverse.
As our planar chain algebra K[CL] is isomorphic to the Hibi ring K[L′], where
L′is the FDL of chains as in Lemma 3.2, the Hilbert series is given by (1). To
analyse the numerator of (1) in the case of chain algebras, we need to deduce the
posetP′for which L′=J(P′).
As before, we consider a lattice L=J(P) wherePis a poset covered by two
chainsA={1≺2≺ ··· ≺ a}andB={1′≺2′≺...≺b′}. The elements of L
are represented by integer points ( i,j) with 0≤i≤aand 0≤j≤b. The maximal
chains of L, constituting the lattice L′, are depicted as paths in N2connecting the
points (0 ,0) and (a,b). With the goal of determining the poset P′it is preferable
to consider cellsofN2, rather than integer points. By a cellwe mean a 1 ×1
square where the corners are integer points. A lattice path Cfrom (0,0) and (a,b)
determines a integer partition λ= (λb,...,λ 1) whereλiis the number of cells to
the left of Cin rowi, inside the rectanglewith (0 ,0)and (a,b) as its bottom left and
top right corner. Here “row 1” means the bottom row of cells, and “ rowb” means
the top row. The shape that Ccuts from the upper left corner of the rectangle is
the Young diagram of the integer partition λ. We note that λb≥ ··· ≥ λ1≥0,
and it may happen that some λi’s are 0. For instance, the smallest and the largest
chains of Figure 4 can be identiﬁed with the integer partitions (2 ,1,0) and (4 ,4,3),
respectively. The chains CandDfrom Example 3.1 are identiﬁed with (4 ,3,0) and
(2,2,2). For a proper introduction to integer partitions and Young diagr ams we
refer the reader to Chapter 1.7 of [21].
Young diagrams can be ordered by inclusion, and in this way constitut e a dis-
tributive lattice, see [21, Example 3.4.4, Example 3.21.2]. If µ⊂λare two Young
diagrams, the interval [ µ,λ] consists of all Young diagrams containing µand con-
tained in λ. The interval [ µ,λ] is itself a distributive lattice.
In the next lemma we use the notation ( p), where p∈P, for the smallest ideal
ofPcontaining p.
Lemma 3.6. LetP=A⊔B,LandL′be as above. Then L′is isomorphic to an
interval[µ,λ]of Young’s lattice. More precisely, the minimal and maximal elements
ofL′are given by integer partitions µ= (µb,...,µ 1)andλ= (λb,...,λ 1)where
µi=|A∩(i′)|,and
λi= maxk∈Asuch that i′/∈(k).CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES 15
Proof.An integer partition λ= (λb,...,λ 1) corresponds to the path
(0,0)→(1,0)→ ··· →(λ1,0)→(λ1,1)→ ··· → (λ2,1)→(λ2,2)→ ···
··· →(λi,i−1)→(λi,i)→ ··· → (λi+1,i)→...
··· →(λb,b−1)→(λb,b)→ ··· → (a,b).
Itis clearthat the partialorder /precedesequalchonL′translatestoinclusionofYoungdiagrams,
makingL′isomorphic to an interval of Young’s lattice.
To get the maximal element of L′we chooseeach λias largeas possible, meaning
that (λi,i−1) is a valid point in Lbut (λi+1,i−1) is not. This occurs precisely
wheni′/∈(λi) buti′∈(λi+ 1), proving the claimed formula for the maximal
element of L′.
To obtain the minimal element µ= (µb,...,µ 1) we choose the smallest µisuch
that (µi,i) is a valid point in L. This gives µi=|A∩(i′)|. /square
Adapting the terminology from Chapter 7.10 of [20], the cells sitting be tween
the minimal and maximal paths of L′form the skew shape λ/µ.
Lemma 3.7. LetL′,µ, andλbe as in Lemma 3.6. Deﬁne a poset P′on the cells
of the skew shape λ/µ, by imposing strict increase when moving to the right along
rows, and downwards along columns. Then L′∼=J(P′).
Proof.The smallest Young diagram of L′containing a ﬁxed cell cis produced by
taking all cells above and to the left of cinside the minimal rectangle containing
L. This Young diagram is join irreducible, as the only cell which can be rem oved,
producing a new Young diagram of L′, isc. Conversely, every Young diagram
where only one cell is removable can be obtained this way. We have now seen
that the elements of P′are identiﬁed with the join irreducibles of L′, and hence
L′∼=J(P′). /square
Remark 3.8. From the theory of Hibi rings we know that the Krull dimension
of the Hibi ring K[L′] is given by |P′|+ 1, and as discussed above, the elements
of the poset P′are identiﬁed with cells of a skew shape λ/µ. On the other hand,
K[L′]∼=K[CL], and from Theorem 2.4 we know that dim( K[CL]) =|L|−|P|. Let
us check that these formulas agree, i.e. that |L|−|P|equals the number of cells of
the skew shape λ/µ, increasedby one. First, note that the cells are in bijection with
the elements of Lthat have exactly two lower neighbours, by identifying a cell with
its top right corner in the rectangular grid. Now, Pis the set of join-irreducible
elements of L, that is, those with exactly one lower neighbour. Therefore, |L| −
|P|is the number of elements with zero or two lower neighbours, as two is the
maximal number of neighbours in the planar case. The only element wit hout a
lower neighbour is the minimal element of L, and hence |L|−|P|=|P′|+1.
The chains of P′are realised as paths between cells, taking steps down and to
the right (the directions in which Young diagrams increase). In part icular it follows
thatK[L′] is Gorenstein if and only if all maximal paths of cells have the same
length.
Example 3.9. LetPandLbe as in Figure 4. As previously noted, L′can be
identiﬁed with the interval [(2 ,1,0),(4,4,3)] of Young’s lattice. Then the poset P′
consists of elements p1,p2,...,p 8, identiﬁed with the skew shape of the cells of L16 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
p1p2
p3p4p5
p6p7p8
Figure 5. AposetP′isobtainedbyimposingstrictincreasealong
rows and columns
as illustrated in Figure 5. Denoting the partial order on P′by≺′, the maximal
chains of P′are
{p1≺′p2≺′p5},{p1≺′p4≺′p5},{p1≺′p4≺′p8},{p3≺′p4≺′p5},
{p3≺′p4≺′p8},{p3≺′p7≺′p8},and{p6≺′p7≺′p8}.
As they all have the same length, K[CL] is Gorenstein. Indeed, the Hilbert series is
1+18z+65z2+65z3+18z4+z5
(1−z)9.
We see that this algebra has Krull dimension 9, which can be understo od as the
number of cells increased by 1, or as |L|−|P|= 16−7.
With the description of P′as cells in a skew shape, a linear extension of P′is
the same as ﬁlling in the numbers 1 ,...,|P′|in the cells, such that the numbers
are increasing along rows and columns. In other words, a linear exte nsion of P′is
astandard Young tableaux (SYT). In a SYT Twe say that iis anascentifi+1
sits in a row above the row of i. We denote the number of ascents in Tby asc(T).
Theorem 3.10. LetLbe a planar FDL, and let dbe the number of cells in the
corresponding skew shape λ/µas in Lemma 3.7. The Hilbert series of the chain
algebraK[CL]is/summationtext
Tzasc(T)
(1−z)d+1
where the sum is taken over all SYT’s Tof the skew shape λ/µ.
Proof.Let us index the elements of P′={p1,...,p d}so thatp1,p2...,ps1are the
cells in the top row, and ps1+1,ps1+2,...,p s2are cells of the second row, and so on,
in the skew shape λ/µ. See also Figure 5. It is clear that this indexing respects the
partial order on P′. Next, let wbe a linear extension of P′. By the expression (1)
for the Hilbert series, we are done if we can prove that the descent s of the linear
extension ware the ascents of winterpreted as SYT. So, suppose iis a descent of
w. Then we have indices j > ksuchw(pj) =iandw(pk) =i+1. From the way we
indexed the cells it follows that pjeither sits to the right of pkin the same row, or
in a row below pk. However, the assignment w(pj) =iandw(pk) =i+1 excludes
the possibility of pjbeing to the right of pkin the same row. Then isatisﬁes the
deﬁnition of an ascent. Conversely, suppose iis an ascent in the SYT given by w.
Then there are jandksuch that w(pj) =iandw(pk) =i+1 where pkis in a row
abovepj. By the choice of indexing k < j, soiis descent of w. /squareCHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES 17
Theh-polynomial of a Hibi ring K[J(P)], i.e. the numerator of (1), is the so
called (P,ω)-Eulerian polynomial, where ωdenotes any natural labelling of the
posetP. It was conjectured by Neggers [15] that these polynomials have r eal roots,
and Stanley conjectured that the same holds even if the labelling ωis not natural.
Recall that a polynomial having real roots implies that the coeﬃcient sequence is
unimodal. The Neggers-Stanley conjecture has been proved in sev eralspecial cases,
but in 2004 counterexamples were presented by Br¨ and´ en [5]. Lat er, counterexam-
ples with natural labelling were provided by Stembridge [23]. However, the weaker
version of the conjecture, namely that ( P,ω)-Eulerian polynomials are unimodal,
is an open problem. It is proved in [18] that the ( P,ω)-Eulerian polynomials are
unimodal when Pis pure, and ωnatural. Translated to Hibi rings, this means that
theh-polynomial of a Gorenstein Hibi ring is unimodal.
Brenti [4] proved the Neggers-Stanley conjecture in the case wh en the poset
is identiﬁed with a Young diagram. So, when the minimal lattice path of Lis
(0,0)→ ··· → (0,b)→ ··· → (a,b), theh-polynomial of K[CL] is unimodal. To the
best of the authors knowledge, it is an open problem whether all the h-polynomials
appearing in Theorem 3.10 are unimodal. As a ﬁnal remark of this sect ion we
consider the rectangular case.
Remark 3.11. If the poset Pis given by two chains of {1≺ ··· ≺a}and{1′≺
··· ≺b′}, and no additional relations, the skew shape in Lemma 3.7 is just an
a×brectangle. The number of SYT’s with precisely kascents are counted by
the so called generalised Narayana numbers N(a,b,k), see [25, Remark 1.3]. An
explicit formula for N(a,b,k) is given in [25, Proposition 1]. By Theorem 3.10 the
h-polynomial of K[CL] is the Narayana polynomial Na,b(z) =/summationtext
kN(a,b,k)zk. As
the poset P′is pure, the algebra K[CL] is Gorenstein, and we recoverthe symmetry
ofNa,b(z) proved in [25, Corollary 1].
4.Hibi rings and sortable monomials
It was proved in [9, Theorem 5.3] that certain toric rings, which gene ralise Hibi
rings of FDLs, are isomorphic to algebras generated by sortable se ts of monomials.
This gives two quadratic generating sets for the deﬁning binomial ide al of a toric
Hibi ring: the binomials xIxJ−xI∧JxI∨Jfrom the deﬁnition of a Hibi ring, and
the “sorting binomials” (2). We saw in Theorem 3.4 that for Hibi rings is omorphic
to planar chain algebras sort( mI,mJ) = (mI∧J,mI∨J), and as a consequence the
two generating sets of binomials coincide. In this last section we prov e that this
property in fact holds for any Hibi ring of an FDL.
Theorem 4.1. The Hibi ring of an FDL Lcan be realised as generated by a sortable
set of monomials indexed by the elements of L. Moreover, for I,J∈Lwe have
sort(mI,mJ) = (mI∧J,mI∨J).
Proof.LetL=J(P) and let nbe the width of P. We will ﬁx a minimal chain
decomposition of P, that is, disjoint chains A1,A2,...,A nsuch that their set the-
oretical union equals the underlying set of P. To each I∈ J(P) we associate a
vectorvI= (k1,...,k n)∈Nn, whereki=|I∩Ai|for alli= 1,...,n. In other
words, the coordinates of vItell us how many elements in Ibelong to respective
chains. We label Iwith the monomial mI=x(1)
k1···x(n)
knin the polynomial ring
K[x(1)
0,...,x(1)
|A1|,...,x(n)
0,...,x(n)
|An|] on|P|+nvariables divided into nblocks.18 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
x(1)
0x(2)
0x(3)
0x(1)
1x(2)
0x(3)
0x(1)
0x(2)
1x(3)
0x(1)
0x(2)
0x(3)
1x(1)
1x(2)
1x(3)
0x(1)
1x(2)
0x(3)
1x(1)
0x(2)
1x(3)
1x(1)
1x(2)
1x(3)
1
Figure 6. A monomial generating set for the Hibi ring K[B3]
Each monomial mIis of degree n, with exactly one variable of each block. Let
vI= (k1,...,k n) andvJ= (ℓ1,...ℓn). Then vI∩J= (min(k1,ℓ1),...,min(kn,ℓn))
andvI∪J= (max( k1,ℓ1),...,max(kn,ℓn)). Indeed, Icontains the k1smallest el-
ements of chain A1(otherwise Iis not an ideal). Note that this argument also
proves the injectivity of the assignment of vectors to ideals. Similar lyJcontains
theℓ1smallest elements of A1. Therefore, the intersection of IandJcontains
exactly the min( k1,l1) smallest elements of A1, and the same for A2,...,A n. An
analogous argument applies to vI∪J. Sorting the variables ﬁrstly by upper index
and secondly by lower index we get
sort(mI, mJ) = sort( x(1)
k1···x(n)
kn, x(1)
ℓ1···x(n)
ℓn)
= (x(1)
min(k1,ℓ1)···x(n)
min(kn,ℓn), x(1)
max(k1,ℓ1)···x(n)
max(kn,ℓn))
= (mI∩J, mI∪J) /square
Example 4.2. LetP={1,2,3}be the antichain on three elements. Then L=
J(P) =B3. The toric algebra generated by all the monomials in Figure 6 is
isomorphic to the Hibi ring of L, using the indexing introduced above. If we take
forexample I={1}andJ={2,3}wegetmI=x(1)
1x(2)
0x(3)
0andmJ=x(1)
0x(2)
1x(3)
1.
Applying the sorting of monomials as above gives
sort(mI,mJ) = (x(1)
0x(2)
0x(3)
0, x(1)
1x(2)
1x(3)
1) = (mI∩J,mI∪J).
We remark that not every algebra generated by a sortable set of m onomials is a
Hibi ring, as shown in the next example.
Example 4.3. Consider the squarefree Veronese subalgebra of K[x,y,z,w] gener-
ated by all squarefree monomials of degree two. We have
A=K[xy,xz,xw,yz,yw,zw ]∼=K[T1,...,T 6]/(T1T6−T2T5, T3T4−T2T5)CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES 19
and the set of monomials is clearly sortable. This algebra has Krull dime nsion
4, so if it is a Hibi ring of a lattice J(P), then|P|= 3. There are only ﬁve non-
isomorphic3-elementposets, but none ofthese ﬁve Hibi ringshave the same Hilbert
series as A.
Acknowledgement
First of all we would like to thank J¨ urgen Herzog for introducing the notion of
chain algebras of ﬁnite distributive lattices, for suggesting the sta tement of Theo-
rem 3.4, and for many helpful comments throughout our work with t his project.
Many thanks to Per Alexandersson for his insightful remarks abou t (P,ω)-Eulerian
polynomials. We also thank Aldo Conca for the rewarding discussions a round the
topics of this paper. Finally, we thank the anonymous referees for their careful
reading and suggestions.
The ﬁrst author was supported by a fellowship from the Wenner-Gr en Founda-
tions (grant WGF2022-0052), and the second author was suppor ted by the grant
KAW-2019.0512 from the Knut and Alice Wallenberg Foundation.
References
[1] D. Anick. On the homology of associative algebras. Trans. Amer. Math. Soc. , 296:641–659,
1986.
[2] N. Biggs. Algebraic Graph Theory . Cambridge Mathematical Library. Cambridge University
Press, 2 edition, 1974.
[3] J. Blasiak. The toric ideal of a graphic matroid is genera ted by quadrics. Combinatorica ,
28:283–297, 2008.
[4] Francesco Brenti. Unimodal, log-concave, and P´ olya frequency sequences in c ombinatorics .
PhD thesis, Massachusetts Institute of Technology, June 19 88.
[5] P. Br¨ and´ en. Counterexamples to the Neggers-Stanley c onjecture. Electron. Res. Announc.
Amer. Math. Soc. , 10:155–158, 2004.
[6] C. C. Chen and K. M. Koh. A characterization of ﬁnite distr ibutive planar lattices. Discrete
Mathematics , 5(3):207–213, 1973.
[7] R. P. Dilworth. A decomposition theorem for partially or dered sets. Ann. of Mathematics ,
51(1):161–166, 1950.
[8] V. Ene. Syzygies of Hibi rings. Acta Math. Vietnam. , 40(3):403–446, 2015.
[9] V. Ene, J. Herzog, and F. Mohammadi. Monomial ideals and t oric rings of hibi type arising
from a ﬁnite poset. European J. Combin , 32:404–421, 2011.
[10] J.Herzog, T.Hibi,and H.Ohsugi. Binomial Ideals . Graduate Texts inMathematics. Springer,
2018.
[11] T. Hibi. Hilbert functions of Cohen-Macaulay integral domains and chain conditions of ﬁnite
partially ordered sets. J. Pure Appl. Algebra , 72:265–273, 1991.
[12] Takayuki Hibi. Distributive lattices, aﬃne semigroup rings and algebras with straightening
laws. In M. Nagata and H. Matsumara, editors, Commutative Algebra and Combinatorics ,
volume 11 of Adv. Stud. Pure Math. , pages 93–109, 1987.
[13] M. Hochster. Rings of invariants of tori, Cohen-Macaul ay rings generated by monomials, and
polytopes. Ann. of Mathematics , 96:228–235, 1972.
[14] K. Matsuda, H. Ohsugi, and K. Shibata. Toric rings and id eals of stable set polytopes.
Mathematics: Current trends on monomial and binomial ideal s, 7(7):613, 2019.
[15] J. Neggers. Representations of ﬁnite partially ordere d sets.J. Combin. Inform. System Sci. ,
3:113–133, 1978.
[16] H. Ohsugi and T. Hibi. Normal polytopes arising from ﬁni te graphs. J. Algebra , 207(2):409–
426, 1998.
[17] Hidefumi Ohsugi and Takayuki Hibi. Convex polytopes al l of whose reverse lexicographic
initial ideals are squarefree. Proceedings of the American Mathematical Society , 129(9):2541–
2546, 2001.20 CHAIN ALGEBRAS OF FINITE DISTRIBUTIVE LATTICES
[18] V. Reiner and V. Welker. On the Charney–Davis and Negger s–Stanley conjectures. J. Comb.
Theory, Ser. A , 109:247–280, 2005.
[19] A. Simis, W. V. Vasconcelos, and Villarreal R. H. The int egral closure of subrings associated
to graphs. J. Algebra , 199(1):281–289, 1998.
[20] R. Stanley. Enumerative combinatorics , volume 2 of Cambridge Studies in Advanced Math-
ematics 62 . Cambridge University Press, 1 edition, 2001.
[21] R. Stanley. Enumerative combinatorics , volume 1 of Cambridge Studies in Advanced Math-
ematics 49 . Cambridge University Press, 2 edition, 2012.
[22] Richard P Stanley. Decompositions of rational convex p olytopes. Ann. Discrete Math ,
6(6):333–342, 1980.
[23] J. R. Stembridge. Counterexamples to the poset conject ures of Neggers, Stanley, and Stem-
bridge.Trans. Amer. Math. Soc. , 359:1115–1128, 2007.
[24] B. Sturmfels. Gr¨ obner Bases and Convex Polytopes . Memoirs of the American Mathematical
Society. American Mathematical Society, 1996.
[25] R. A. Sulanke. Generalizing Narayana and Schr¨ oder num bers to higher dimensions. Electron.
J. Combin. , 11:R54, 2004.
[26] N. L. White. The basis monomial ring of a matroid. Advances in Mathematics , 24(3):292–297,
1977.