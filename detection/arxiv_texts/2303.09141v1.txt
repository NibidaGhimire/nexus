arXiv:2303.09141v1  [stat.ME]  16 Mar 2023On a fundamental problem in the analysis of cancer
registry data
Sho Komukai
Department of Biomedical Statistics, Graduate School of Me dicine, Osaka University
Yamadaoka 2-2, Suita City, Osaka 565-0871, Japan
E-mail: skomukai@biostat.med.osaka-u.ac.jp
Satoshi Hattori
Department of Biomedical Statistics, Graduate School of Me dicine,
and
Institute for Open and Transdisciplinary Research Initiat ives, Osaka University
Yamadaoka 2-2, Suita City, Osaka 565-0871, Japan
E-mail: hattoris@biostat.med.osaka-u.ac.jp
and
Bernard Rachet
Inequalities in Cancer Outcomes Network, Department of Non -communicable Disease
Epidemiology, Faculty of Epidemiology and Population Heal th, London School of Hygiene and
Tropical Medicine.
Keppel Street, London WC1E 7HT, UK
E-mail: Bernard.Rachet@lshtm.ac.uk
March 16, 2023
Abstract
In epidemiology research with cancer registry data, it is of ten of primary interest to
make inference on cancer death, not overall survival. Since cause of death is not easy to
collect or is not necessarily reliable in cancer registries , some special methodologies have
been introduced and widely used by using the concepts of the r elative survival ratio and
the net survival. In making inference of those measures, ext ernal life tables of the general
population are utilized to adjust the impact of non-cancer d eath on overall survival. The
validity of this adjustment relies on the assumption that mo rtality in the external life table
approximates non-cancer mortality of cancer patients. How ever, the population used to
calculate a life table may include cancer death and cancer pa tients. Sensitivity analysis
proposed by TalbÂ¨ ack and Dickman to address it requires addi tional information which is
often not easily available. We propose a method to make infer ence on the net survival
accounting for potential presence of cancer patients and ca ncer death in the life table for
the general population. The idea of adjustment is to conside r correspondence of cancer
mortality in the life table and that in the cancer registry. W e realize a novel method to
adjust cancer mortality in the cancer registry without any a dditional information to the
standard analyses of cancer registries. Our simulation stu dy revealed that the proposed
method successfully removed the bias. We illustrate the pro posed method with the cancer
registry data in England.
Keywords: Cancer registry; Integral equation; Life table; Net s urvival; Relative survival ratio
11 Introduction
Cancer registries provide comprehensive and useful information o n cancer and are utilized to
conduct various epidemiology research including nation-wide compar isons of cancer survival
and estimation of change in cancer survival. Angelis et al. (2014); Alle mani et al. (2018) Can-
cer survival is an important measure. However, collecting reliable an d consistent information
on the cause of death is challenging. To make inference on survival f rom cancer without rely-
ing on the cause of death information (i.e., within the relative survival data setting), special
survival analysis techniques have been then developed and widely us ed in analyses of can-
cer registry data. Several cancer survival measures using such techniques help to describe
the survival experience of cancer patients, including relative surv ival ratio, net survival, or
crude probabilities of death. Ederer, Axitell, and Cutler (1961); Cr onin and Feuer (2000);
Perme, Stare, and Est` eve (2012); Perme, Est` eve, and Rache t (2016); Belot et al. (2019) The
techniques to estimate such measures are based on the assumptio n that the hazard of death
can be decomposed into the hazard of death due to the cancer of in terest and that due to other
causes. In the absence of reliable information on the cause of deat h, as proposed in contexts
other than cancer registries Breslow et al. (1983), an option is to b orrow external information,
in order to estimate the hazard of death due to other causes from the general population to
which the patient belongs. Mortality hazards for the general popu lation are available in pop-
ulation life tables based on demographic statistics, which are publishe d in most countries at
least by age, sex and calendar period.
However, it assumes that the cancer deaths contained in these po pulation life tables are too
few to aï¬€ect the estimation of the mortality hazard due to other ca uses. This assumption which
may not always hold has been discussed by a few authors. Ederer, A xitell, and Cutler (1961);
EstÂ´ eve, Benhamou, and Raymond (1994);TalbÂ¨ ack and Dickman ( 2011)Ederer, Axitell, and Cutler
(1961) claimed that since the sizes of age-, gender- and site-spec iï¬c subpopulations of cancer
patients was much smaller than their counterparts in the general p opulation, the impact of
2cancer deaths contained in the general population was negligible. Ho wever, it may not be true
for all cancer types and subpopulations. TalbÂ¨ ack and Dickman (20 11) utilized uncommon life
tables, which contained individual information on cancer patients inc luded in these life tables.
Consideringthe date ofcancer diagnosisas censoring, they were a ble to estimate the non-cancer
mortality hazard in the general population. They concluded that th e presence of cancer deaths
inthe lifetableshardlyimpactedthe cancersurvivalestimationinmos tsituations, butthey also
observed some bias in a few subpopulations. Given the general unav ailability of such life tables
(i.e., with individual information), TalbÂ¨ ack and Dickman (2011) alsoint roduced a model-based
method to conduct a sensitivity analysis without such individual-level information. However,
their model for sensitivity analysis required the number of cancer d eaths in the general pop-
ulation and did not account for inclusion of cancer patients in the gen eral population. Since
the number of cancer deaths cannot be obtained from cancer reg istries or is not reliably known
in this setting, the model-based sensitivity analysis method by TalbÂ¨ a ck and Dickman (2011)
might not be easily applicable.
In this paper, we propose a method to estimate cancer survival me asures in the relative sur-
vival setting, while accounting for the potential enrollment of canc er patients and cancer deaths
in the life tables. To this end, we only rely on additional information on c ancer incidence, which
is usually publicly available. Even if unavailable in public, incidence rates ca n be calculated
with vital statistics coupled with the cancer registry. Thus, we do n ot need to take much eï¬€orts
to gather additional information to apply our method and then elimina te biases due to cancer
deaths in the life table. The key idea of our development is to adjust s urvival of cancer patients
in the life-table by borrowing information from the cancer registry. We illustrate the method
with the most used cancer survival measure, net survival, which is t he survival probability of
cancer patients in the hypothetical situation of individuals who can o nly die from their cancer.
More speciï¬cally, we describe the method in the application to a non-p arametric estimator of
the net survival called Pohar-Perme estimator. Perme, Stare, an d Est` eve (2012)
The organization of the rest of this paper is as follows. In Section 2.1 , we introduce the
3net survival measure in the relative survival setting and its Pohar- Perme estimator. In Section
2.2, we discuss the assumptions implicitly made when using life tables in th e relative survival
setting. Section 3 presents the notations of the quantities, which are used in our approach,
from the life tables. Section 4 details the key components of our app roach: in Section 4.1, we
introduce the incidence rate used in our method and explain how to es timate it from cancer
registry data if unavailable in public; in Section 4.2, we summarize the as sumptions to utilize
the correspondence between cancer registry and life tables. In S ection 4.3, we introduce an
integral equation to obtain the non-cancer survival for the gene ral population with adjustment
for the cancer deaths. In Section 4.4, we show how to solve an empir ical version of the integral
equation. We evaluatethe proposedmethod bythe simulationstudie sin Section 5andillustrate
it on real cancer registry data in England in Section 6. Conclusions an d some discussions are
given in Section 7. Detailed formulas and all theoretical details are giv en in Appendixes.
2 Estimation of the net survival
2.1 Pohar-Perme estimator
LetZDbe a vector of the baseline covariates recorded in the cancer regis try such as age
at diagnosis, year of diagnosis, gender and cancer stage at diagno sis. The subscript â€œ Dâ€ is
attached to covariates that are observed at the time of cancer d iagnosis. Denote the time from
diagnosis to death due to any causes by TO. We assume that TOcan be right-censored by the
potential censoring time C. Thus, the observed components are T= min(TO,C), the indicator
of censoring âˆ† = I(TOâ‰¤C), and the covariates ZD, whereI(Â·) is the indicator function. Let
TEandTPbe the time to death due to cancer and that due to any causes othe r than cancer,
respectively, from the date at cancer diagnosis. Note that TO= min(TE,TP). We assume
thatTEandTPare continuous. We suppose we observe ni.i.d. copies of ( T,âˆ†,ZD), and
(Ti,âˆ†i,ZD,i) is the observation for the ith subject ( i= 1,2,...,n). We make inference based
on these observations. For any random variable, we use the subsc riptifor representing its
counterpart for the ith subject.
4The survival function for TOis denoted by SO(t) = Pr(TO> t) and the corresponding
hazard and cumulative hazard functions are denoted by Î»O(t) and Î› O(t), respectively. The
survival, hazard and cumulative hazard functions conditional on ZDare denoted by SO(t|ZD),
Î»O(t|ZD) and Î› O(t|ZD), respectively. The corresponding quantities for TE,TP, andCare
denoted in a similar way with the subscript â€œ Eâ€, â€œPâ€, and â€œCâ€, respectively.
The net survival is deï¬ned as SE(t) =P(TE> t), which is the marginal survival function
ofTEand the estimand of interest. The PPestimator is deï¬ned by
Ë†Î›PP
E(t) =/integraldisplayt
0/summationtextn
i=11
SP(u|ZD,i){dNi(u)âˆ’Yi(u)dÎ›P(u|ZD,i)}
/summationtextn
j=1Yj(u)
SP(u|ZD,j). (1)
whereNi(t) andYi(t) are the counterpart for the ith subject of the counting process N(t) =
I(Tâ‰¤t,âˆ† = 1) and at-risk process Y(t) =I(T > t), respectively.Perme, Stare, and Est` eve
(2012)Assumingthat SP(t|ZD)andÎ› P(t|ZD)areknownforany ZDandt,Perme, Stare, and Est` eve
(2012)showedthatthe PPestimatorconsistentlyestimatesÎ› E(t)undertheconditions(A-1) TEâŠ¥
TP|ZDand (A-2) CâŠ¥ {TE,TP,ZD}(independent censoring).
2.2 Extracting SP(t|ZD)from a life table
In practice, as SP(t|ZD) is unknown, a life table for the general population is used to cal-
culateSP(t|ZD) by extracting the survival function of the general population wit h the same
covariates from the life table. The information contained in the life ta ble is deï¬ned by some
socio-demographic variables such as age, calendar year, and gend er. Suppose that ZDhas no
cancer-speciï¬c variable. More speciï¬cally, let ZD= (Z(1)
D,Z(2)
D,Z(others)tr
D )tr, whereZ(1)
Dand
Z(2)
Dare the age at cancer diagnosis and the year of cancer diagnosis, r espectively, both being
time-dependent variables, Z(others)
Dbe a column vector of other time-invariant demographic
covariates, such as gender and race, and for any column vector V,Vtrindicates the transpose
ofV.
From the deï¬nition, SP(t|ZD) is the survival function for TP, which is the time to non-
cancer death if the subject would not die from cancer since the dat e of their cancer diagnosis.
Althoughextractingthesurvivalfunctioncorrespondingto SP(t|ZD)fromlifetablesisawidely-
5used practice, we would like to discuss its appropriateness more car efully. Life tables provide
annual mortality rates for the population of speciï¬c age, calendar year, and Z(others)
D. With a
series of life tables, we can construct a lexis diagram as shown in Figur e 1(b). Note that we
consider Z(others)
Dï¬xed to a single value since this Lexis diagram is created for each value of
Z(others)
D. For cancer patients of interest with covariates ZD(say, 50 years old in 1990, as seen
in Figure 1( a)), the corresponding life table (matching on both age and year) is p resented by
the plain circle in Figure 1( b). The survival function of the population by age and calendar
year can be then extracted from the series of life tables on the diag onal line. We pretend there
is a cohort of the population with this survival function. The validity o f extracting SP(t|ZD)
with this survival function from the life-table is justiï¬ed if
(i)No cancer patients are included in the cohort underlying the extrac ted survival function
and the non-cancer subjects in this cohort do not die from cancer .
(ii)The survival function for the time to non-cancer death of the can cer patients included in
the cancer registry data is the same to the survival function from the life table, given the
same background covariates.
Even supposing the assumption (ii), the assumption (i) may be quest ionable in reality; some
cancer patients can be included in the cohort underlying the extrac ted survival function, and
they are more likely to die of cancer, whereas some non-cancer sub jects can be diagnosed with
cancer after being included in that cohort and can die of cancer.
3 Formulating the life table and revisiting the current
practice
In this section, notations of the random variables related to the life tables are introduced, be-
causewe distinguishthem fromthe notationsapplyingtorandomvar iablesrelatedto the cancer
registry. For the cancer registry, we use the notations introduc ed in Section 2. For the life table,
a tilde is systematically added. Let ËœZL= (ËœZ(1)
L,ËœZ(2)
L,ËœZ(others)tr
L)trbe a vector of covariates in
the life table. Note that ËœZLhas the same components as ZDand both of ZDandËœZLvary only
6yearly. Supposeweconsiderapatientinthecancerregistry,fore xample,whoisdiagnosedatage
50 in 1990. That is, Z(1)
D= 50 and Z(2)
D= 1990. See Figure 1( a). The patient is matched with
the life table of the corresponding covariates ( ËœZ(1)
L,ËœZ(2)
L,ËœZ(others)tr
L) = (50,1990,Z(others)tr
D),
which is represented by a plain circle in Figures 1( a) and 1(b). As mentioned in Subsection 2.2,
the corresponding survival function can be extracted from a ser ies of life tables on the diago-
nal line through this plain circle, assuming the existence of a cohort u nderlying this survival
function. This is illustrated with two speciï¬c subjects of this cohort in Figure 1( c); one had
been diagnosed as a cancer at the age of 50 ( ËœXL= 1; the upper panel of Figure 1( c)) and
the other had not ( ËœXL= 0; the lower panel of Figure 1( c). To describe these individuals,
we introduce ËœtD, which is the age at diagnosis. Deï¬ne ËœZD= (ËœZ(1)
D,ËœZ(2)
D,ËœZ(others)tr
D)trbe a
covariate vector at ËœtD. For notational convenience, set ËœtL=ËœZ(1)
LatËœZ(2)
L(ËœZ(2)
L= 1990 for
the above illustrative patient). Let ËœXLbe a binary random variable, with the value 1 if, at
ËœtL, subject had already been diagnosed with a cancer and the value 0 o therwise. To link ËœZL
andËœZD, we use the notation ËœZLÂ±srepresenting ËœZLafter/before syears from ËœtL. That is,
ËœZLÂ±s= (ËœZ(1)
LÂ±s,ËœZ(2)
LÂ±s,ËœZ(others)tr
L)tr= (ageÂ±s,yearÂ±s,ËœZ(others)tr
L)tr. If a subject with ËœZL
is diagnosed with a cancer after/before syears from ËœtL,ËœtD=ËœtLÂ±s, thenËœZD=ËœZLÂ±sholds.
Similarly, we deï¬ne ËœXLÂ±sas the information on ËœXLat the time of ËœtLÂ±s.
LetËœTLâ†’Obe the time to death due to any cause from the date of ËœtL. In the subscript
â€œLâ†’Oâ€, â€œLâ€ in the left-hand side of the arrow means the origin and the right com ponent
corresponds to the event. Thus ËœTLâ†’EandËœTLâ†’Pare deï¬ned as the time-to-death due to cancer
and non-cancer causes, respectively, from the date of ËœtL. The random variables for the time-
to-death from cancer diagnosis such as ËœTDâ†’O,ËœTDâ†’EandËœTDâ†’Pare deï¬ned in a similar way.
We also consider a random variable ËœTDâ†’L=ËœtLâˆ’ËœtD, which the time elapsed between the
cancer diagnosis and ËœtLfor individuals whose cancer was diagnosed before the date ËœtL(that
is,ËœXL= 1). For the non-cancer subjects, the corresponding random v ariable at the date of
registration into the life table (i.e. ËœXL= 0), is deï¬ned in the same way ËœTLâ†’D=ËœtDâˆ’ËœtL.
LetÎ±(ËœzL) = Pr(ËœXL= 1|ËœZL= ËœzL). Denote ËœSLâ†’O(t|ËœZL= ËœzL) =P(ËœTLâ†’O> t|ËœZL= ËœzL).
7The correspondingsurvival functions for ËœTLâ†’EandËœTLâ†’Pare denoted in a similar way with the
subscript â€œ Lâ†’Eâ€ and â€œLâ†’Pâ€, respectively. Let ËœFDâ†’L(t|ËœZL= ËœzL,ËœXL= 1) = Pr( ËœTDâ†’Lâ‰¤
t|ËœZL= ËœzL,ËœXL= 1) and ËœFLâ†’D(t|ËœZL= ËœzL,ËœXL= 0) = Pr( ËœTLâ†’Dâ‰¤t|ËœZL= ËœzL,ËœXL= 0).
Inthecurrentpractice, SP(t|ZD=z)isextractedwith ËœSLâ†’O(t|ËœZL=z)matching ZD=ËœZL.
IfÎ±(ËœzL) = 0 for any Ëœ zL(no cancer patients are included in the general population used for the
life table) and ËœSLâ†’E(t|ËœZL= ËœzL,ËœXL= 0) = 1 for all Ëœ zL(non-cancer subjects included in the
life table do not die of cancer), ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 0) =ËœSLâ†’P(t|ËœZL= ËœzL,ËœXL= 0). Then,
the assumption (i) in Section 2 holds. The assumption (ii) in Section 2 ca n be described as
ËœSLâ†’P(t|ËœZL= ËœzL,ËœXL= 0) =ËœSLâ†’P(t|ËœZL= ËœzL) =SP(t|ZD= ËœzL) under the assumption (i).
Then, the current practice is justiï¬ed.
4 Estimation of the net survival in the presence of cancer
death in the life table
4.1 Incidence rate
As described in Section 2, the standard analysis of cancer registry data requires the cancer reg-
istry data and the life table. In addition to these two datasets, we s uppose that the information
on the annual cancer incidence rate for each ËœZLis available. Let fËœtD(u|ËœZL= ËœzL,ËœXL= 0) be
the probability density function of ËœtDconditional on ËœZL= ËœzLandËœXL= 0. The annual cancer
incidence rate for the population with ËœZL= ËœzLis deï¬ned by
IR(ËœzL) =/integraldisplayËœtL+1
ËœtLfËœtD(u|ËœZL= ËœzL,ËœXL= 0)du. (2)
In practice, IR(ËœzL) are calculated as the number of new cancer patients diagnosedwit hin a year
divided by the number of person-years (within a year) in the genera l population with ËœZL= ËœzL.
The number of new cancer patients is calculated from the cancer re gistry, and the number of
person-years (within a year) in the general population is calculated from the vital statistics.
Thus the IR(ËœzL) for each cancer type, even if unavailable in public, can be calculated from the
cancer registry data and the vital statistics.
84.2 Assumptions
Although some assumptions were mentioned in the previous sections , we summarize all the
assumptions for quantities in the cancer registry, those in the life t able, and the relationship
among them. Let
(A-1)TEâŠ¥TP|ZD
(A-2)CâŠ¥ {TE,TP,ZD}
(B-1)ËœTLâ†’EâŠ¥ËœTLâ†’P|{ËœZL,ËœXL= 0}
(B-2)ËœTLâ†’DâŠ¥ËœTDâ†’E|{ËœZL,ËœXL= 0}
(B-3)ËœTDâ†’LâŠ¥ËœTLâ†’O|{ËœZL,ËœXL= 1}
(C-1)SE(t|ZD= Ëœz) =ËœSDâ†’E(t|ËœZD= Ëœz,ËœXL= 0)
(C-2)SP(t|ZD= Ëœz) =ËœSLâ†’P(t|ËœZL= Ëœz,ËœXL= 0).
(C-3)SO(t|ZD= Ëœz) =ËœSDâ†’O(t|ËœZD= Ëœz) =ËœSDâ†’O(t|ËœZD= Ëœz,ËœXL= 1)
The assumptions (A-1) and (A-2) apply to the cancer registry dat a and are required by
Poher-Perme estimator (Perme, Stare, and Est` eve, 2012). Th e assumptions (B-1) to (B-3)
apply to the life table. The assumption (B-1) corresponds to (A-1) . As argued in Section 3,
each cancer patient in the cancer registry is matched with a subjec t with the corresponding
baseline characteristics in the cohort underlying in the life table. The corresponding survival
function is then extracted (see Section 3 and Figure 1). Assumptio ns (B-2) and (B-3) describe
a kind of non-informativeness for extracted TPandTE; once the baseline characteristics are
matched, a subject in the life table is selected regardless of their na tural history of cancer.
The assumptions from (C-1) to (C-3) establish the corresponden ces between the cancer registry
and life table data. The assumption (C-1) implies that the survival fu nctions of the time to
cancer death from diagnosis are the same between the cancer pat ients registered in the cancer
registryand those in the life table ifthey havethe samecovariatesa t diagnosis. The assumption
9(C-2) means that the survival functions of the time to non-cance r death are common among
the cancer patients and the non-cancer subjects as long as the b aseline covariates are same.
The assumption (C-2) guarantees assumption (ii) of Section 2. The assumption (C-3) implies
that cancer patients included in the life table are assumed to be similar to those in the cancer
registry once diagnosed as cancer.
4.3 Integral equation for SP(t|ZD)
Recall that Î±(ËœzL) = Pr(ËœXL= 1|ËœZL= ËœzL). It holds that
ËœSLâ†’O(t|ËœZL= ËœzL) =Î±(ËœzL)ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)
+{1âˆ’Î±(ËœzL)}ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 0). (3)
From (B-1), ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 0) =ËœSLâ†’E(t|ËœZL= ËœzL,ËœXL= 0)Ã—ËœSLâ†’P(t|ËœZL= ËœzL,ËœXL=
0). Then, by simple algebraic manipulation, the equation (3) leads to
ËœSLâ†’O(t|ËœZL= ËœzL)âˆ’Î±(ËœzL)ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Î±(ËœzL)}ËœSLâ†’P(t|ËœZL= ËœzL,ËœXL= 0)=ËœSLâ†’E(t|ËœZL= ËœzL,ËœXL= 0).(4)
Under the assumption (C-2), ËœSLâ†’P(t|ËœZL= ËœzL,ËœXL= 0) =SP(t|ZD= ËœzL). As presented in
Appendix A, it holds that
ËœSLâ†’E(t|ËœZL= ËœzL,ËœXL= 0)
= 1âˆ’/integraldisplayt
0/braceleftbigg
1âˆ’SO(tâˆ’s|ZD= ËœzL+s)
SP(tâˆ’s|ZD= ËœzL+s)/bracerightbigg
dËœFLâ†’D(s|ËœZL= ËœzL,ËœXL= 0). (5)
Recall that as deï¬ned in Section 3, ËœZL+sis a time-shifted version of ËœZL, whereËœZ(1)
L(age) and
ËœZ(2)
L(calendar year) were shifted by + s. With (5), the equation (4) leads to
ËœSLâ†’O(t|ËœZL= ËœzL)âˆ’Î±(ËœzL)ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Î±(ËœzL)}SP(t|ZD= ËœzL)
= 1âˆ’/integraldisplayt
0/braceleftbigg
1âˆ’SO(tâˆ’s|ZD= ËœzL+s)
SP(tâˆ’s|ZD= ËœzL+s)/bracerightbigg
dËœFLâ†’D(s|ËœZL= ËœzL,ËœXL= 0). (6)
It is regarded as an integral equation with respect to SP(t|ZD).
4.4 Estimation of SP(t|ZD)by solving the empirical integral equation
In this subsection, we consider an empirical version of the integral equation (6), in which all
the theoretical quantities are replaced with their empirical ones. W e denote these empirical
10ones with the superscript of hat. For example, the empirical versio n ofËœSLâ†’O(t|ËœZL= ËœzL) is
denoted by Ë†SLâ†’O(t|ËœZL= ËœzL). In the left hand side of (6), ËœSLâ†’O(t|ËœZL= ËœzL) is obtained from
the life table. With the annual cancer incidence rate IR(ËœzL),Î±(ËœZL) is estimated by the method
presented in Appendix B.1. Since IR(ËœzL) is available only in an annual basis, we consider to
estimate SP(t|ZD) only at t= 0,1,2,Â·Â·Â·.
AsshowninAppendixA, ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)inthelefthandsideof(6)isrepresented
as
ËœSLâ†’O(t|ËœZL= Ëœz,ËœXL= 1)
= 1âˆ’/integraldisplayËœtL
0{1âˆ’SO(t+s|ZD= ËœzLâˆ’s)}dËœFDâ†’L(s|ËœZL= Ëœz,ËœXL= 1), (7)
under the assumptions (B-3) and (C-3). To handle the integral in t he right hand side of
(7),SO(t|ZD= ËœzLâˆ’s) for each s= 0,1,Â·Â·Â·,ËœtLshould be available over (0 ,t+s). However,
depending on the follow-up duration, it is not necessarily obtained fr om the cancer registry. To
estimateoverthe interval, anextrapolationmethod with the Kaplan -Meierestimate is proposed
in Appendix C. The method to estimate ËœFDâ†’L(t|ËœZL= Ëœz,ËœXL= 1) is presented in Appendix
B.2. Then, an estimator for ËœSLâ†’O(t|ËœZL= Ëœz,ËœXL= 1) is given by
Ë†SLâ†’O(t|ËœZL= Ëœz,ËœXL= 1)
= 1âˆ’/integraldisplayËœtL
0/braceleftï£¬ig
1âˆ’Ë†SO(t+s|ZD= ËœzLâˆ’s)/bracerightï£¬ig
dË†FDâ†’L(s|ËœZL= Ëœz,ËœXL= 1).
Denote âˆ† ËœFk=ËœFLâ†’D(k|ËœZL= ËœzL,ËœXL= 0)âˆ’ËœFLâ†’D(kâˆ’1|ËœZL= ËœzL,ËœXL= 0) for k= 1,2,Â·Â·Â·
withËœFLâ†’D(0|ËœZL= ËœzL,ËœXL= 0) = 0. A method to estimate ËœFLâ†’D(0|ËœZL= ËœzL,ËœXL= 0) is
presented in Appendix B.3. Then, ËœFLâ†’D(t|ËœZL= ËœzL,ËœXL= 0) =/summationtext
k:kâ‰¤tâˆ†ËœFkand the integral
equation (6) is represented by
ËœSLâ†’O(t|ËœZL= ËœzL)âˆ’Î±(ËœzL)ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Î±(ËœzL)}Sp(t|ZD= ËœzL)
= 1âˆ’/summationdisplay
k:kâ‰¤t/braceleftbigg
1âˆ’SO(tâˆ’k|ZD= ËœzL+k)
SP(tâˆ’k|ZD= ËœzL+k)/bracerightbigg
âˆ†ËœFk. (8)
11Set the right hand side of (8) as
r(t|ËœzL) = 1âˆ’/summationdisplay
k:kâ‰¤thËœzL(t,k)âˆ†ËœFk,
where
hËœzL(t,k) = 1âˆ’SO(tâˆ’k|ZD= ËœzL+k)
SP(tâˆ’k|ZD= ËœzL+k),
andhËœzL(k,k) = 0 for any k. Then (8) is represented as
r(t|ËœzL) =ËœSLâ†’O(t|ËœZL= ËœzL)âˆ’Î±(ËœzL)ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Î±(ËœzL)}SP(t|ZD= ËœzL), (9)
Consideringthe equation (8) or (9) at t= 1,2,Â·Â·Â·,K, one has the following system of the linear
equations,
ï£«
ï£¬ï£¬ï£¬ï£­r(1|ËœzL)
r(2|ËœzL)
...
r(K|ËœzL)ï£¶
ï£·ï£·ï£·ï£¸=ï£«
ï£¬ï£¬ï£¬ï£­1
1
...
1ï£¶
ï£·ï£·ï£·ï£¸âˆ’ï£«
ï£¬ï£¬ï£¬ï£¬ï£­0 0 Â·Â·Â·0
hËœzL(2,1) 0 0...
.........0
hËœzL(K,1)hËœzL(K,2)Â·Â·Â·0ï£¶
ï£·ï£·ï£·ï£·ï£¸ï£«
ï£¬ï£¬ï£¬ï£­âˆ†ËœF1
âˆ†ËœF2
...,
âˆ†ËœFKï£¶
ï£·ï£·ï£·ï£¸(10)
The system of the linear equation (10) can be easily solved recursive ly replacing unknown
theoretical quantities with their estimators as follows. The ï¬rst eq uation of (10) is r(1|ËœzL) = 1.
Then, from the equation (9), SP(t|ZD= ËœzL) att= 1 is estimated by
Ë†SP(1|ZD= ËœzL) =ËœSLâ†’O(1|ËœZL= ËœzL)âˆ’Ë†Î±(ËœzL)Ë†SLâ†’O(1|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Ë†Î±(ËœzL)}.
The second equation of (10) is r(2|ËœzL) = 1âˆ’hËœzL(2,1)âˆ†ËœF1. Set
Ë†hËœzL(2,1) = 1âˆ’Ë†SO(1|ZD= ËœzL+1)
Ë†SP(1|ZD= ËœzL+1)and Ë†r(2|ËœzL) = 1âˆ’Ë†hËœzL(2,1)âˆ†Ë†F1.
Then, from (9),
Ë†SP(2|ZD= ËœzL) =ËœSLâ†’O(2|ËœZL= ËœzL)âˆ’Ë†Î±(ËœzL)Ë†SLâ†’O(2|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Ë†Î±(ËœzL)}Ë†r(2|ËœzL).
SP(t|ZD= ËœzL) fortâ‰¥3 can be calculated recursively in a similar fashion by
Ë†SP(t|ZD= ËœzL) =ËœSLâ†’O(t|ËœZL= ËœzL)âˆ’Ë†Î±(ËœzL)Ë†SLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Ë†Î±(ËœzL)}Ë†r(t|ËœzL),
12where
Ë†r(t|ËœzL) = 1âˆ’/summationdisplay
k:kâ‰¤tË†hËœzL(t,k)âˆ†Ë†Fk= 1âˆ’/summationdisplay
k:kâ‰¤t/braceleftï£¬igg
1âˆ’Ë†SO(tâˆ’k|ZD= ËœzL+k)
Ë†SP(tâˆ’k|ZD= ËœzL+k)/bracerightï£¬igg
âˆ†Ë†Fk.
Followingtheaboveprocedures,weestimate SP(t|ZD= ËœzL)att= 1,2,Â·Â·Â·,K,andtheresulting
estimatorisdenotedby Ë†SP(t|ZD= ËœzL). Fortotherthan t= 1,2,Â·Â·Â·,K,log-linearinterpolation
is applied. In Appendix D, a proof of consistency of Ë†SP(t|ZD= ËœzL) toSP(t|ZD= ËœzL) is
presented. Note that in the standard practice, Ë†SLâ†’O(t|ËœZL= ËœzL) is used as SP(t|ZD= ËœzL) in
(1). Instead, we propose to use Ë†SP(t|ZD= ËœzL) in calculating the PPestimator.
5 Simulation study
We present the results ofa simulation study to investigatethe beha viorofthe proposedmethod.
To generate the cancer registry data and life table, we consider th e natural histories of subjects
in a birth cohort as illustrated in Figure 1( c). Each subject has the potential time to diagnosis
of the cancer of interest after birth, ËœtD, and the potential time to death due to other causes
after birth, denoted by ËœtP. IfËœtDis shorter than ËœtP, the subject has the time to death due
to cancer from the date of diagnosis, ËœTDâ†’E. The cancer registry data was constructed as
the population registered at ËœtD, and it has the information of the baseline covariates at ËœtD
and time-to-death. The time-to-death due to any causes after d iagnosis was calculated by
ËœTDâ†’O= min(ËœTDâ†’E,ËœtPâˆ’ËœtD). From this information, the annual numbers of deaths from any
cause, subjects diagnosed as cancer, and subjects in the popula tion were calculated in each
covariate. Then, the life tables and the annual cancer incidence ra tes were constructed.
We considered a cohort of 50,000 subjects born in 1960. We genera ted gender from the
Bernoulli distribution with the probability of 0.5. ËœtDandËœtPwere generated under the four
13settings as follows;
Dataset 1 : ËœtDâˆ¼Weibull(0.5Ã—10âˆ’2,1),ËœtPâˆ¼Weibull(1.0Ã—10âˆ’2,2)
Dataset 2 : ËœtDâˆ¼Weibull(1.5Ã—10âˆ’2,1),ËœtPâˆ¼Weibull(1.0Ã—10âˆ’2,2)
Dataset 3 : ËœtDâˆ¼LN(log65,2),ËœtPâˆ¼LN(log75,2)
Dataset 4 : ËœtDâˆ¼LN(log65,1),ËœtPâˆ¼LN(log75,2)
whereWeibull(Î»,p) indicates the Weibull distribution with the hazard function of Î»p(Î»t)pâˆ’1)
andLN(Âµ,Ïƒ2) indicates the Log-normal distribution. Datasets 1 and 3 had low ca ncer inci-
dence and Datasets 2 and 4 had high cancer incidence. The covariat es at the cancer diagnosis
ËœZD= (age,year,gender )trwere calculated by ( ËœtD,1960+ËœtD,gender)tr.ËœTDâ†’Ewas generated
from the exponential distribution with hazard rate Î»E(t|ËœZD) =Î»exp/braceleftï£¬ig
Î²trËœZD/bracerightï£¬ig
, where Î»=
0.1exp{âˆ’log1.2Ã—60/7.5âˆ’log0.95Ã—(2000âˆ’1960)/15}andÎ²= (log1.2/7.5,log0.95/15,log0.8)tr.
The potential censoring time from diagnosis, C, was generated from the uniform distribution
on [0,15]. In this simulation, we focused on patients diagnosed from 60 to 7 4 years old, i.e.
selected by ËœtDâˆˆ[60,75). We simulated 1,000 datasets in each setting. The true net surv ival
function SE(t) =EZD[exp(âˆ’tÎ»E(t|ZD))] was calculated by the average of exp( âˆ’tÎ»E(t|ZD))
overn= 500,000.
Table 1 displays the number of cancer patients and events in each of four datasets. To
apply the proposed method, we calculated the Kaplan-Meier estimat ors for each subpopulation
withZDto estimate SO(t|ZD). For the log-linear extrapolation of SO(t|ZD) beyond the end
of follow-up in (7), we used H= 4 and H= 10. Table 2 showed the empirical biases and
root mean squared errors (rMSEs) of estimates for 3-, 5-, 7-, a nd 10-years net survivals. In all
datasets, the PPestimator had considerable biases particularly in the case of high incid ence
(Datasets 3 and 4). The proposed method had negligible biases for a ll time points and the
rMSEs of the proposed methods were smaller than that of the PPestimator. No substantial
diï¬€erences in estimation accuracy were observed between extrap olation using the H= 4 and
with 10.
146 Illustration
We illustrated our proposed method by analyzing two cancer sites fr om the National Cancer
Registry at the Oï¬ƒce for National Statistics. We focused on a subg roup of all adult aged 65â€“74
years, who was diagnosed as colon or prostate cancers from 1990 to 2000 in London, England.
All patients were followed up to 15 years after diagnosis. For colon c ancer, 55,033 patients were
included and 48,549 among them died until the end of follow-up. For pr ostate cancer, 71,419
patients were included, and 62,422 patients died. The data were ana lyzed by cancer sites (colon
and prostate). To apply the PPestimator, set ZD= (age,year,gender )trin colon cancer and
ZD= (age,year )trin prostate cancer.
To calculate ËœSLâ†’O(t|ËœZL), we used the population life-table of England, which gives annual
mortality from 1981 to 2015 by age and gender. To calculate the incid ence rate, we used the
information of the number of populations by age, gender, and calen dar year, which are available
fromEnglandPopulationEstimates1971to2014( https://www.ons.gov.uk/peoplepopulationandcommunity ).
The survival function SO(t|ZD) was estimated by the Kaplan-Meier method applied to the sub-
population by ZD. Extrapolation of SO(t|ZD) required in (7) was made by the method in
Appendix C with H= 4 and 10.
Figure 2(A) shows the net survival estimated by the PPestimator with the standard ap-
proach of the population life-table and that with the proposed adju stment ( H= 4 or 10)
for colon cancer. Correspondingly, the estimated net survival pr obabilities at selected time
points are shown in Table 3. Recall that in the standard approach, ËœSLâ†’O(t|ËœZL) is used as
SP(t|ZD), whereas in the proposed adjustment SP(t|ZD) is estimated. To see the magnitude
of the diï¬€erence between both approaches, in Figure 2(B), ËœSLâ†’O(t|ËœZL= (65,1990,male))
andË†SP(t|ZD= (65,1990,male)) are plotted, which are used for estimates of SP(t|ZD=
(65,1990,male))in (1) in the standard method and the proposed one, respective ly. Figure 2(C)
showsËœSLâ†’E(t|ËœZL= (65,1990,male),ËœXL= 0), and Figure 2(D) shows Î±(ËœZL) by age. Recall
thatËœSLâ†’E(t|ËœZL,ËœXL= 0) = 1 for any tandÎ±(ËœZL) = 0 hold if the life table did not include
15cancer patients or cancer deaths. Figure 2(C) indicated only small inclusion of cancer death
in the life tables, and Figure 2(D) showed that the inclusion of cancer patients is also minor.
Correspondingly, as seen in Figure 2(B), estimated SP(t|ZD) were slightly diï¬€erent with the
proposed adjustment. Then, as seen in Figure 2(A), the PPestimates of net survival were
modiï¬ed by the proposed method by 0.4 to 0.6% at any time points.
Results for prostate cancer are presented in Figure 3. On the con traryto colon cancer, there
was a rather higher impact by the inclusion of prostate cancer deat hs in the life table as seen
in Figure 3(A); the PPestimates with the proposed method were 0.8 to 1.6% lower than thos e
with the standard use of the life table. As seen in Figure 3(B), the pr oposed method made a
certain amount of adjustment in estimation of SP(t|ZD= (65,1990)). As shown in Figure 3(C)
and 3(D), the inclusion of cancer population and cancer deaths in th e life table would not be
ignorable.
7 Discussion
When analyzing population-based cancer registry data, external life tables (from the general
population) are commonly utilized to estimate cancer-related surviv al measures (such as net
survival) within the relative survival data setting. Such estimation a ssumes the absence of can-
cer patients and cancer deaths in the life tables, which cannot be fu lly met. Although the issue
is generally ignored by assuming a minor impact on the estimation of net survival, a sensitivity
analysis method to address it was also proposed by TalbÂ¨ ack and Dick man (2011). Their sensi-
tivity analysis requires information on the number of cancer deaths in the general population,
an information which is not available in the data usually collected by canc er registries. In this
paper, we demonstrate how to address this problem with a method b ased on an easily tractable
integral equation. In contrast to the approach introduced in Talb Â¨ ack and Dickman (2011), our
method requires only information contained in the standard cancer registry datasets.
Our method is easily extendable to various measures other than net survival, such as rel-
ative survival ratio or crude probability of death. The relative surv ival is deï¬ned as SR(t) =
16SO(t)/SP(t), which is the ratio between overall survival in the cancer patients and that for
the general population. The Ederer I ( E1) estimator Ederer, Axitell, and Cutler (1961);
Perme, Stare, and Est` eve (2012) of Î› R(t) =âˆ’logSR(t), which is the consistent estimator
of the relative survival ratio, is deï¬ned by
Ë†Î›E1
R(t) =/integraldisplayt
0/summationtextn
i=1dNi(u)/summationtextn
j=1Yj(u)âˆ’/integraldisplayt
0/summationtextn
i=1ËœSLâ†’O(u|ZD,i)dËœÎ›Lâ†’O(u|ZD,i)/summationtextn
j=1ËœSLâ†’O(u|ZD,j). (11)
TheE1 estimator is a consistent estimator of Î› R(t) under the condition CâŠ¥ {TO,ZD}(in-
dependent censoring). With the E1 estimator, one can replace ËœSLâ†’O(t|ZD) andËœÎ›Lâ†’O(t|ZD)
in the equation (11) with the adjusted version. The crude probabilit y of death is deï¬ned
byFCPD(t) =/integraltextt
0SO(u)Î»âˆ—
E(u)du, whereÎ»âˆ—
E(u) = lim hâ†’0Pr(t < TEâ‰¤t+h|TOâ‰¥t)/his a
cause speciï¬c hazard due to cancer. An estimator of the crude pr obability of death is deï¬ned
byË†FCPD(t) =/integraltextt
0Ë†SO(u)dË†Î›âˆ—
E(u),Cronin and Feuer (2000); Perme, Stare, and Est` eve (2012);
Perme and PavliË‡ c (2018) where Ë†SO(t) is the estimator of the overall survival, i.e., its cumula-
tive hazard function is estimated as the Nelson-Aalen estimator, an d
Ë†Î›âˆ—
E(t) =/integraldisplayt
0/summationtextn
i=1dNi(u)/summationtextn
j=1Yj(u)âˆ’/integraldisplayt
0/summationtextn
i=1Yi(u)dÎ›P(u|ZD,i)/summationtextn
j=1Yj(u). (12)
This estimator is a consistent under the independent censoring ass umption CâŠ¥ {TO,TP,ZD}.
For this estimator, Î› P(u|ZD) needs to be replaced with the adjusted version.
Ederer, Axitell, and Cutler (1961), EstÂ´ eve, Benhamou, and Raym ond (1994), and others
have stated that the presence of cancer death in the life table had a minimal impact on the esti-
mation of these cancer survival measures. Although our illustratio n supported this in particular
in the case of low cancer incidence, it is not necessarily true if the incid ence rate is not low and
the incidence rate of some cancer types may increase in the future .Siegel, Miller, and Jemal
(2016) Then, it is valuable to have tools to address the issue quantit atively. Furthermore,
the net survival and other related survival measures have attra cted attention in the context
of human immunodeï¬ciency virus (HIV) cohorts Marston et al. (200 5, 2007); Bhaskaran et al.
(2008); Marston et al. (2011) or of cardiovascular diseases Nelso n et al. (2008); Lantelme et al.
(2022). Because of the dramatic improvement of prognosis among individuals infected with
17HIV following the widespread introduction of highly active antiretrov iral therapy (HAART), it
became important to account for the competing risks of death fro m other causes when estimat-
ing survival from HIV. In the absence of accurate information on t he cause of death, methods
developed for the relative survival setting can be applied. Because HIV prevalence is very high
in some African regions (for example exceeding 10% in the 15-49 age g roup in South Africa
and Botswana), it is crucial to address the presence of HIV patien ts and HIV deaths in the life
tables. Similarly, the high prevalence and mortality of cardiovascular diseases in many popula-
tions are likely to violate the assumptions underlying survival estimat ion approaches within the
relative survival setting. In such situations, the proposed metho d would play very important
roles.
Acknowledgment
The ï¬rst authorâ€™s research was partly supported by Grant-in-Aid for Early-Career Scientists
(20K19754) from the Ministry of Education, Science, Sports and T echnology of Japan. The
second authorâ€™s research was partly supported by Grant-in-Aid f or Challenging Exploratory
Research (16K12403) and for Scientiï¬c Research (16H06299, 18 H03208) from the Ministry of
Education, Science, Sports and Technology of Japan. The third au thorâ€™s research was partly
supported by Cancer Research UK (Reference C7923/A18525). Computational calculations
were performed at the Institute of Medical Science (the Universit y of Tokyo).
Conï¬‚ict of Interest : None declared.
References
Angelis R. D., Sant M, Coleman M. P., et al.. Cancer survival in Europe 1999â€“2007 by country
and age: results of EUROCARE-5â€”a population-based study. Lancet Oncol . 2014;15,23â€”
34.
Allemani, C., Matsuda, T., Di Carlo, V., et al.. Global surveillance of trends in cancer survival
2000â€“14(CONCORD-3): analysisofindividualrecordsfor3751302 5patientsdiagnosedwith
18one of 18 cancers from 322 population-based registries in 71 count riesLancet. 2018;391:1023-
â€“1075.
Ederer, F., Axitell, L. M., and Cutler, S. J. The relativesurvivalrate : a statistical methodology.
National Cancer Institute Monograph . 1961;6:101â€“121.
Cronin K. A. and Feuer E. J. Cumulative cause-speciï¬c mortality for cancer patients in the
presenceofothercauses: acrudeanalogueofrelativesurvival. Statistics in Medicine . 2000;19,
1729â€”1740.
Perme, M. P., Stare, J., and Est` eve, J. On estimation in relative sur vival.Biometrics .
2012;68:113â€“120.
Perme, M. P., Est` eve J., and Rachet B. Analysing population-based cancer survival - settling
the controversies. BMC Cancer . 2016;16(1),933.
Belot A., Ndiaye A., Luque-Fernandez M.-A., et al.. Summarizing and communicating on
survival data according to the audience: a tutorial on diï¬€erent me asures illustrated with
population-based cancer registry data. Clin. Epidemiol . 2019;11,53-â€“65.
Breslow N. E., Lubin J. H., Marek P., et al.. Multiplicative Models and Cohort. Journal of
American Statatistic Association . 1983;78(381), 1â€“12.
EstÂ´ eve J., Benhamou E., and Raymond L. Statistical methods in cancer research, volume IV.
Descriptive epidemiology . IARC Scientiï¬c Publications No. 128. International Agency for
Research on Cancer: Lyon; 1994.
TalbÂ¨ ack M. and Dickman P. W. Estimating expected survival probab ilities for relative survival
analysis â€“ Exploring the impact of including cancer patient mortality in t he calculations.
European Journal of Cancer . 2011;47,2626â€“2632.
Perme M. P. and PavliË‡ cK. Nonparametric relative survival analysis with the R package relsurv.
Journal of Statistical Software . 2018;87(8),doi: 10.18637/jss.v087.i08.
19Siegel R. L., Miller K. D., and Jemal A. Cancer Statistics, 2016. CA: A Cancer Journal for
Clinicians . 2016;66,7â€“30.
MarstonM., ZaraB., SalomonJ.A., et al.. Estimatingthe Net Eï¬€ect ofHIVon Child Mortality
in African Populations Aï¬€ected by Generalized HIV Epidemics. J Acquir Immune Deï¬c
Syndr. 2005;38(2),219-227.
Marston M., Todd J., Glynn J. R., et al.. Estimating â€˜netâ€™ HIV-related mortality and the
importance of background mortality rates. AIDS. 2007;21(suppl 6), S65â€”S71.
BhaskaranK., Hamouda O., Sannes M, et al.. Changes in the Risk of Death After HIV Serocon-
version Compared With Mortality in the General Population. Journal of American Medical
Association . 2008;300(1), 51â€“59.
Marston M., Becquet R., Zaba B., et al.. Net survival of perinatally and postnatally HIV-
infected children: a pooled analysis of individual data from sub-Saha ran Africa. International
Journal of Epidemiology . 2011;40(2),385-â€“396.
Nelson C. P., Lambert P. C., Squire I. B., et al.. Relative survival: what can cardiovascular
disease learn from cancer? European Heart Journal . 2008;29(7),941â€”947.
Lantelme P., MoulayatC., Courand P.-Y., et al.. Gain in net survival from hypertension control
over the last half-century. European Journal of Preventive Cardiology . 2022;29(1),169-â€“177.
Gong Q. and Fang L. Asymptotic properties of mean survival estima te based on the Kaplan-
Meier curve with an extrapolated tail. Pharmaceutical Statistics . 2012;11,135â€“140.
Reisfeld B., Arthur N., and Mayeno A. N. Computational Toxicology: Volume I . Humana
Press;2012.
Fleming, T. R. and Harrington, D. P. (1991).Counting Processes and Survival Analysis .
Hoboken, NJ:John Wiley and Sons, Inc.
20     (1) (2) ( ) ( ) ( ) ( ) 
, , , , 50,1990, ( ) Cancer registry data:Subject diagnosed as cancer with covariates 
say D
others others others 
D D D D D Da Z 
Z Z y ag Z Z ear Z Z e    
( ) Relationship between underlying variables in each subject in general p opulation to calculate life table with L c Z ( ) Lexis diagram constracted from life table across multiple pairs  of age and year: Diagonal line corresponds to general 
population of 50 years old at 1990. Information of general population of 50 years old at b
1990 is extracted from them. ) Time b 0 ( irth 0 age a 50 199 tOT
) In case the subject was diagnosed before 50 years old diagnosed at yea ( 1) : a 30 ( 19 rs old age 30 t 70 L D X t    
) Time b 0 ( irth 50 1990 
( ) age at 
LtL O D O L D T T T o o o      
D O To50 30 D L L D T t to  
     
30 1980 
( ) age at 
Dt
) I d( n case the subject was diagnosed after 50 years ol diagnosed at  years old age 65 t 0) : 65 2 a ( 005L D X t    
) Time b 0 ( irth 50 1990 
( ) age at 
LtL O L D D O T T T o o o      
D O To
65 50 L D D L T t to 
     
65 2005 
( ) age at 
DtAge Year 
50 1990
0194019891991
49 51 9 Life table for age 51a 198 t
Figure 1: Conceptual diagrams of cancer registrydata and of cor respondinglife tables: (a) Line
plot in age for a cancer patient with covariates at diagnosis, ZD, in cancer registry data. (b)
Lexis diagram constructed from life table across the pairs of age an d year: for a cancer patient
described in (a), information of the general population is extracte d from them on diagonal line.
(c) The relationship among the random variables for a subject regis tered in the life table.
210 5 10 150.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0(A)
Time(y)Net survivalProposed(4)
Proposed(10)
PP
0 5 10 150.4 0.5 0.6 0.7 0.8 0.9 1.0(B)
Time(y)Survival
Proposed(4)
Proposed(10)
Lifeâˆ’table
0 5 10 150.80 0.85 0.90 0.95 1.00(C)
Time(y)Survival
Proposed(4)
Proposed(10)
65 66 67 68 69 70 71 72 73 74Proposed(4)
Proposed(10)(D)
AgePrevalence
0.000 0.005 0.010 0.015
Figure 2: Plots of estimated survival curves and prevalence rates for colon cancer patients
diagnosed at age 64-74 in England; (A) shows the net survival curv es by the proposed methods
withH= 4 and 10 and the Pohar-Perme estimator; (B) plot the population s urvival curve
from the life table and the non-cancer survival estimated by the pr oposed methods; (C) plots
the cancer survival function for the non-cancer patient at the r egistration to the life table; (D)
shows the estimated prevalence rates of male population at each ag e in 1990. (B) and (C) show
the survival functions for male population of 65 years old in 1990.
220 5 10 150.4 0.5 0.6 0.7 0.8 0.9 1.0(A)
Time(y)Net survivalProposed(4)
Proposed(10)
PP
0 5 10 150.4 0.5 0.6 0.7 0.8 0.9 1.0(B)
Time(y)Survival
Proposed(4)
Proposed(10)
Lifeâˆ’table
0 5 10 150.80 0.85 0.90 0.95 1.00(C)
Time(y)Survival
Proposed(4)
Proposed(10)
65 66 67 68 69 70 71 72 73 74Proposed(4)
Proposed(10)(D)
AgePrevalence
0.00 0.02 0.04 0.06 0.08
Figure 3: Plots of estimated survival curves and prevalence rates for prostate cancer patients
diagnosed at age 65-74 in England; (A) shows the net survival curv es by the proposed methods
withH= 4 and 10 and the Pohar-Perme estimator; (B) plot the population s urvival curve
from the life table and the non-cancer survival estimated by the pr oposed methods; (C) plots
the cancer survival function for the non-cancer patient at the r egistration to the life table;
(D) shows the estimated prevalence rates at each age in 1990. (B) and (C) show the survival
functions for 65 years old in 1990.
23Table 1: Summary of simulated cancer registry data: Medians with ra nges of the number of
cancer patients diagnosed from 60 to 74 years old and of the numbe r of events across the 1,000
simulation data are presented. The dataset 1 and 2 are by the low an d high incidence Weibull
models, respectively. The dataset 3 and 4 are by the low and high incid ence log-normal model,
respectively.
Dataset Patients(Median[Range]) Events(Median[Range])
1 1699 [1572, 1836] 870 [771, 970]
2 2605 [2431, 2753] 1329.5 [1196, 1426]
3 1160 [1058, 1272] 565 [501, 634]
4 2320 [2162, 2449] 1127 [1026, 1238]
24Table 2: Results of the simulation studies for the evaluation of the pr oposed estimators with the use of 4-points and 10-points near the end
of follow-up: Average of estimates, percentage bias(%), and rMS E (empirical root of mean squared error) across the 1,000 simulatio n data are
presented in each year. The dataset 1and 2 are by the low and high in cidence Weibull models, respectively. The dataset 3 and 4 are by the low
and high incidence log-normal model, respectively.
Proposed( H= 4) Proposed( H= 10) Pohar-Perme
Dataset Year True Ave %Bias rMSE( Ã—100) Ave %Bias rMSE( Ã—100) Ave %Bias rMSE( Ã—100)
1 3 0.748 0.748 -0.05 1.23 0.747 -0.17 1.24 0.761 1.76 1.77
5 0.617 0.617 0.02 1.48 0.616 -0.17 1.48 0.636 3.02 2.377 0.51 0.51 0.06 1.69 0.509 -0.18 1.69 0.531 4.23 2.74
10 0.383 0.384 0.22 1.87 0.383 -0.06 1.87 0.406 6.06 3.01
2 3 0.749 0.751 0.31 1.16 0.749 -0.01 1.14 0.789 5.28 4.08
5 0.618 0.622 0.62 1.4 0.619 0.14 1.35 0.674 9.05 5.737 0.511 0.517 1.15 1.55 0.514 0.52 1.47 0.578 13.1 6.84
10 0.384 0.392 2.08 1.78 0.389 1.3 1.67 0.458 19.21 7.57
3 3 0.748 0.756 0.95 1.65 0.755 0.85 1.62 0.77 2.85 2.57
5 0.617 0.628 1.69 2.01 0.627 1.53 1.97 0.648 4.89 3.467 0.51 0.522 2.37 2.23 0.521 2.18 2.18 0.545 6.90 3.99
10 0.383 0.396 3.34 2.42 0.395 3.14 2.38 0.421 9.88 4.34
4 3 0.749 0.752 0.36 1.15 0.750 0.17 1.13 0.781 4.29 3.37
5 0.618 0.623 0.77 1.37 0.621 0.48 1.32 0.664 7.41 4.747 0.51 0.516 1.1 1.51 0.514 0.71 1.45 0.564 10.50 5.54
10 0.384 0.391 2.03 1.76 0.390 1.57 1.69 0.443 15.49 6.17
25Table3: Estimatesofthe3-year,5-year,7-year,and10-yearn etsurvivalsforpatientswith colon
and prostate cancers (the number of events: 55,033 in colon canc er and 71,419 in prostate, the
number of patients: 48,549 in colon cancer and 62,422 in prostate) in cancer registry data in
England.
Proposed Pohar-Perme
Site Year H= 4H= 10
colon 3 0.517 0.517 0.521
5 0.458 0.458 0.462
7 0.433 0.433 0.438
10 0.419 0.419 0.425
prostate 3 0.750 0.750 0.758
5 0.665 0.665 0.675
7 0.602 0.602 0.615
10 0.534 0.534 0.550
26Appendix
A: Derivations of (5) and (7)
Recall that ËœTLâ†’E=ËœTLâ†’D+ËœTDâ†’Efor a non-cancer subject at ËœtL(ËœXL= 0). Under the
assumption (B-2), by using the convolution formula (Chapter 2 in Du rrett, 2010) for a sum of
independent random variable, it holds that
ËœSLâ†’E(t|ËœZL= ËœzL,ËœXL= 0) = Pr( ËœTLâ†’D+ËœTDâ†’E> t|ËœZL= ËœzL,ËœXL= 0)
= 1âˆ’Pr(ËœTLâ†’D+ËœTDâ†’Eâ‰¤t|ËœZL= ËœzL,ËœXL= 0)
= 1âˆ’/integraldisplayt
0/braceleftï£¬ig
1âˆ’ËœSDâ†’E(tâˆ’s|ËœZD= ËœzL+s,ËœXL= 0)/bracerightï£¬ig
dËœFLâ†’D(s|ËœZL= ËœzL,ËœXL= 0).
Note that the origin of ËœSDâ†’E(tâˆ’s|ËœZD= ËœzL+s,ËœXL= 0) in the integrand is the date when
a subject is diagnosed as cancer. Thus, the covariate ËœZDwas shifted by sfromËœZL. From
(C-1),SE(t|ZD= ËœzL+s) =ËœSDâ†’E(t|ËœZD= ËœzL+s,ËœXL= 0). Under (A-1), SE(tâˆ’s|ZD= ËœzL+s) =
SO(tâˆ’s|ZD= ËœzL+s)/SP(tâˆ’s|ZD= ËœzL+s) holds. Then, we have (5).
For the subjects with ËœXL= 1,ËœTLâ†’O=ËœTDâ†’Oâˆ’ËœTDâ†’L. Then, the convolution technique
(Chapter 2 in Durrett, 2010) applied under (B-3) gives
ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)
= 1âˆ’/integraldisplayËœtL
0/braceleftï£¬ig
1âˆ’ËœSDâ†’O(t+s|ËœZL= ËœzL,ËœXL= 1)/bracerightï£¬ig
dËœFDâ†’L(s|ËœZL= ËœzL,ËœXL= 1)
= 1âˆ’/integraldisplayËœtL
0/braceleftï£¬ig
1âˆ’ËœSDâ†’O(t+s|ËœZD= ËœzLâˆ’s,ËœXL= 1)/bracerightï£¬ig
dËœFDâ†’L(s|ËœZL= ËœzL,ËœXL= 1)
= 1âˆ’/integraldisplayËœtL
0{1âˆ’SO(t+s|ZD= ËœzLâˆ’s)}dËœFDâ†’L(s|ËœZL= ËœzL,ËœXL= 1).
where the last equality holds from (C-3). It completes the derivatio n of (7).
B: Estimation of the prevalence rate Î±(ËœzL)and the related
quantities
In this appendix, we explain how to estimate Î±(ËœzL),ËœFDâ†’L(t|ËœZL= ËœzL,ËœXL= 1) in (7), and
ËœFLâ†’D(t|ËœZL= ËœzL,ËœXL= 0) in (6) with the information on the annual incidence rates IR(ËœzL)
and the cancer registry data. They are summarized as in the subse ctions B.1, B.2, and B.3,
27respectively. Denote the joint density of ËœtDandËœTDâ†’Ogiven the covariates ËœZL= ËœzLby
ËœfËœtD,ËœTDâ†’O(u,s|ËœZL= ËœzL). LetËœfËœTDâ†’O|ËœtD(s|ËœtD=u,ËœZL= ËœzL) be the conditional density function
ofËœTDâ†’OgivenËœtD=uandËœZL= ËœzL, andËœfËœtD(u|ËœZL= ËœzL) be that of ËœtDgivenËœZL= ËœzL.
B.1. The prevalence rate Î±(ËœzL)
The prevalence rate Î±(ËœzL) is represented by
Î±(ËœzL) = Pr(ËœXL= 1|ËœZL= ËœzL) =/integraldisplayËœtL
0/integraldisplayâˆ
ËœtLâˆ’uËœfËœtD,ËœTDâ†’O(u,s|ËœZL= ËœzL)dsdu
=ËœtLâˆ’1/summationdisplay
uâ€²=0/integraldisplayuâ€²+1
uâ€²/integraldisplayâˆ
ËœtLâˆ’uËœfËœTDâ†’O|ËœtD(s|ËœtD=u,ËœZL= ËœzL)dsËœfËœtD(u|ËœZL= ËœzL)du.
Suppose ËœtDâˆˆ[uâ€²,uâ€²+1). Then, from the assumption that the covariates remains cons tant in
each year, ËœZD=ËœZLâˆ’ËœtL+uâ€²(see Figure 1(c)). {ËœZL= ËœzL}is the same event as {ËœZLâˆ’ËœtL+uâ€²=
ËœzLâˆ’ËœtL+uâ€²}, and{ËœtD=u,ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²}and{ËœtD=u,ËœZD= ËœzLâˆ’ËœtL+uâ€²}are also the
same event. Since ËœZDcontains age at diagnosis, ËœtDis constant conditional on ËœZD. Therefore,
we have
Î±(ËœzL) =ËœtLâˆ’1/summationdisplay
uâ€²=0/integraldisplayuâ€²+1
uâ€²/integraldisplayâˆ
ËœtLâˆ’uËœfËœTDâ†’O|ËœtD(s|ËœtD=u,ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²)ds
Ã—ËœfËœtD(u|ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²)du
=ËœtLâˆ’1/summationdisplay
uâ€²=0/integraldisplayuâ€²+1
uâ€²/integraldisplayâˆ
ËœtLâˆ’uËœfËœTDâ†’O(s|ËœZD= ËœzLâˆ’ËœtL+uâ€²)dsËœfËœtD(u|ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²)du
=ËœtLâˆ’1/summationdisplay
uâ€²=0/integraldisplayuâ€²+1
uâ€²ËœSDâ†’O(ËœtLâˆ’u|ËœZD= ËœzLâˆ’ËœtL+uâ€²)ËœfËœtD(u|ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²)du,(13)
where the last equality holds because/integraltextâˆ
ËœtLâˆ’uËœfËœTDâ†’O(s|ËœZD= ËœzLâˆ’ËœtL+uâ€²)dsis the conditional prob-
ability of {ËœTDâ†’O>ËœtLâˆ’u}givenËœZD= ËœzLâˆ’ËœtL+uâ€². Onuâˆˆ[uâ€²,uâ€²+ 1), we approximate
ËœSDâ†’O(ËœtLâˆ’u|ËœZD= ËœzLâˆ’ËœtL+uâ€²)â‰ˆËœSDâ†’O(ËœtLâˆ’uâ€²|ËœZD= ËœzLâˆ’ËœtL+uâ€²). From the assumption (C-3),
ËœSDâ†’O(ËœtLâˆ’uâ€²|ËœZD= ËœzLâˆ’ËœtL+uâ€²) =SO(ËœtLâˆ’uâ€²|ZD= ËœzLâˆ’ËœtL+uâ€²). Then, summand of (13) is
/integraldisplayuâ€²+1
uâ€²ËœSDâ†’O(ËœtLâˆ’u|ËœZD= ËœzLâˆ’ËœtL+uâ€²)ËœfËœtD(u|ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²)du
â‰ˆSO(ËœtLâˆ’uâ€²|ZD= ËœzLâˆ’ËœtL+uâ€²)/integraldisplayuâ€²+1
uâ€²ËœfËœtD(u|ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²)du.
28It holds that
/integraldisplayuâ€²+1
uâ€²ËœfËœtD(u|ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²)du
=/integraldisplayuâ€²+1
uâ€²ËœfËœtD(u|ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²,ËœXLâˆ’ËœtL+uâ€²= 0)du
Ã—Pr(ËœXLâˆ’ËœtL+uâ€²= 0|ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²)
=IR(ËœzLâˆ’ËœtL+uâ€²)/braceleftbig
1âˆ’Î±(ËœzLâˆ’ËœtL+uâ€²)/bracerightbig
. (14)
Then, (13) is represented as
Î±(ËœzL)â‰ˆËœtLâˆ’1/summationdisplay
uâ€²=0SO(ËœtLâˆ’uâ€²|ZD= ËœzLâˆ’ËœtL+uâ€²)IR(ËœzLâˆ’ËœtL+uâ€²)/braceleftbig
1âˆ’Î±(ËœzLâˆ’ËœtL+uâ€²)/bracerightbig
.
By changing variables, Î±(ËœzL) can be approximated by
Î±(ËœzL)â‰ˆËœtL/summationdisplay
s=1SO(s|ZD= ËœzLâˆ’s)IR(ËœzLâˆ’s){1âˆ’Î±(ËœzLâˆ’s)},
and we can estimate it recursively as follows. Denote the estimator o fÎ±(ËœzL) by Ë†Î±(ËœzL). Recall
that ËœzLis the real value of ËœZL= (ËœZ(1)
L,ËœZ(2)
L,ËœZ(others)
L) (see Section 3 and Figure 1). When
ËœtL= 0, suppose that Î±(ËœzL= (0,Ëœz(2)
L,Ëœz(others)
L)) = 0. Set ËœtL= 1, that is, the age at diagnosis is
1 years old, Ëœ z(1)
L= 1. Then, the estimator of Î±(ËœzL= (1,Ëœz(2)
L,Ëœz(others)
L)) is given by
Ë†Î±(ËœzL= (1,Ëœz(2)
L,Ëœz(others)
L)) =Ë†SO(1|ZD= ËœzLâˆ’1)IR(ËœzLâˆ’1){1âˆ’Ë†Î±(ËœzLâˆ’1)},
with ËœzLâˆ’1= (0,Ëœz(2)
Lâˆ’1,Ëœz(others)
L). SetËœtL= 2. By using the estimators Ë† Î±(ËœzLâˆ’1= (1,Ëœz(2)
Lâˆ’
1,Ëœz(others)
L)) and Ë†Î±(ËœzLâˆ’2= (0,Ëœz(2)
Lâˆ’2,Ëœz(others)
L)),Î±(ËœzL= (2,Ëœz(2)
L,Ëœz(others)
L)) is estimated by
Ë†Î±(ËœzL= (2,Ëœz(2)
L,Ëœz(others)
L)) =Ë†SO(1|ZD= ËœzLâˆ’1)IR(ËœzLâˆ’1){1âˆ’Ë†Î±(ËœzLâˆ’1)}
+Ë†SO(2|ZD= ËœzLâˆ’2)IR(ËœzLâˆ’2){1âˆ’Ë†Î±(ËœzLâˆ’2)}.
ForËœtLâ‰¥3,Î±(ËœzL) is estimated recursively by
Ë†Î±(ËœzL)â‰ˆËœtL/summationdisplay
s=1Ë†SO(s|ZD= ËœzLâˆ’s)IR(ËœzLâˆ’s){1âˆ’Ë†Î±(ËœzLâˆ’s)},
29B.2.ËœFDâ†’L(t|ËœZL= ËœzL,ËœXL= 1)in (7)
Recall that Î±(ËœzL) = Pr(ËœXL= 1|ËœZL= ËœzL) andËœTDâ†’L=ËœtLâˆ’ËœtDfor subjects with ËœXL= 1 (see
Figure 1(c)). Therefore, it holds that
ËœFDâ†’L(t|ËœZL= ËœzL,ËœXL= 1) =Î±âˆ’1(ËœzL)Pr(ËœTDâ†’Lâ‰¤t,ËœXL= 1|ËœZL= ËœzL)
=Î±âˆ’1(ËœzL)Pr(ËœtDâ‰¥ËœtLâˆ’t,ËœXL= 1|ËœZL= ËœzL).
SinceËœZLcontains age at diagnosis and year, ËœtLis constant conditional of ËœZL. Then, we have
ËœFDâ†’L(t|ËœZL= ËœzL,ËœXL= 1)
=Î±âˆ’1(ËœzL)/integraldisplayËœtL
ËœtLâˆ’t/integraldisplayâˆ
ËœtLâˆ’uËœfËœtD,ËœTDâ†’O(u,s|ËœZL= ËœzL)dsdu
=Î±âˆ’1(ËœzL)ËœtLâˆ’1/summationdisplay
uâ€²=ËœtLâˆ’t/integraldisplayuâ€²+1
uâ€²/integraldisplayâˆ
ËœtLâˆ’uËœfËœTDâ†’O|ËœtD(s|ËœtD=u,ËœZL= ËœzL)dsËœfËœtD(u|ËœZL= ËœzL)du
=Î±âˆ’1(ËœzL)ËœtLâˆ’1/summationdisplay
uâ€²=ËœtLâˆ’t/integraldisplayuâ€²+1
uâ€²ËœSDâ†’O(ËœtLâˆ’u|ËœZD= ËœzLâˆ’ËœtL+uâ€²)ËœfËœtD(u|ËœZLâˆ’ËœtL+uâ€²= ËœzLâˆ’ËœtL+uâ€²)du,(15)
by the same as in the expansion of equation (13).
Again, we use the approximation of ËœSDâ†’O(ËœtLâˆ’u|ËœZD= ËœzLâˆ’ËœtL+uâ€²)â‰ˆËœSDâ†’O(ËœtLâˆ’uâ€²|ËœZD=
ËœzLâˆ’ËœtL+uâ€²) onuâˆˆ[uâ€²,uâ€²+1). The equality ËœSDâ†’O(ËœtLâˆ’uâ€²|ËœZD= ËœzLâˆ’ËœtL+uâ€²) =SO(ËœtLâˆ’uâ€²|ZD=
ËœzLâˆ’ËœtL+uâ€²) holds from the assumption (C-3). Then, coupled with (14), the eq uation (15) leads
to
ËœFDâ†’L(t|ËœZL= ËœzL,ËœXL= 1)â‰ˆÎ±âˆ’1(ËœzL)t/summationdisplay
s=1SO(s|ZD= ËœzLâˆ’s)IR(ËœzLâˆ’s){1âˆ’Î±(ËœzLâˆ’s)},
fort= 1,2,Â·Â·Â·. Note that ËœFDâ†’L(0|ËœZL= ËœzL,ËœXL= 1) = 0. The estimator of ËœFDâ†’L(t|ËœZL=
ËœzL,ËœXL= 1) is deï¬ned by
Ë†FDâ†’L(t|ËœZL= ËœzL,ËœXL= 1) = Ë†Î±âˆ’1(ËœzL)t/summationdisplay
s=1Ë†SO(s|ZD= ËœzLâˆ’s)IR(ËœzLâˆ’s){1âˆ’Ë†Î±(ËœzLâˆ’s)}.
30B.3.ËœFLâ†’D(t|ËœZL= ËœzL,ËœXL= 0)in (6)
It is represented by
ËœFLâ†’D(t|ËœZL= ËœzL,ËœXL= 0)
= 1âˆ’Pr(ËœTLâ†’D> t|ËœZL= ËœzL,ËœXL= 0)
= 1âˆ’tâˆ’1/productdisplay
s=0Pr(ËœtD>ËœtL+s+1|ËœZL= ËœzL,ËœXL= 0,ËœtD>ËœtL+s)
= 1âˆ’tâˆ’1/productdisplay
s=0/braceleftï£¬igg
1âˆ’/integraldisplayËœtL+s+1
ËœtL+sfËœtD(u|ËœZL= ËœzL,ËœXL= 0,ËœtD>ËœtL+s)du/bracerightï£¬igg
,
fort= 1,2,Â·Â·Â·. Since{ËœZL= ËœzL}and{ËœZL+s= ËœzL+s}are the same event and {ËœXL= 0,ËœtD>
ËœtL+s}andËœXL+s= 0 are also the same event, fËœtD(u|ËœZL= ËœzL,ËœXL= 0,ËœtD>ËœtL+s) =
fËœtD(u|ËœZL+s= ËœzL+s,ËœXL+s= 0). Then, by the deï¬nition (2),
/integraldisplayËœtL+s+1
ËœtL+sfËœtD(u|ËœZL= ËœzL,ËœXL= 0,ËœtD>ËœtL+s)du
=/integraldisplayËœtL+s+1
ËœtL+sfËœtD(u|ËœZL+s= ËœzL+s,ËœXL+s= 0)du
=IR(ËœzL+s).
Therefore, ËœFLâ†’D(t|ËœZL= ËœzL,ËœXL= 0) is estimated by
Ë†FLâ†’D(t|ËœZL= ËœzL,ËœXL= 0) = 1 âˆ’tâˆ’1/productdisplay
s=0{1âˆ’IR(ËœzL+s)}.
C: Log-linear extrapolation of SO(t|ZD)beyond the maxi-
mum follow-up time
We propose a simple extrapolation method based on linear regression for the Kaplan-Meier
estimates applied to several time points around the end of follow-up . For the subpopulation
withZD, letÏ„ZDbe a time point such that on [0 ,Ï„ZD],SO(t|ZD) is well estimated by the
Kaplan-Meier estimate Ë†SO(t|ZD). We call Ï„ZDthe end of follow-up. Select several (say H)
time points near the end of follow-up Ï„ZDand they are denoted by tâˆ—
1,tâˆ—
2,...,tâˆ—
H(tâˆ—
1< tâˆ—
2<
Â·Â·Â·< tâˆ—
H). Borrowing the idea of the piecewise exponential distribution to ex press ï¬‚exible
parametric distribution, we assume that near Ï„ZD, the survival function is well approximated
31by an exponential distribution. That is SO(t|ZD)â‰ƒexp(âˆ’Î»t) locally near Ï„ZD. This motivates
toapplyalog-linearmodel âˆ’log(SO(tâˆ—
h|ZD)) =Î³0+Î³1tâˆ—
h+Ç«hforh= 1,2,Â·Â·Â·,Handextrapolate
SO(t|ZD) by exp( âˆ’Ë†Î³0âˆ’Ë†Î³1t) fortafterÏ„ZD, where(Ë†Î³0,Ë†Î³1) is the leastsquareestimator. Denote
Ë†SO(tâˆ—|ZD) ={Ë†SO(tâˆ—
1|ZD),Â·Â·Â·,Ë†SO(tâˆ—
H|ZD)}tr. The least-squares estimator is calculated by
Ë†Î³=AH{âˆ’logË†SO(tâˆ—|ZD)}, where
AH=ï£±
ï£´ï£²
ï£´ï£³/parenleftbigg
1 1Â·Â·Â·1
tâˆ—
1tâˆ—
2Â·Â·Â·tâˆ—
H/parenrightbiggï£«
ï£¬ï£­1tâˆ—
1
......
1tâˆ—
Hï£¶
ï£·ï£¸ï£¼
ï£´ï£½
ï£´ï£¾âˆ’1/parenleftbigg
1 1Â·Â·Â·1
tâˆ—
1tâˆ—
2Â·Â·Â·tâˆ—
H/parenrightbigg
.
AsimilarideahasappliedtoestimatethemeansurvivaltimeGong and Fa ng (2012)andtheter-
minal time points ofdose-responsecurve(Chapter 16in Reisfeld, A rthur, and Mayeno (2012)).
BythegenerallargesampletheoryfortheKaplan-Meierestimator (seechapter3inFleming and Harrington
(1991)), Ë†SO(t|ZD) converges in probability to SO(t|ZD) uniformly in tâˆˆ[0,Ï„ZD] asnZDâ†’ âˆ,
wherenZDis the number of subjects with ZD. Fort > Ï„ZD, by using the consistency of
Ë†SO(tâˆ—|ZD), we can show easily that Ë†SO(t|ZD) = exp( âˆ’Ë†Î³0âˆ’Ë†Î³1t) converges in probability to
SO(t|ZD) uniformly in t. Therefore, it can be easily shown that Ë†SO(t|ZD) converges in proba-
bility to SO(t|ZD) uniformly in tâˆˆ[0,âˆ) asnZDâ†’ âˆunder the log-linearity assumption.
D: Consistency of SP(t|ZD)
Assume the covariates vector ZDandËœZLare bounded. Let nZD=nTaZDwhereaZDâˆˆ(0,1)
with/summationtext
ZDaZD= 1 and nTis the total sample size in the cancer registry data. We consider
limitsas nTapproachesinï¬nity. Supposethatthe approximationsof Î±(ËœzL) andËœFDâ†’Ldescribed
in Web-Appendices B.1 and B.2, respectively, are consistent. By the simple algebras and the
consistency of Ë†SO(t|ZD), Ë†Î±(ËœzL) converges in probability to Î±(ËœzL), andË†FDâ†’L(t|ËœZL= ËœzL,ËœXL=
1) converges in probability to ËœFDâ†’L(t|ËœZL= ËœzL,ËœXL= 1) in each t= 0,1,Â·Â·Â·. Then, simple
32algebraic manipulation gives,
Ë†SLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)âˆ’ËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 1)
=/integraldisplayËœtL
0/braceleftï£¬ig
Ë†SO(t+s|ZD= ËœzLâˆ’s)âˆ’SO(t+s|ZD= ËœzLâˆ’s)/bracerightï£¬ig
dË†FDâ†’L(s|ËœZL= ËœzL,ËœXL= 1)
âˆ’/integraldisplayËœtL
0{1âˆ’SO(t+s|ZD= ËœzLâˆ’s)}/braceleftï£¬ig
dË†FDâ†’L(s|ËœZL= ËœzL,ËœXL= 1)âˆ’dËœFDâ†’L(s|ËœZL= ËœzL,ËœXL= 1)/bracerightï£¬ig
Pâˆ’ â†’0,
asnTâ†’ âˆfort= 1,2,Â·Â·Â·. It follows that Ë†SLâ†’O(t|ËœZL= ËœzL,ËœXL= 1) converges in probability
toËœSLâ†’O(t|ËœZL= ËœzL,ËœXL= 1) att= 0,1,Â·Â·Â·.
We prove the consistency of Ë†SP(t|ZD) fort= 1,2,Â·Â·Â·presented in Section 4.4. When t= 1,
by the above results, Ë†SP(1|ZD= ËœzL) presented in Section 4.4 converges in probability to
ËœSLâ†’O(1|ËœZL= ËœzL)âˆ’Î±(ËœzL)ËœSLâ†’O(1|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Î±(ËœzL)}, (16)
asnTâ†’ âˆ. Under the assumptions (A-1), (B-1) to (B-3), and (C-1) to (C- 3), the equation
(16) is equal to SP(1|ZD= ËœzL). It holds that Ë†SP(1|ZD= ËœzL) converges in probability to
SP(1|ZD= ËœzL). When t= 2, since
Ë†hËœzL(2,1) = 1âˆ’Ë†SO(2âˆ’1|ZD= ËœzL+1)
Ë†SP(2âˆ’1|ZD= ËœzL+1)= 1âˆ’Ë†SO(1|ZD= ËœzL+1)
Ë†SP(1|ZD= ËœzL+1)
converges to 1 âˆ’SO(1|ZD=ËœzL+1)
SP(1|ZD=ËœzL+1)and also Ë† r(2|ËœzL) = 1âˆ’Ë†hËœzL(2,1)âˆ†ËœF1converges to ËœSLâ†’E(2|ËœZL=
ËœzL,ËœXL= 0) by the results when t= 1 and the derivation in Appendix A under the assumptions
(A-1), (B-1) to (B-3), and (C-1) to (C-3), it also follows that
Ë†SP(2|ZD= ËœzL) =ËœSLâ†’O(2|ËœZL= ËœzL)âˆ’Ë†Î±(ËœzL)Ë†ËœSLâ†’O(2|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Ë†Î±(ËœzL)}Ë†r(2|ËœzL)
Pâˆ’ â†’ËœSLâ†’O(2|ËœZL= ËœzL)âˆ’Î±(ËœzL)ËœSLâ†’O(2|ËœZL= ËœzL,ËœXL= 1)
{1âˆ’Î±(ËœzL)}ËœSLâ†’E(2|ËœZL= ËœzL,ËœXL= 0)
=SP(2|ZD= ËœzL),
asnTâ†’ âˆ. Fort= 3,Ë†SP(3|ZD= ËœzL) also converges in probability to SP(3|ZD= ËœzL) as
nTâ†’ âˆby using the results of t= 1 and 2. By repeating this sequentially with t= 4,5,Â·Â·Â·,K,
we can prove that for each t=k(k= 1,2,Â·Â·Â·K),Ë†SP(t|ZD= ËœzL) is shown to converge in
probability to SP(t|ZD= ËœzL) asnTâ†’ âˆ.
33