arXiv:2303.09141v1  [stat.ME]  16 Mar 2023On a fundamental problem in the analysis of cancer
registry data
Sho Komukai
Department of Biomedical Statistics, Graduate School of Me dicine, Osaka University
Yamadaoka 2-2, Suita City, Osaka 565-0871, Japan
E-mail: skomukai@biostat.med.osaka-u.ac.jp
Satoshi Hattori
Department of Biomedical Statistics, Graduate School of Me dicine,
and
Institute for Open and Transdisciplinary Research Initiat ives, Osaka University
Yamadaoka 2-2, Suita City, Osaka 565-0871, Japan
E-mail: hattoris@biostat.med.osaka-u.ac.jp
and
Bernard Rachet
Inequalities in Cancer Outcomes Network, Department of Non -communicable Disease
Epidemiology, Faculty of Epidemiology and Population Heal th, London School of Hygiene and
Tropical Medicine.
Keppel Street, London WC1E 7HT, UK
E-mail: Bernard.Rachet@lshtm.ac.uk
March 16, 2023
Abstract
In epidemiology research with cancer registry data, it is of ten of primary interest to
make inference on cancer death, not overall survival. Since cause of death is not easy to
collect or is not necessarily reliable in cancer registries , some special methodologies have
been introduced and widely used by using the concepts of the r elative survival ratio and
the net survival. In making inference of those measures, ext ernal life tables of the general
population are utilized to adjust the impact of non-cancer d eath on overall survival. The
validity of this adjustment relies on the assumption that mo rtality in the external life table
approximates non-cancer mortality of cancer patients. How ever, the population used to
calculate a life table may include cancer death and cancer pa tients. Sensitivity analysis
proposed by Talb¨ ack and Dickman to address it requires addi tional information which is
often not easily available. We propose a method to make infer ence on the net survival
accounting for potential presence of cancer patients and ca ncer death in the life table for
the general population. The idea of adjustment is to conside r correspondence of cancer
mortality in the life table and that in the cancer registry. W e realize a novel method to
adjust cancer mortality in the cancer registry without any a dditional information to the
standard analyses of cancer registries. Our simulation stu dy revealed that the proposed
method successfully removed the bias. We illustrate the pro posed method with the cancer
registry data in England.
Keywords: Cancer registry; Integral equation; Life table; Net s urvival; Relative survival ratio
11 Introduction
Cancer registries provide comprehensive and useful information o n cancer and are utilized to
conduct various epidemiology research including nation-wide compar isons of cancer survival
and estimation of change in cancer survival. Angelis et al. (2014); Alle mani et al. (2018) Can-
cer survival is an important measure. However, collecting reliable an d consistent information
on the cause of death is challenging. To make inference on survival f rom cancer without rely-
ing on the cause of death information (i.e., within the relative survival data setting), special
survival analysis techniques have been then developed and widely us ed in analyses of can-
cer registry data. Several cancer survival measures using such techniques help to describe
the survival experience of cancer patients, including relative surv ival ratio, net survival, or
crude probabilities of death. Ederer, Axitell, and Cutler (1961); Cr onin and Feuer (2000);
Perme, Stare, and Est` eve (2012); Perme, Est` eve, and Rache t (2016); Belot et al. (2019) The
techniques to estimate such measures are based on the assumptio n that the hazard of death
can be decomposed into the hazard of death due to the cancer of in terest and that due to other
causes. In the absence of reliable information on the cause of deat h, as proposed in contexts
other than cancer registries Breslow et al. (1983), an option is to b orrow external information,
in order to estimate the hazard of death due to other causes from the general population to
which the patient belongs. Mortality hazards for the general popu lation are available in pop-
ulation life tables based on demographic statistics, which are publishe d in most countries at
least by age, sex and calendar period.
However, it assumes that the cancer deaths contained in these po pulation life tables are too
few to aﬀect the estimation of the mortality hazard due to other ca uses. This assumption which
may not always hold has been discussed by a few authors. Ederer, A xitell, and Cutler (1961);
Est´ eve, Benhamou, and Raymond (1994);Talb¨ ack and Dickman ( 2011)Ederer, Axitell, and Cutler
(1961) claimed that since the sizes of age-, gender- and site-spec iﬁc subpopulations of cancer
patients was much smaller than their counterparts in the general p opulation, the impact of
2cancer deaths contained in the general population was negligible. Ho wever, it may not be true
for all cancer types and subpopulations. Talb¨ ack and Dickman (20 11) utilized uncommon life
tables, which contained individual information on cancer patients inc luded in these life tables.
Consideringthe date ofcancer diagnosisas censoring, they were a ble to estimate the non-cancer
mortality hazard in the general population. They concluded that th e presence of cancer deaths
inthe lifetableshardlyimpactedthe cancersurvivalestimationinmos tsituations, butthey also
observed some bias in a few subpopulations. Given the general unav ailability of such life tables
(i.e., with individual information), Talb¨ ack and Dickman (2011) alsoint roduced a model-based
method to conduct a sensitivity analysis without such individual-level information. However,
their model for sensitivity analysis required the number of cancer d eaths in the general pop-
ulation and did not account for inclusion of cancer patients in the gen eral population. Since
the number of cancer deaths cannot be obtained from cancer reg istries or is not reliably known
in this setting, the model-based sensitivity analysis method by Talb¨ a ck and Dickman (2011)
might not be easily applicable.
In this paper, we propose a method to estimate cancer survival me asures in the relative sur-
vival setting, while accounting for the potential enrollment of canc er patients and cancer deaths
in the life tables. To this end, we only rely on additional information on c ancer incidence, which
is usually publicly available. Even if unavailable in public, incidence rates ca n be calculated
with vital statistics coupled with the cancer registry. Thus, we do n ot need to take much eﬀorts
to gather additional information to apply our method and then elimina te biases due to cancer
deaths in the life table. The key idea of our development is to adjust s urvival of cancer patients
in the life-table by borrowing information from the cancer registry. We illustrate the method
with the most used cancer survival measure, net survival, which is t he survival probability of
cancer patients in the hypothetical situation of individuals who can o nly die from their cancer.
More speciﬁcally, we describe the method in the application to a non-p arametric estimator of
the net survival called Pohar-Perme estimator. Perme, Stare, an d Est` eve (2012)
The organization of the rest of this paper is as follows. In Section 2.1 , we introduce the
3net survival measure in the relative survival setting and its Pohar- Perme estimator. In Section
2.2, we discuss the assumptions implicitly made when using life tables in th e relative survival
setting. Section 3 presents the notations of the quantities, which are used in our approach,
from the life tables. Section 4 details the key components of our app roach: in Section 4.1, we
introduce the incidence rate used in our method and explain how to es timate it from cancer
registry data if unavailable in public; in Section 4.2, we summarize the as sumptions to utilize
the correspondence between cancer registry and life tables. In S ection 4.3, we introduce an
integral equation to obtain the non-cancer survival for the gene ral population with adjustment
for the cancer deaths. In Section 4.4, we show how to solve an empir ical version of the integral
equation. We evaluatethe proposedmethod bythe simulationstudie sin Section 5andillustrate
it on real cancer registry data in England in Section 6. Conclusions an d some discussions are
given in Section 7. Detailed formulas and all theoretical details are giv en in Appendixes.
2 Estimation of the net survival
2.1 Pohar-Perme estimator
LetZDbe a vector of the baseline covariates recorded in the cancer regis try such as age
at diagnosis, year of diagnosis, gender and cancer stage at diagno sis. The subscript “ D” is
attached to covariates that are observed at the time of cancer d iagnosis. Denote the time from
diagnosis to death due to any causes by TO. We assume that TOcan be right-censored by the
potential censoring time C. Thus, the observed components are T= min(TO,C), the indicator
of censoring ∆ = I(TO≤C), and the covariates ZD, whereI(·) is the indicator function. Let
TEandTPbe the time to death due to cancer and that due to any causes othe r than cancer,
respectively, from the date at cancer diagnosis. Note that TO= min(TE,TP). We assume
thatTEandTPare continuous. We suppose we observe ni.i.d. copies of ( T,∆,ZD), and
(Ti,∆i,ZD,i) is the observation for the ith subject ( i= 1,2,...,n). We make inference based
on these observations. For any random variable, we use the subsc riptifor representing its
counterpart for the ith subject.
4The survival function for TOis denoted by SO(t) = Pr(TO> t) and the corresponding
hazard and cumulative hazard functions are denoted by λO(t) and Λ O(t), respectively. The
survival, hazard and cumulative hazard functions conditional on ZDare denoted by SO(t|ZD),
λO(t|ZD) and Λ O(t|ZD), respectively. The corresponding quantities for TE,TP, andCare
denoted in a similar way with the subscript “ E”, “P”, and “C”, respectively.
The net survival is deﬁned as SE(t) =P(TE> t), which is the marginal survival function
ofTEand the estimand of interest. The PPestimator is deﬁned by
ˆΛPP
E(t) =/integraldisplayt
0/summationtextn
i=11
SP(u|ZD,i){dNi(u)−Yi(u)dΛP(u|ZD,i)}
/summationtextn
j=1Yj(u)
SP(u|ZD,j). (1)
whereNi(t) andYi(t) are the counterpart for the ith subject of the counting process N(t) =
I(T≤t,∆ = 1) and at-risk process Y(t) =I(T > t), respectively.Perme, Stare, and Est` eve
(2012)Assumingthat SP(t|ZD)andΛ P(t|ZD)areknownforany ZDandt,Perme, Stare, and Est` eve
(2012)showedthatthe PPestimatorconsistentlyestimatesΛ E(t)undertheconditions(A-1) TE⊥
TP|ZDand (A-2) C⊥ {TE,TP,ZD}(independent censoring).
2.2 Extracting SP(t|ZD)from a life table
In practice, as SP(t|ZD) is unknown, a life table for the general population is used to cal-
culateSP(t|ZD) by extracting the survival function of the general population wit h the same
covariates from the life table. The information contained in the life ta ble is deﬁned by some
socio-demographic variables such as age, calendar year, and gend er. Suppose that ZDhas no
cancer-speciﬁc variable. More speciﬁcally, let ZD= (Z(1)
D,Z(2)
D,Z(others)tr
D )tr, whereZ(1)
Dand
Z(2)
Dare the age at cancer diagnosis and the year of cancer diagnosis, r espectively, both being
time-dependent variables, Z(others)
Dbe a column vector of other time-invariant demographic
covariates, such as gender and race, and for any column vector V,Vtrindicates the transpose
ofV.
From the deﬁnition, SP(t|ZD) is the survival function for TP, which is the time to non-
cancer death if the subject would not die from cancer since the dat e of their cancer diagnosis.
Althoughextractingthesurvivalfunctioncorrespondingto SP(t|ZD)fromlifetablesisawidely-
5used practice, we would like to discuss its appropriateness more car efully. Life tables provide
annual mortality rates for the population of speciﬁc age, calendar year, and Z(others)
D. With a
series of life tables, we can construct a lexis diagram as shown in Figur e 1(b). Note that we
consider Z(others)
Dﬁxed to a single value since this Lexis diagram is created for each value of
Z(others)
D. For cancer patients of interest with covariates ZD(say, 50 years old in 1990, as seen
in Figure 1( a)), the corresponding life table (matching on both age and year) is p resented by
the plain circle in Figure 1( b). The survival function of the population by age and calendar
year can be then extracted from the series of life tables on the diag onal line. We pretend there
is a cohort of the population with this survival function. The validity o f extracting SP(t|ZD)
with this survival function from the life-table is justiﬁed if
(i)No cancer patients are included in the cohort underlying the extrac ted survival function
and the non-cancer subjects in this cohort do not die from cancer .
(ii)The survival function for the time to non-cancer death of the can cer patients included in
the cancer registry data is the same to the survival function from the life table, given the
same background covariates.
Even supposing the assumption (ii), the assumption (i) may be quest ionable in reality; some
cancer patients can be included in the cohort underlying the extrac ted survival function, and
they are more likely to die of cancer, whereas some non-cancer sub jects can be diagnosed with
cancer after being included in that cohort and can die of cancer.
3 Formulating the life table and revisiting the current
practice
In this section, notations of the random variables related to the life tables are introduced, be-
causewe distinguishthem fromthe notationsapplyingtorandomvar iablesrelatedto the cancer
registry. For the cancer registry, we use the notations introduc ed in Section 2. For the life table,
a tilde is systematically added. Let ˜ZL= (˜Z(1)
L,˜Z(2)
L,˜Z(others)tr
L)trbe a vector of covariates in
the life table. Note that ˜ZLhas the same components as ZDand both of ZDand˜ZLvary only
6yearly. Supposeweconsiderapatientinthecancerregistry,fore xample,whoisdiagnosedatage
50 in 1990. That is, Z(1)
D= 50 and Z(2)
D= 1990. See Figure 1( a). The patient is matched with
the life table of the corresponding covariates ( ˜Z(1)
L,˜Z(2)
L,˜Z(others)tr
L) = (50,1990,Z(others)tr
D),
which is represented by a plain circle in Figures 1( a) and 1(b). As mentioned in Subsection 2.2,
the corresponding survival function can be extracted from a ser ies of life tables on the diago-
nal line through this plain circle, assuming the existence of a cohort u nderlying this survival
function. This is illustrated with two speciﬁc subjects of this cohort in Figure 1( c); one had
been diagnosed as a cancer at the age of 50 ( ˜XL= 1; the upper panel of Figure 1( c)) and
the other had not ( ˜XL= 0; the lower panel of Figure 1( c). To describe these individuals,
we introduce ˜tD, which is the age at diagnosis. Deﬁne ˜ZD= (˜Z(1)
D,˜Z(2)
D,˜Z(others)tr
D)trbe a
covariate vector at ˜tD. For notational convenience, set ˜tL=˜Z(1)
Lat˜Z(2)
L(˜Z(2)
L= 1990 for
the above illustrative patient). Let ˜XLbe a binary random variable, with the value 1 if, at
˜tL, subject had already been diagnosed with a cancer and the value 0 o therwise. To link ˜ZL
and˜ZD, we use the notation ˜ZL±srepresenting ˜ZLafter/before syears from ˜tL. That is,
˜ZL±s= (˜Z(1)
L±s,˜Z(2)
L±s,˜Z(others)tr
L)tr= (age±s,year±s,˜Z(others)tr
L)tr. If a subject with ˜ZL
is diagnosed with a cancer after/before syears from ˜tL,˜tD=˜tL±s, then˜ZD=˜ZL±sholds.
Similarly, we deﬁne ˜XL±sas the information on ˜XLat the time of ˜tL±s.
Let˜TL→Obe the time to death due to any cause from the date of ˜tL. In the subscript
“L→O”, “L” in the left-hand side of the arrow means the origin and the right com ponent
corresponds to the event. Thus ˜TL→Eand˜TL→Pare deﬁned as the time-to-death due to cancer
and non-cancer causes, respectively, from the date of ˜tL. The random variables for the time-
to-death from cancer diagnosis such as ˜TD→O,˜TD→Eand˜TD→Pare deﬁned in a similar way.
We also consider a random variable ˜TD→L=˜tL−˜tD, which the time elapsed between the
cancer diagnosis and ˜tLfor individuals whose cancer was diagnosed before the date ˜tL(that
is,˜XL= 1). For the non-cancer subjects, the corresponding random v ariable at the date of
registration into the life table (i.e. ˜XL= 0), is deﬁned in the same way ˜TL→D=˜tD−˜tL.
Letα(˜zL) = Pr(˜XL= 1|˜ZL= ˜zL). Denote ˜SL→O(t|˜ZL= ˜zL) =P(˜TL→O> t|˜ZL= ˜zL).
7The correspondingsurvival functions for ˜TL→Eand˜TL→Pare denoted in a similar way with the
subscript “ L→E” and “L→P”, respectively. Let ˜FD→L(t|˜ZL= ˜zL,˜XL= 1) = Pr( ˜TD→L≤
t|˜ZL= ˜zL,˜XL= 1) and ˜FL→D(t|˜ZL= ˜zL,˜XL= 0) = Pr( ˜TL→D≤t|˜ZL= ˜zL,˜XL= 0).
Inthecurrentpractice, SP(t|ZD=z)isextractedwith ˜SL→O(t|˜ZL=z)matching ZD=˜ZL.
Ifα(˜zL) = 0 for any ˜ zL(no cancer patients are included in the general population used for the
life table) and ˜SL→E(t|˜ZL= ˜zL,˜XL= 0) = 1 for all ˜ zL(non-cancer subjects included in the
life table do not die of cancer), ˜SL→O(t|˜ZL= ˜zL,˜XL= 0) =˜SL→P(t|˜ZL= ˜zL,˜XL= 0). Then,
the assumption (i) in Section 2 holds. The assumption (ii) in Section 2 ca n be described as
˜SL→P(t|˜ZL= ˜zL,˜XL= 0) =˜SL→P(t|˜ZL= ˜zL) =SP(t|ZD= ˜zL) under the assumption (i).
Then, the current practice is justiﬁed.
4 Estimation of the net survival in the presence of cancer
death in the life table
4.1 Incidence rate
As described in Section 2, the standard analysis of cancer registry data requires the cancer reg-
istry data and the life table. In addition to these two datasets, we s uppose that the information
on the annual cancer incidence rate for each ˜ZLis available. Let f˜tD(u|˜ZL= ˜zL,˜XL= 0) be
the probability density function of ˜tDconditional on ˜ZL= ˜zLand˜XL= 0. The annual cancer
incidence rate for the population with ˜ZL= ˜zLis deﬁned by
IR(˜zL) =/integraldisplay˜tL+1
˜tLf˜tD(u|˜ZL= ˜zL,˜XL= 0)du. (2)
In practice, IR(˜zL) are calculated as the number of new cancer patients diagnosedwit hin a year
divided by the number of person-years (within a year) in the genera l population with ˜ZL= ˜zL.
The number of new cancer patients is calculated from the cancer re gistry, and the number of
person-years (within a year) in the general population is calculated from the vital statistics.
Thus the IR(˜zL) for each cancer type, even if unavailable in public, can be calculated from the
cancer registry data and the vital statistics.
84.2 Assumptions
Although some assumptions were mentioned in the previous sections , we summarize all the
assumptions for quantities in the cancer registry, those in the life t able, and the relationship
among them. Let
(A-1)TE⊥TP|ZD
(A-2)C⊥ {TE,TP,ZD}
(B-1)˜TL→E⊥˜TL→P|{˜ZL,˜XL= 0}
(B-2)˜TL→D⊥˜TD→E|{˜ZL,˜XL= 0}
(B-3)˜TD→L⊥˜TL→O|{˜ZL,˜XL= 1}
(C-1)SE(t|ZD= ˜z) =˜SD→E(t|˜ZD= ˜z,˜XL= 0)
(C-2)SP(t|ZD= ˜z) =˜SL→P(t|˜ZL= ˜z,˜XL= 0).
(C-3)SO(t|ZD= ˜z) =˜SD→O(t|˜ZD= ˜z) =˜SD→O(t|˜ZD= ˜z,˜XL= 1)
The assumptions (A-1) and (A-2) apply to the cancer registry dat a and are required by
Poher-Perme estimator (Perme, Stare, and Est` eve, 2012). Th e assumptions (B-1) to (B-3)
apply to the life table. The assumption (B-1) corresponds to (A-1) . As argued in Section 3,
each cancer patient in the cancer registry is matched with a subjec t with the corresponding
baseline characteristics in the cohort underlying in the life table. The corresponding survival
function is then extracted (see Section 3 and Figure 1). Assumptio ns (B-2) and (B-3) describe
a kind of non-informativeness for extracted TPandTE; once the baseline characteristics are
matched, a subject in the life table is selected regardless of their na tural history of cancer.
The assumptions from (C-1) to (C-3) establish the corresponden ces between the cancer registry
and life table data. The assumption (C-1) implies that the survival fu nctions of the time to
cancer death from diagnosis are the same between the cancer pat ients registered in the cancer
registryand those in the life table ifthey havethe samecovariatesa t diagnosis. The assumption
9(C-2) means that the survival functions of the time to non-cance r death are common among
the cancer patients and the non-cancer subjects as long as the b aseline covariates are same.
The assumption (C-2) guarantees assumption (ii) of Section 2. The assumption (C-3) implies
that cancer patients included in the life table are assumed to be similar to those in the cancer
registry once diagnosed as cancer.
4.3 Integral equation for SP(t|ZD)
Recall that α(˜zL) = Pr(˜XL= 1|˜ZL= ˜zL). It holds that
˜SL→O(t|˜ZL= ˜zL) =α(˜zL)˜SL→O(t|˜ZL= ˜zL,˜XL= 1)
+{1−α(˜zL)}˜SL→O(t|˜ZL= ˜zL,˜XL= 0). (3)
From (B-1), ˜SL→O(t|˜ZL= ˜zL,˜XL= 0) =˜SL→E(t|˜ZL= ˜zL,˜XL= 0)×˜SL→P(t|˜ZL= ˜zL,˜XL=
0). Then, by simple algebraic manipulation, the equation (3) leads to
˜SL→O(t|˜ZL= ˜zL)−α(˜zL)˜SL→O(t|˜ZL= ˜zL,˜XL= 1)
{1−α(˜zL)}˜SL→P(t|˜ZL= ˜zL,˜XL= 0)=˜SL→E(t|˜ZL= ˜zL,˜XL= 0).(4)
Under the assumption (C-2), ˜SL→P(t|˜ZL= ˜zL,˜XL= 0) =SP(t|ZD= ˜zL). As presented in
Appendix A, it holds that
˜SL→E(t|˜ZL= ˜zL,˜XL= 0)
= 1−/integraldisplayt
0/braceleftbigg
1−SO(t−s|ZD= ˜zL+s)
SP(t−s|ZD= ˜zL+s)/bracerightbigg
d˜FL→D(s|˜ZL= ˜zL,˜XL= 0). (5)
Recall that as deﬁned in Section 3, ˜ZL+sis a time-shifted version of ˜ZL, where˜Z(1)
L(age) and
˜Z(2)
L(calendar year) were shifted by + s. With (5), the equation (4) leads to
˜SL→O(t|˜ZL= ˜zL)−α(˜zL)˜SL→O(t|˜ZL= ˜zL,˜XL= 1)
{1−α(˜zL)}SP(t|ZD= ˜zL)
= 1−/integraldisplayt
0/braceleftbigg
1−SO(t−s|ZD= ˜zL+s)
SP(t−s|ZD= ˜zL+s)/bracerightbigg
d˜FL→D(s|˜ZL= ˜zL,˜XL= 0). (6)
It is regarded as an integral equation with respect to SP(t|ZD).
4.4 Estimation of SP(t|ZD)by solving the empirical integral equation
In this subsection, we consider an empirical version of the integral equation (6), in which all
the theoretical quantities are replaced with their empirical ones. W e denote these empirical
10ones with the superscript of hat. For example, the empirical versio n of˜SL→O(t|˜ZL= ˜zL) is
denoted by ˆSL→O(t|˜ZL= ˜zL). In the left hand side of (6), ˜SL→O(t|˜ZL= ˜zL) is obtained from
the life table. With the annual cancer incidence rate IR(˜zL),α(˜ZL) is estimated by the method
presented in Appendix B.1. Since IR(˜zL) is available only in an annual basis, we consider to
estimate SP(t|ZD) only at t= 0,1,2,···.
AsshowninAppendixA, ˜SL→O(t|˜ZL= ˜zL,˜XL= 1)inthelefthandsideof(6)isrepresented
as
˜SL→O(t|˜ZL= ˜z,˜XL= 1)
= 1−/integraldisplay˜tL
0{1−SO(t+s|ZD= ˜zL−s)}d˜FD→L(s|˜ZL= ˜z,˜XL= 1), (7)
under the assumptions (B-3) and (C-3). To handle the integral in t he right hand side of
(7),SO(t|ZD= ˜zL−s) for each s= 0,1,···,˜tLshould be available over (0 ,t+s). However,
depending on the follow-up duration, it is not necessarily obtained fr om the cancer registry. To
estimateoverthe interval, anextrapolationmethod with the Kaplan -Meierestimate is proposed
in Appendix C. The method to estimate ˜FD→L(t|˜ZL= ˜z,˜XL= 1) is presented in Appendix
B.2. Then, an estimator for ˜SL→O(t|˜ZL= ˜z,˜XL= 1) is given by
ˆSL→O(t|˜ZL= ˜z,˜XL= 1)
= 1−/integraldisplay˜tL
0/braceleftig
1−ˆSO(t+s|ZD= ˜zL−s)/bracerightig
dˆFD→L(s|˜ZL= ˜z,˜XL= 1).
Denote ∆ ˜Fk=˜FL→D(k|˜ZL= ˜zL,˜XL= 0)−˜FL→D(k−1|˜ZL= ˜zL,˜XL= 0) for k= 1,2,···
with˜FL→D(0|˜ZL= ˜zL,˜XL= 0) = 0. A method to estimate ˜FL→D(0|˜ZL= ˜zL,˜XL= 0) is
presented in Appendix B.3. Then, ˜FL→D(t|˜ZL= ˜zL,˜XL= 0) =/summationtext
k:k≤t∆˜Fkand the integral
equation (6) is represented by
˜SL→O(t|˜ZL= ˜zL)−α(˜zL)˜SL→O(t|˜ZL= ˜zL,˜XL= 1)
{1−α(˜zL)}Sp(t|ZD= ˜zL)
= 1−/summationdisplay
k:k≤t/braceleftbigg
1−SO(t−k|ZD= ˜zL+k)
SP(t−k|ZD= ˜zL+k)/bracerightbigg
∆˜Fk. (8)
11Set the right hand side of (8) as
r(t|˜zL) = 1−/summationdisplay
k:k≤th˜zL(t,k)∆˜Fk,
where
h˜zL(t,k) = 1−SO(t−k|ZD= ˜zL+k)
SP(t−k|ZD= ˜zL+k),
andh˜zL(k,k) = 0 for any k. Then (8) is represented as
r(t|˜zL) =˜SL→O(t|˜ZL= ˜zL)−α(˜zL)˜SL→O(t|˜ZL= ˜zL,˜XL= 1)
{1−α(˜zL)}SP(t|ZD= ˜zL), (9)
Consideringthe equation (8) or (9) at t= 1,2,···,K, one has the following system of the linear
equations,

r(1|˜zL)
r(2|˜zL)
...
r(K|˜zL)
=
1
1
...
1
−
0 0 ···0
h˜zL(2,1) 0 0...
.........0
h˜zL(K,1)h˜zL(K,2)···0

∆˜F1
∆˜F2
...,
∆˜FK
(10)
The system of the linear equation (10) can be easily solved recursive ly replacing unknown
theoretical quantities with their estimators as follows. The ﬁrst eq uation of (10) is r(1|˜zL) = 1.
Then, from the equation (9), SP(t|ZD= ˜zL) att= 1 is estimated by
ˆSP(1|ZD= ˜zL) =˜SL→O(1|˜ZL= ˜zL)−ˆα(˜zL)ˆSL→O(1|˜ZL= ˜zL,˜XL= 1)
{1−ˆα(˜zL)}.
The second equation of (10) is r(2|˜zL) = 1−h˜zL(2,1)∆˜F1. Set
ˆh˜zL(2,1) = 1−ˆSO(1|ZD= ˜zL+1)
ˆSP(1|ZD= ˜zL+1)and ˆr(2|˜zL) = 1−ˆh˜zL(2,1)∆ˆF1.
Then, from (9),
ˆSP(2|ZD= ˜zL) =˜SL→O(2|˜ZL= ˜zL)−ˆα(˜zL)ˆSL→O(2|˜ZL= ˜zL,˜XL= 1)
{1−ˆα(˜zL)}ˆr(2|˜zL).
SP(t|ZD= ˜zL) fort≥3 can be calculated recursively in a similar fashion by
ˆSP(t|ZD= ˜zL) =˜SL→O(t|˜ZL= ˜zL)−ˆα(˜zL)ˆSL→O(t|˜ZL= ˜zL,˜XL= 1)
{1−ˆα(˜zL)}ˆr(t|˜zL),
12where
ˆr(t|˜zL) = 1−/summationdisplay
k:k≤tˆh˜zL(t,k)∆ˆFk= 1−/summationdisplay
k:k≤t/braceleftigg
1−ˆSO(t−k|ZD= ˜zL+k)
ˆSP(t−k|ZD= ˜zL+k)/bracerightigg
∆ˆFk.
Followingtheaboveprocedures,weestimate SP(t|ZD= ˜zL)att= 1,2,···,K,andtheresulting
estimatorisdenotedby ˆSP(t|ZD= ˜zL). Fortotherthan t= 1,2,···,K,log-linearinterpolation
is applied. In Appendix D, a proof of consistency of ˆSP(t|ZD= ˜zL) toSP(t|ZD= ˜zL) is
presented. Note that in the standard practice, ˆSL→O(t|˜ZL= ˜zL) is used as SP(t|ZD= ˜zL) in
(1). Instead, we propose to use ˆSP(t|ZD= ˜zL) in calculating the PPestimator.
5 Simulation study
We present the results ofa simulation study to investigatethe beha viorofthe proposedmethod.
To generate the cancer registry data and life table, we consider th e natural histories of subjects
in a birth cohort as illustrated in Figure 1( c). Each subject has the potential time to diagnosis
of the cancer of interest after birth, ˜tD, and the potential time to death due to other causes
after birth, denoted by ˜tP. If˜tDis shorter than ˜tP, the subject has the time to death due
to cancer from the date of diagnosis, ˜TD→E. The cancer registry data was constructed as
the population registered at ˜tD, and it has the information of the baseline covariates at ˜tD
and time-to-death. The time-to-death due to any causes after d iagnosis was calculated by
˜TD→O= min(˜TD→E,˜tP−˜tD). From this information, the annual numbers of deaths from any
cause, subjects diagnosed as cancer, and subjects in the popula tion were calculated in each
covariate. Then, the life tables and the annual cancer incidence ra tes were constructed.
We considered a cohort of 50,000 subjects born in 1960. We genera ted gender from the
Bernoulli distribution with the probability of 0.5. ˜tDand˜tPwere generated under the four
13settings as follows;
Dataset 1 : ˜tD∼Weibull(0.5×10−2,1),˜tP∼Weibull(1.0×10−2,2)
Dataset 2 : ˜tD∼Weibull(1.5×10−2,1),˜tP∼Weibull(1.0×10−2,2)
Dataset 3 : ˜tD∼LN(log65,2),˜tP∼LN(log75,2)
Dataset 4 : ˜tD∼LN(log65,1),˜tP∼LN(log75,2)
whereWeibull(λ,p) indicates the Weibull distribution with the hazard function of λp(λt)p−1)
andLN(µ,σ2) indicates the Log-normal distribution. Datasets 1 and 3 had low ca ncer inci-
dence and Datasets 2 and 4 had high cancer incidence. The covariat es at the cancer diagnosis
˜ZD= (age,year,gender )trwere calculated by ( ˜tD,1960+˜tD,gender)tr.˜TD→Ewas generated
from the exponential distribution with hazard rate λE(t|˜ZD) =λexp/braceleftig
βtr˜ZD/bracerightig
, where λ=
0.1exp{−log1.2×60/7.5−log0.95×(2000−1960)/15}andβ= (log1.2/7.5,log0.95/15,log0.8)tr.
The potential censoring time from diagnosis, C, was generated from the uniform distribution
on [0,15]. In this simulation, we focused on patients diagnosed from 60 to 7 4 years old, i.e.
selected by ˜tD∈[60,75). We simulated 1,000 datasets in each setting. The true net surv ival
function SE(t) =EZD[exp(−tλE(t|ZD))] was calculated by the average of exp( −tλE(t|ZD))
overn= 500,000.
Table 1 displays the number of cancer patients and events in each of four datasets. To
apply the proposed method, we calculated the Kaplan-Meier estimat ors for each subpopulation
withZDto estimate SO(t|ZD). For the log-linear extrapolation of SO(t|ZD) beyond the end
of follow-up in (7), we used H= 4 and H= 10. Table 2 showed the empirical biases and
root mean squared errors (rMSEs) of estimates for 3-, 5-, 7-, a nd 10-years net survivals. In all
datasets, the PPestimator had considerable biases particularly in the case of high incid ence
(Datasets 3 and 4). The proposed method had negligible biases for a ll time points and the
rMSEs of the proposed methods were smaller than that of the PPestimator. No substantial
diﬀerences in estimation accuracy were observed between extrap olation using the H= 4 and
with 10.
146 Illustration
We illustrated our proposed method by analyzing two cancer sites fr om the National Cancer
Registry at the Oﬃce for National Statistics. We focused on a subg roup of all adult aged 65–74
years, who was diagnosed as colon or prostate cancers from 1990 to 2000 in London, England.
All patients were followed up to 15 years after diagnosis. For colon c ancer, 55,033 patients were
included and 48,549 among them died until the end of follow-up. For pr ostate cancer, 71,419
patients were included, and 62,422 patients died. The data were ana lyzed by cancer sites (colon
and prostate). To apply the PPestimator, set ZD= (age,year,gender )trin colon cancer and
ZD= (age,year )trin prostate cancer.
To calculate ˜SL→O(t|˜ZL), we used the population life-table of England, which gives annual
mortality from 1981 to 2015 by age and gender. To calculate the incid ence rate, we used the
information of the number of populations by age, gender, and calen dar year, which are available
fromEnglandPopulationEstimates1971to2014( https://www.ons.gov.uk/peoplepopulationandcommunity ).
The survival function SO(t|ZD) was estimated by the Kaplan-Meier method applied to the sub-
population by ZD. Extrapolation of SO(t|ZD) required in (7) was made by the method in
Appendix C with H= 4 and 10.
Figure 2(A) shows the net survival estimated by the PPestimator with the standard ap-
proach of the population life-table and that with the proposed adju stment ( H= 4 or 10)
for colon cancer. Correspondingly, the estimated net survival pr obabilities at selected time
points are shown in Table 3. Recall that in the standard approach, ˜SL→O(t|˜ZL) is used as
SP(t|ZD), whereas in the proposed adjustment SP(t|ZD) is estimated. To see the magnitude
of the diﬀerence between both approaches, in Figure 2(B), ˜SL→O(t|˜ZL= (65,1990,male))
andˆSP(t|ZD= (65,1990,male)) are plotted, which are used for estimates of SP(t|ZD=
(65,1990,male))in (1) in the standard method and the proposed one, respective ly. Figure 2(C)
shows˜SL→E(t|˜ZL= (65,1990,male),˜XL= 0), and Figure 2(D) shows α(˜ZL) by age. Recall
that˜SL→E(t|˜ZL,˜XL= 0) = 1 for any tandα(˜ZL) = 0 hold if the life table did not include
15cancer patients or cancer deaths. Figure 2(C) indicated only small inclusion of cancer death
in the life tables, and Figure 2(D) showed that the inclusion of cancer patients is also minor.
Correspondingly, as seen in Figure 2(B), estimated SP(t|ZD) were slightly diﬀerent with the
proposed adjustment. Then, as seen in Figure 2(A), the PPestimates of net survival were
modiﬁed by the proposed method by 0.4 to 0.6% at any time points.
Results for prostate cancer are presented in Figure 3. On the con traryto colon cancer, there
was a rather higher impact by the inclusion of prostate cancer deat hs in the life table as seen
in Figure 3(A); the PPestimates with the proposed method were 0.8 to 1.6% lower than thos e
with the standard use of the life table. As seen in Figure 3(B), the pr oposed method made a
certain amount of adjustment in estimation of SP(t|ZD= (65,1990)). As shown in Figure 3(C)
and 3(D), the inclusion of cancer population and cancer deaths in th e life table would not be
ignorable.
7 Discussion
When analyzing population-based cancer registry data, external life tables (from the general
population) are commonly utilized to estimate cancer-related surviv al measures (such as net
survival) within the relative survival data setting. Such estimation a ssumes the absence of can-
cer patients and cancer deaths in the life tables, which cannot be fu lly met. Although the issue
is generally ignored by assuming a minor impact on the estimation of net survival, a sensitivity
analysis method to address it was also proposed by Talb¨ ack and Dick man (2011). Their sensi-
tivity analysis requires information on the number of cancer deaths in the general population,
an information which is not available in the data usually collected by canc er registries. In this
paper, we demonstrate how to address this problem with a method b ased on an easily tractable
integral equation. In contrast to the approach introduced in Talb ¨ ack and Dickman (2011), our
method requires only information contained in the standard cancer registry datasets.
Our method is easily extendable to various measures other than net survival, such as rel-
ative survival ratio or crude probability of death. The relative surv ival is deﬁned as SR(t) =
16SO(t)/SP(t), which is the ratio between overall survival in the cancer patients and that for
the general population. The Ederer I ( E1) estimator Ederer, Axitell, and Cutler (1961);
Perme, Stare, and Est` eve (2012) of Λ R(t) =−logSR(t), which is the consistent estimator
of the relative survival ratio, is deﬁned by
ˆΛE1
R(t) =/integraldisplayt
0/summationtextn
i=1dNi(u)/summationtextn
j=1Yj(u)−/integraldisplayt
0/summationtextn
i=1˜SL→O(u|ZD,i)d˜ΛL→O(u|ZD,i)/summationtextn
j=1˜SL→O(u|ZD,j). (11)
TheE1 estimator is a consistent estimator of Λ R(t) under the condition C⊥ {TO,ZD}(in-
dependent censoring). With the E1 estimator, one can replace ˜SL→O(t|ZD) and˜ΛL→O(t|ZD)
in the equation (11) with the adjusted version. The crude probabilit y of death is deﬁned
byFCPD(t) =/integraltextt
0SO(u)λ∗
E(u)du, whereλ∗
E(u) = lim h→0Pr(t < TE≤t+h|TO≥t)/his a
cause speciﬁc hazard due to cancer. An estimator of the crude pr obability of death is deﬁned
byˆFCPD(t) =/integraltextt
0ˆSO(u)dˆΛ∗
E(u),Cronin and Feuer (2000); Perme, Stare, and Est` eve (2012);
Perme and Pavliˇ c (2018) where ˆSO(t) is the estimator of the overall survival, i.e., its cumula-
tive hazard function is estimated as the Nelson-Aalen estimator, an d
ˆΛ∗
E(t) =/integraldisplayt
0/summationtextn
i=1dNi(u)/summationtextn
j=1Yj(u)−/integraldisplayt
0/summationtextn
i=1Yi(u)dΛP(u|ZD,i)/summationtextn
j=1Yj(u). (12)
This estimator is a consistent under the independent censoring ass umption C⊥ {TO,TP,ZD}.
For this estimator, Λ P(u|ZD) needs to be replaced with the adjusted version.
Ederer, Axitell, and Cutler (1961), Est´ eve, Benhamou, and Raym ond (1994), and others
have stated that the presence of cancer death in the life table had a minimal impact on the esti-
mation of these cancer survival measures. Although our illustratio n supported this in particular
in the case of low cancer incidence, it is not necessarily true if the incid ence rate is not low and
the incidence rate of some cancer types may increase in the future .Siegel, Miller, and Jemal
(2016) Then, it is valuable to have tools to address the issue quantit atively. Furthermore,
the net survival and other related survival measures have attra cted attention in the context
of human immunodeﬁciency virus (HIV) cohorts Marston et al. (200 5, 2007); Bhaskaran et al.
(2008); Marston et al. (2011) or of cardiovascular diseases Nelso n et al. (2008); Lantelme et al.
(2022). Because of the dramatic improvement of prognosis among individuals infected with
17HIV following the widespread introduction of highly active antiretrov iral therapy (HAART), it
became important to account for the competing risks of death fro m other causes when estimat-
ing survival from HIV. In the absence of accurate information on t he cause of death, methods
developed for the relative survival setting can be applied. Because HIV prevalence is very high
in some African regions (for example exceeding 10% in the 15-49 age g roup in South Africa
and Botswana), it is crucial to address the presence of HIV patien ts and HIV deaths in the life
tables. Similarly, the high prevalence and mortality of cardiovascular diseases in many popula-
tions are likely to violate the assumptions underlying survival estimat ion approaches within the
relative survival setting. In such situations, the proposed metho d would play very important
roles.
Acknowledgment
The ﬁrst author’s research was partly supported by Grant-in-Aid for Early-Career Scientists
(20K19754) from the Ministry of Education, Science, Sports and T echnology of Japan. The
second author’s research was partly supported by Grant-in-Aid f or Challenging Exploratory
Research (16K12403) and for Scientiﬁc Research (16H06299, 18 H03208) from the Ministry of
Education, Science, Sports and Technology of Japan. The third au thor’s research was partly
supported by Cancer Research UK (Reference C7923/A18525). Computational calculations
were performed at the Institute of Medical Science (the Universit y of Tokyo).
Conﬂict of Interest : None declared.
References
Angelis R. D., Sant M, Coleman M. P., et al.. Cancer survival in Europe 1999–2007 by country
and age: results of EUROCARE-5—a population-based study. Lancet Oncol . 2014;15,23—
34.
Allemani, C., Matsuda, T., Di Carlo, V., et al.. Global surveillance of trends in cancer survival
2000–14(CONCORD-3): analysisofindividualrecordsfor3751302 5patientsdiagnosedwith
18one of 18 cancers from 322 population-based registries in 71 count riesLancet. 2018;391:1023-
–1075.
Ederer, F., Axitell, L. M., and Cutler, S. J. The relativesurvivalrate : a statistical methodology.
National Cancer Institute Monograph . 1961;6:101–121.
Cronin K. A. and Feuer E. J. Cumulative cause-speciﬁc mortality for cancer patients in the
presenceofothercauses: acrudeanalogueofrelativesurvival. Statistics in Medicine . 2000;19,
1729—1740.
Perme, M. P., Stare, J., and Est` eve, J. On estimation in relative sur vival.Biometrics .
2012;68:113–120.
Perme, M. P., Est` eve J., and Rachet B. Analysing population-based cancer survival - settling
the controversies. BMC Cancer . 2016;16(1),933.
Belot A., Ndiaye A., Luque-Fernandez M.-A., et al.. Summarizing and communicating on
survival data according to the audience: a tutorial on diﬀerent me asures illustrated with
population-based cancer registry data. Clin. Epidemiol . 2019;11,53-–65.
Breslow N. E., Lubin J. H., Marek P., et al.. Multiplicative Models and Cohort. Journal of
American Statatistic Association . 1983;78(381), 1–12.
Est´ eve J., Benhamou E., and Raymond L. Statistical methods in cancer research, volume IV.
Descriptive epidemiology . IARC Scientiﬁc Publications No. 128. International Agency for
Research on Cancer: Lyon; 1994.
Talb¨ ack M. and Dickman P. W. Estimating expected survival probab ilities for relative survival
analysis – Exploring the impact of including cancer patient mortality in t he calculations.
European Journal of Cancer . 2011;47,2626–2632.
Perme M. P. and Pavliˇ cK. Nonparametric relative survival analysis with the R package relsurv.
Journal of Statistical Software . 2018;87(8),doi: 10.18637/jss.v087.i08.
19Siegel R. L., Miller K. D., and Jemal A. Cancer Statistics, 2016. CA: A Cancer Journal for
Clinicians . 2016;66,7–30.
MarstonM., ZaraB., SalomonJ.A., et al.. Estimatingthe Net Eﬀect ofHIVon Child Mortality
in African Populations Aﬀected by Generalized HIV Epidemics. J Acquir Immune Deﬁc
Syndr. 2005;38(2),219-227.
Marston M., Todd J., Glynn J. R., et al.. Estimating ‘net’ HIV-related mortality and the
importance of background mortality rates. AIDS. 2007;21(suppl 6), S65—S71.
BhaskaranK., Hamouda O., Sannes M, et al.. Changes in the Risk of Death After HIV Serocon-
version Compared With Mortality in the General Population. Journal of American Medical
Association . 2008;300(1), 51–59.
Marston M., Becquet R., Zaba B., et al.. Net survival of perinatally and postnatally HIV-
infected children: a pooled analysis of individual data from sub-Saha ran Africa. International
Journal of Epidemiology . 2011;40(2),385-–396.
Nelson C. P., Lambert P. C., Squire I. B., et al.. Relative survival: what can cardiovascular
disease learn from cancer? European Heart Journal . 2008;29(7),941—947.
Lantelme P., MoulayatC., Courand P.-Y., et al.. Gain in net survival from hypertension control
over the last half-century. European Journal of Preventive Cardiology . 2022;29(1),169-–177.
Gong Q. and Fang L. Asymptotic properties of mean survival estima te based on the Kaplan-
Meier curve with an extrapolated tail. Pharmaceutical Statistics . 2012;11,135–140.
Reisfeld B., Arthur N., and Mayeno A. N. Computational Toxicology: Volume I . Humana
Press;2012.
Fleming, T. R. and Harrington, D. P. (1991).Counting Processes and Survival Analysis .
Hoboken, NJ:John Wiley and Sons, Inc.
20     (1) (2) ( ) ( ) ( ) ( ) 
, , , , 50,1990, ( ) Cancer registry data:Subject diagnosed as cancer with covariates 
say D
others others others 
D D D D D Da Z 
Z Z y ag Z Z ear Z Z e    
( ) Relationship between underlying variables in each subject in general p opulation to calculate life table with L c Z ( ) Lexis diagram constracted from life table across multiple pairs  of age and year: Diagonal line corresponds to general 
population of 50 years old at 1990. Information of general population of 50 years old at b
1990 is extracted from them. ) Time b 0 ( irth 0 age a 50 199 tOT
) In case the subject was diagnosed before 50 years old diagnosed at yea ( 1) : a 30 ( 19 rs old age 30 t 70 L D X t    
) Time b 0 ( irth 50 1990 
( ) age at 
LtL O D O L D T T T o o o      
D O To50 30 D L L D T t to  
     
30 1980 
( ) age at 
Dt
) I d( n case the subject was diagnosed after 50 years ol diagnosed at  years old age 65 t 0) : 65 2 a ( 005L D X t    
) Time b 0 ( irth 50 1990 
( ) age at 
LtL O L D D O T T T o o o      
D O To
65 50 L D D L T t to 
     
65 2005 
( ) age at 
DtAge Year 
50 1990
0194019891991
49 51 9 Life table for age 51a 198 t
Figure 1: Conceptual diagrams of cancer registrydata and of cor respondinglife tables: (a) Line
plot in age for a cancer patient with covariates at diagnosis, ZD, in cancer registry data. (b)
Lexis diagram constructed from life table across the pairs of age an d year: for a cancer patient
described in (a), information of the general population is extracte d from them on diagonal line.
(c) The relationship among the random variables for a subject regis tered in the life table.
210 5 10 150.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0(A)
Time(y)Net survivalProposed(4)
Proposed(10)
PP
0 5 10 150.4 0.5 0.6 0.7 0.8 0.9 1.0(B)
Time(y)Survival
Proposed(4)
Proposed(10)
Life−table
0 5 10 150.80 0.85 0.90 0.95 1.00(C)
Time(y)Survival
Proposed(4)
Proposed(10)
65 66 67 68 69 70 71 72 73 74Proposed(4)
Proposed(10)(D)
AgePrevalence
0.000 0.005 0.010 0.015
Figure 2: Plots of estimated survival curves and prevalence rates for colon cancer patients
diagnosed at age 64-74 in England; (A) shows the net survival curv es by the proposed methods
withH= 4 and 10 and the Pohar-Perme estimator; (B) plot the population s urvival curve
from the life table and the non-cancer survival estimated by the pr oposed methods; (C) plots
the cancer survival function for the non-cancer patient at the r egistration to the life table; (D)
shows the estimated prevalence rates of male population at each ag e in 1990. (B) and (C) show
the survival functions for male population of 65 years old in 1990.
220 5 10 150.4 0.5 0.6 0.7 0.8 0.9 1.0(A)
Time(y)Net survivalProposed(4)
Proposed(10)
PP
0 5 10 150.4 0.5 0.6 0.7 0.8 0.9 1.0(B)
Time(y)Survival
Proposed(4)
Proposed(10)
Life−table
0 5 10 150.80 0.85 0.90 0.95 1.00(C)
Time(y)Survival
Proposed(4)
Proposed(10)
65 66 67 68 69 70 71 72 73 74Proposed(4)
Proposed(10)(D)
AgePrevalence
0.00 0.02 0.04 0.06 0.08
Figure 3: Plots of estimated survival curves and prevalence rates for prostate cancer patients
diagnosed at age 65-74 in England; (A) shows the net survival curv es by the proposed methods
withH= 4 and 10 and the Pohar-Perme estimator; (B) plot the population s urvival curve
from the life table and the non-cancer survival estimated by the pr oposed methods; (C) plots
the cancer survival function for the non-cancer patient at the r egistration to the life table;
(D) shows the estimated prevalence rates at each age in 1990. (B) and (C) show the survival
functions for 65 years old in 1990.
23Table 1: Summary of simulated cancer registry data: Medians with ra nges of the number of
cancer patients diagnosed from 60 to 74 years old and of the numbe r of events across the 1,000
simulation data are presented. The dataset 1 and 2 are by the low an d high incidence Weibull
models, respectively. The dataset 3 and 4 are by the low and high incid ence log-normal model,
respectively.
Dataset Patients(Median[Range]) Events(Median[Range])
1 1699 [1572, 1836] 870 [771, 970]
2 2605 [2431, 2753] 1329.5 [1196, 1426]
3 1160 [1058, 1272] 565 [501, 634]
4 2320 [2162, 2449] 1127 [1026, 1238]
24Table 2: Results of the simulation studies for the evaluation of the pr oposed estimators with the use of 4-points and 10-points near the end
of follow-up: Average of estimates, percentage bias(%), and rMS E (empirical root of mean squared error) across the 1,000 simulatio n data are
presented in each year. The dataset 1and 2 are by the low and high in cidence Weibull models, respectively. The dataset 3 and 4 are by the low
and high incidence log-normal model, respectively.
Proposed( H= 4) Proposed( H= 10) Pohar-Perme
Dataset Year True Ave %Bias rMSE( ×100) Ave %Bias rMSE( ×100) Ave %Bias rMSE( ×100)
1 3 0.748 0.748 -0.05 1.23 0.747 -0.17 1.24 0.761 1.76 1.77
5 0.617 0.617 0.02 1.48 0.616 -0.17 1.48 0.636 3.02 2.377 0.51 0.51 0.06 1.69 0.509 -0.18 1.69 0.531 4.23 2.74
10 0.383 0.384 0.22 1.87 0.383 -0.06 1.87 0.406 6.06 3.01
2 3 0.749 0.751 0.31 1.16 0.749 -0.01 1.14 0.789 5.28 4.08
5 0.618 0.622 0.62 1.4 0.619 0.14 1.35 0.674 9.05 5.737 0.511 0.517 1.15 1.55 0.514 0.52 1.47 0.578 13.1 6.84
10 0.384 0.392 2.08 1.78 0.389 1.3 1.67 0.458 19.21 7.57
3 3 0.748 0.756 0.95 1.65 0.755 0.85 1.62 0.77 2.85 2.57
5 0.617 0.628 1.69 2.01 0.627 1.53 1.97 0.648 4.89 3.467 0.51 0.522 2.37 2.23 0.521 2.18 2.18 0.545 6.90 3.99
10 0.383 0.396 3.34 2.42 0.395 3.14 2.38 0.421 9.88 4.34
4 3 0.749 0.752 0.36 1.15 0.750 0.17 1.13 0.781 4.29 3.37
5 0.618 0.623 0.77 1.37 0.621 0.48 1.32 0.664 7.41 4.747 0.51 0.516 1.1 1.51 0.514 0.71 1.45 0.564 10.50 5.54
10 0.384 0.391 2.03 1.76 0.390 1.57 1.69 0.443 15.49 6.17
25Table3: Estimatesofthe3-year,5-year,7-year,and10-yearn etsurvivalsforpatientswith colon
and prostate cancers (the number of events: 55,033 in colon canc er and 71,419 in prostate, the
number of patients: 48,549 in colon cancer and 62,422 in prostate) in cancer registry data in
England.
Proposed Pohar-Perme
Site Year H= 4H= 10
colon 3 0.517 0.517 0.521
5 0.458 0.458 0.462
7 0.433 0.433 0.438
10 0.419 0.419 0.425
prostate 3 0.750 0.750 0.758
5 0.665 0.665 0.675
7 0.602 0.602 0.615
10 0.534 0.534 0.550
26Appendix
A: Derivations of (5) and (7)
Recall that ˜TL→E=˜TL→D+˜TD→Efor a non-cancer subject at ˜tL(˜XL= 0). Under the
assumption (B-2), by using the convolution formula (Chapter 2 in Du rrett, 2010) for a sum of
independent random variable, it holds that
˜SL→E(t|˜ZL= ˜zL,˜XL= 0) = Pr( ˜TL→D+˜TD→E> t|˜ZL= ˜zL,˜XL= 0)
= 1−Pr(˜TL→D+˜TD→E≤t|˜ZL= ˜zL,˜XL= 0)
= 1−/integraldisplayt
0/braceleftig
1−˜SD→E(t−s|˜ZD= ˜zL+s,˜XL= 0)/bracerightig
d˜FL→D(s|˜ZL= ˜zL,˜XL= 0).
Note that the origin of ˜SD→E(t−s|˜ZD= ˜zL+s,˜XL= 0) in the integrand is the date when
a subject is diagnosed as cancer. Thus, the covariate ˜ZDwas shifted by sfrom˜ZL. From
(C-1),SE(t|ZD= ˜zL+s) =˜SD→E(t|˜ZD= ˜zL+s,˜XL= 0). Under (A-1), SE(t−s|ZD= ˜zL+s) =
SO(t−s|ZD= ˜zL+s)/SP(t−s|ZD= ˜zL+s) holds. Then, we have (5).
For the subjects with ˜XL= 1,˜TL→O=˜TD→O−˜TD→L. Then, the convolution technique
(Chapter 2 in Durrett, 2010) applied under (B-3) gives
˜SL→O(t|˜ZL= ˜zL,˜XL= 1)
= 1−/integraldisplay˜tL
0/braceleftig
1−˜SD→O(t+s|˜ZL= ˜zL,˜XL= 1)/bracerightig
d˜FD→L(s|˜ZL= ˜zL,˜XL= 1)
= 1−/integraldisplay˜tL
0/braceleftig
1−˜SD→O(t+s|˜ZD= ˜zL−s,˜XL= 1)/bracerightig
d˜FD→L(s|˜ZL= ˜zL,˜XL= 1)
= 1−/integraldisplay˜tL
0{1−SO(t+s|ZD= ˜zL−s)}d˜FD→L(s|˜ZL= ˜zL,˜XL= 1).
where the last equality holds from (C-3). It completes the derivatio n of (7).
B: Estimation of the prevalence rate α(˜zL)and the related
quantities
In this appendix, we explain how to estimate α(˜zL),˜FD→L(t|˜ZL= ˜zL,˜XL= 1) in (7), and
˜FL→D(t|˜ZL= ˜zL,˜XL= 0) in (6) with the information on the annual incidence rates IR(˜zL)
and the cancer registry data. They are summarized as in the subse ctions B.1, B.2, and B.3,
27respectively. Denote the joint density of ˜tDand˜TD→Ogiven the covariates ˜ZL= ˜zLby
˜f˜tD,˜TD→O(u,s|˜ZL= ˜zL). Let˜f˜TD→O|˜tD(s|˜tD=u,˜ZL= ˜zL) be the conditional density function
of˜TD→Ogiven˜tD=uand˜ZL= ˜zL, and˜f˜tD(u|˜ZL= ˜zL) be that of ˜tDgiven˜ZL= ˜zL.
B.1. The prevalence rate α(˜zL)
The prevalence rate α(˜zL) is represented by
α(˜zL) = Pr(˜XL= 1|˜ZL= ˜zL) =/integraldisplay˜tL
0/integraldisplay∞
˜tL−u˜f˜tD,˜TD→O(u,s|˜ZL= ˜zL)dsdu
=˜tL−1/summationdisplay
u′=0/integraldisplayu′+1
u′/integraldisplay∞
˜tL−u˜f˜TD→O|˜tD(s|˜tD=u,˜ZL= ˜zL)ds˜f˜tD(u|˜ZL= ˜zL)du.
Suppose ˜tD∈[u′,u′+1). Then, from the assumption that the covariates remains cons tant in
each year, ˜ZD=˜ZL−˜tL+u′(see Figure 1(c)). {˜ZL= ˜zL}is the same event as {˜ZL−˜tL+u′=
˜zL−˜tL+u′}, and{˜tD=u,˜ZL−˜tL+u′= ˜zL−˜tL+u′}and{˜tD=u,˜ZD= ˜zL−˜tL+u′}are also the
same event. Since ˜ZDcontains age at diagnosis, ˜tDis constant conditional on ˜ZD. Therefore,
we have
α(˜zL) =˜tL−1/summationdisplay
u′=0/integraldisplayu′+1
u′/integraldisplay∞
˜tL−u˜f˜TD→O|˜tD(s|˜tD=u,˜ZL−˜tL+u′= ˜zL−˜tL+u′)ds
×˜f˜tD(u|˜ZL−˜tL+u′= ˜zL−˜tL+u′)du
=˜tL−1/summationdisplay
u′=0/integraldisplayu′+1
u′/integraldisplay∞
˜tL−u˜f˜TD→O(s|˜ZD= ˜zL−˜tL+u′)ds˜f˜tD(u|˜ZL−˜tL+u′= ˜zL−˜tL+u′)du
=˜tL−1/summationdisplay
u′=0/integraldisplayu′+1
u′˜SD→O(˜tL−u|˜ZD= ˜zL−˜tL+u′)˜f˜tD(u|˜ZL−˜tL+u′= ˜zL−˜tL+u′)du,(13)
where the last equality holds because/integraltext∞
˜tL−u˜f˜TD→O(s|˜ZD= ˜zL−˜tL+u′)dsis the conditional prob-
ability of {˜TD→O>˜tL−u}given˜ZD= ˜zL−˜tL+u′. Onu∈[u′,u′+ 1), we approximate
˜SD→O(˜tL−u|˜ZD= ˜zL−˜tL+u′)≈˜SD→O(˜tL−u′|˜ZD= ˜zL−˜tL+u′). From the assumption (C-3),
˜SD→O(˜tL−u′|˜ZD= ˜zL−˜tL+u′) =SO(˜tL−u′|ZD= ˜zL−˜tL+u′). Then, summand of (13) is
/integraldisplayu′+1
u′˜SD→O(˜tL−u|˜ZD= ˜zL−˜tL+u′)˜f˜tD(u|˜ZL−˜tL+u′= ˜zL−˜tL+u′)du
≈SO(˜tL−u′|ZD= ˜zL−˜tL+u′)/integraldisplayu′+1
u′˜f˜tD(u|˜ZL−˜tL+u′= ˜zL−˜tL+u′)du.
28It holds that
/integraldisplayu′+1
u′˜f˜tD(u|˜ZL−˜tL+u′= ˜zL−˜tL+u′)du
=/integraldisplayu′+1
u′˜f˜tD(u|˜ZL−˜tL+u′= ˜zL−˜tL+u′,˜XL−˜tL+u′= 0)du
×Pr(˜XL−˜tL+u′= 0|˜ZL−˜tL+u′= ˜zL−˜tL+u′)
=IR(˜zL−˜tL+u′)/braceleftbig
1−α(˜zL−˜tL+u′)/bracerightbig
. (14)
Then, (13) is represented as
α(˜zL)≈˜tL−1/summationdisplay
u′=0SO(˜tL−u′|ZD= ˜zL−˜tL+u′)IR(˜zL−˜tL+u′)/braceleftbig
1−α(˜zL−˜tL+u′)/bracerightbig
.
By changing variables, α(˜zL) can be approximated by
α(˜zL)≈˜tL/summationdisplay
s=1SO(s|ZD= ˜zL−s)IR(˜zL−s){1−α(˜zL−s)},
and we can estimate it recursively as follows. Denote the estimator o fα(˜zL) by ˆα(˜zL). Recall
that ˜zLis the real value of ˜ZL= (˜Z(1)
L,˜Z(2)
L,˜Z(others)
L) (see Section 3 and Figure 1). When
˜tL= 0, suppose that α(˜zL= (0,˜z(2)
L,˜z(others)
L)) = 0. Set ˜tL= 1, that is, the age at diagnosis is
1 years old, ˜ z(1)
L= 1. Then, the estimator of α(˜zL= (1,˜z(2)
L,˜z(others)
L)) is given by
ˆα(˜zL= (1,˜z(2)
L,˜z(others)
L)) =ˆSO(1|ZD= ˜zL−1)IR(˜zL−1){1−ˆα(˜zL−1)},
with ˜zL−1= (0,˜z(2)
L−1,˜z(others)
L). Set˜tL= 2. By using the estimators ˆ α(˜zL−1= (1,˜z(2)
L−
1,˜z(others)
L)) and ˆα(˜zL−2= (0,˜z(2)
L−2,˜z(others)
L)),α(˜zL= (2,˜z(2)
L,˜z(others)
L)) is estimated by
ˆα(˜zL= (2,˜z(2)
L,˜z(others)
L)) =ˆSO(1|ZD= ˜zL−1)IR(˜zL−1){1−ˆα(˜zL−1)}
+ˆSO(2|ZD= ˜zL−2)IR(˜zL−2){1−ˆα(˜zL−2)}.
For˜tL≥3,α(˜zL) is estimated recursively by
ˆα(˜zL)≈˜tL/summationdisplay
s=1ˆSO(s|ZD= ˜zL−s)IR(˜zL−s){1−ˆα(˜zL−s)},
29B.2.˜FD→L(t|˜ZL= ˜zL,˜XL= 1)in (7)
Recall that α(˜zL) = Pr(˜XL= 1|˜ZL= ˜zL) and˜TD→L=˜tL−˜tDfor subjects with ˜XL= 1 (see
Figure 1(c)). Therefore, it holds that
˜FD→L(t|˜ZL= ˜zL,˜XL= 1) =α−1(˜zL)Pr(˜TD→L≤t,˜XL= 1|˜ZL= ˜zL)
=α−1(˜zL)Pr(˜tD≥˜tL−t,˜XL= 1|˜ZL= ˜zL).
Since˜ZLcontains age at diagnosis and year, ˜tLis constant conditional of ˜ZL. Then, we have
˜FD→L(t|˜ZL= ˜zL,˜XL= 1)
=α−1(˜zL)/integraldisplay˜tL
˜tL−t/integraldisplay∞
˜tL−u˜f˜tD,˜TD→O(u,s|˜ZL= ˜zL)dsdu
=α−1(˜zL)˜tL−1/summationdisplay
u′=˜tL−t/integraldisplayu′+1
u′/integraldisplay∞
˜tL−u˜f˜TD→O|˜tD(s|˜tD=u,˜ZL= ˜zL)ds˜f˜tD(u|˜ZL= ˜zL)du
=α−1(˜zL)˜tL−1/summationdisplay
u′=˜tL−t/integraldisplayu′+1
u′˜SD→O(˜tL−u|˜ZD= ˜zL−˜tL+u′)˜f˜tD(u|˜ZL−˜tL+u′= ˜zL−˜tL+u′)du,(15)
by the same as in the expansion of equation (13).
Again, we use the approximation of ˜SD→O(˜tL−u|˜ZD= ˜zL−˜tL+u′)≈˜SD→O(˜tL−u′|˜ZD=
˜zL−˜tL+u′) onu∈[u′,u′+1). The equality ˜SD→O(˜tL−u′|˜ZD= ˜zL−˜tL+u′) =SO(˜tL−u′|ZD=
˜zL−˜tL+u′) holds from the assumption (C-3). Then, coupled with (14), the eq uation (15) leads
to
˜FD→L(t|˜ZL= ˜zL,˜XL= 1)≈α−1(˜zL)t/summationdisplay
s=1SO(s|ZD= ˜zL−s)IR(˜zL−s){1−α(˜zL−s)},
fort= 1,2,···. Note that ˜FD→L(0|˜ZL= ˜zL,˜XL= 1) = 0. The estimator of ˜FD→L(t|˜ZL=
˜zL,˜XL= 1) is deﬁned by
ˆFD→L(t|˜ZL= ˜zL,˜XL= 1) = ˆα−1(˜zL)t/summationdisplay
s=1ˆSO(s|ZD= ˜zL−s)IR(˜zL−s){1−ˆα(˜zL−s)}.
30B.3.˜FL→D(t|˜ZL= ˜zL,˜XL= 0)in (6)
It is represented by
˜FL→D(t|˜ZL= ˜zL,˜XL= 0)
= 1−Pr(˜TL→D> t|˜ZL= ˜zL,˜XL= 0)
= 1−t−1/productdisplay
s=0Pr(˜tD>˜tL+s+1|˜ZL= ˜zL,˜XL= 0,˜tD>˜tL+s)
= 1−t−1/productdisplay
s=0/braceleftigg
1−/integraldisplay˜tL+s+1
˜tL+sf˜tD(u|˜ZL= ˜zL,˜XL= 0,˜tD>˜tL+s)du/bracerightigg
,
fort= 1,2,···. Since{˜ZL= ˜zL}and{˜ZL+s= ˜zL+s}are the same event and {˜XL= 0,˜tD>
˜tL+s}and˜XL+s= 0 are also the same event, f˜tD(u|˜ZL= ˜zL,˜XL= 0,˜tD>˜tL+s) =
f˜tD(u|˜ZL+s= ˜zL+s,˜XL+s= 0). Then, by the deﬁnition (2),
/integraldisplay˜tL+s+1
˜tL+sf˜tD(u|˜ZL= ˜zL,˜XL= 0,˜tD>˜tL+s)du
=/integraldisplay˜tL+s+1
˜tL+sf˜tD(u|˜ZL+s= ˜zL+s,˜XL+s= 0)du
=IR(˜zL+s).
Therefore, ˜FL→D(t|˜ZL= ˜zL,˜XL= 0) is estimated by
ˆFL→D(t|˜ZL= ˜zL,˜XL= 0) = 1 −t−1/productdisplay
s=0{1−IR(˜zL+s)}.
C: Log-linear extrapolation of SO(t|ZD)beyond the maxi-
mum follow-up time
We propose a simple extrapolation method based on linear regression for the Kaplan-Meier
estimates applied to several time points around the end of follow-up . For the subpopulation
withZD, letτZDbe a time point such that on [0 ,τZD],SO(t|ZD) is well estimated by the
Kaplan-Meier estimate ˆSO(t|ZD). We call τZDthe end of follow-up. Select several (say H)
time points near the end of follow-up τZDand they are denoted by t∗
1,t∗
2,...,t∗
H(t∗
1< t∗
2<
···< t∗
H). Borrowing the idea of the piecewise exponential distribution to ex press ﬂexible
parametric distribution, we assume that near τZD, the survival function is well approximated
31by an exponential distribution. That is SO(t|ZD)≃exp(−λt) locally near τZD. This motivates
toapplyalog-linearmodel −log(SO(t∗
h|ZD)) =γ0+γ1t∗
h+ǫhforh= 1,2,···,Handextrapolate
SO(t|ZD) by exp( −ˆγ0−ˆγ1t) fortafterτZD, where(ˆγ0,ˆγ1) is the leastsquareestimator. Denote
ˆSO(t∗|ZD) ={ˆSO(t∗
1|ZD),···,ˆSO(t∗
H|ZD)}tr. The least-squares estimator is calculated by
ˆγ=AH{−logˆSO(t∗|ZD)}, where
AH=

/parenleftbigg
1 1···1
t∗
1t∗
2···t∗
H/parenrightbigg
1t∗
1
......
1t∗
H


−1/parenleftbigg
1 1···1
t∗
1t∗
2···t∗
H/parenrightbigg
.
AsimilarideahasappliedtoestimatethemeansurvivaltimeGong and Fa ng (2012)andtheter-
minal time points ofdose-responsecurve(Chapter 16in Reisfeld, A rthur, and Mayeno (2012)).
BythegenerallargesampletheoryfortheKaplan-Meierestimator (seechapter3inFleming and Harrington
(1991)), ˆSO(t|ZD) converges in probability to SO(t|ZD) uniformly in t∈[0,τZD] asnZD→ ∞,
wherenZDis the number of subjects with ZD. Fort > τZD, by using the consistency of
ˆSO(t∗|ZD), we can show easily that ˆSO(t|ZD) = exp( −ˆγ0−ˆγ1t) converges in probability to
SO(t|ZD) uniformly in t. Therefore, it can be easily shown that ˆSO(t|ZD) converges in proba-
bility to SO(t|ZD) uniformly in t∈[0,∞) asnZD→ ∞under the log-linearity assumption.
D: Consistency of SP(t|ZD)
Assume the covariates vector ZDand˜ZLare bounded. Let nZD=nTaZDwhereaZD∈(0,1)
with/summationtext
ZDaZD= 1 and nTis the total sample size in the cancer registry data. We consider
limitsas nTapproachesinﬁnity. Supposethatthe approximationsof α(˜zL) and˜FD→Ldescribed
in Web-Appendices B.1 and B.2, respectively, are consistent. By the simple algebras and the
consistency of ˆSO(t|ZD), ˆα(˜zL) converges in probability to α(˜zL), andˆFD→L(t|˜ZL= ˜zL,˜XL=
1) converges in probability to ˜FD→L(t|˜ZL= ˜zL,˜XL= 1) in each t= 0,1,···. Then, simple
32algebraic manipulation gives,
ˆSL→O(t|˜ZL= ˜zL,˜XL= 1)−˜SL→O(t|˜ZL= ˜zL,˜XL= 1)
=/integraldisplay˜tL
0/braceleftig
ˆSO(t+s|ZD= ˜zL−s)−SO(t+s|ZD= ˜zL−s)/bracerightig
dˆFD→L(s|˜ZL= ˜zL,˜XL= 1)
−/integraldisplay˜tL
0{1−SO(t+s|ZD= ˜zL−s)}/braceleftig
dˆFD→L(s|˜ZL= ˜zL,˜XL= 1)−d˜FD→L(s|˜ZL= ˜zL,˜XL= 1)/bracerightig
P− →0,
asnT→ ∞fort= 1,2,···. It follows that ˆSL→O(t|˜ZL= ˜zL,˜XL= 1) converges in probability
to˜SL→O(t|˜ZL= ˜zL,˜XL= 1) att= 0,1,···.
We prove the consistency of ˆSP(t|ZD) fort= 1,2,···presented in Section 4.4. When t= 1,
by the above results, ˆSP(1|ZD= ˜zL) presented in Section 4.4 converges in probability to
˜SL→O(1|˜ZL= ˜zL)−α(˜zL)˜SL→O(1|˜ZL= ˜zL,˜XL= 1)
{1−α(˜zL)}, (16)
asnT→ ∞. Under the assumptions (A-1), (B-1) to (B-3), and (C-1) to (C- 3), the equation
(16) is equal to SP(1|ZD= ˜zL). It holds that ˆSP(1|ZD= ˜zL) converges in probability to
SP(1|ZD= ˜zL). When t= 2, since
ˆh˜zL(2,1) = 1−ˆSO(2−1|ZD= ˜zL+1)
ˆSP(2−1|ZD= ˜zL+1)= 1−ˆSO(1|ZD= ˜zL+1)
ˆSP(1|ZD= ˜zL+1)
converges to 1 −SO(1|ZD=˜zL+1)
SP(1|ZD=˜zL+1)and also ˆ r(2|˜zL) = 1−ˆh˜zL(2,1)∆˜F1converges to ˜SL→E(2|˜ZL=
˜zL,˜XL= 0) by the results when t= 1 and the derivation in Appendix A under the assumptions
(A-1), (B-1) to (B-3), and (C-1) to (C-3), it also follows that
ˆSP(2|ZD= ˜zL) =˜SL→O(2|˜ZL= ˜zL)−ˆα(˜zL)ˆ˜SL→O(2|˜ZL= ˜zL,˜XL= 1)
{1−ˆα(˜zL)}ˆr(2|˜zL)
P− →˜SL→O(2|˜ZL= ˜zL)−α(˜zL)˜SL→O(2|˜ZL= ˜zL,˜XL= 1)
{1−α(˜zL)}˜SL→E(2|˜ZL= ˜zL,˜XL= 0)
=SP(2|ZD= ˜zL),
asnT→ ∞. Fort= 3,ˆSP(3|ZD= ˜zL) also converges in probability to SP(3|ZD= ˜zL) as
nT→ ∞by using the results of t= 1 and 2. By repeating this sequentially with t= 4,5,···,K,
we can prove that for each t=k(k= 1,2,···K),ˆSP(t|ZD= ˜zL) is shown to converge in
probability to SP(t|ZD= ˜zL) asnT→ ∞.
33