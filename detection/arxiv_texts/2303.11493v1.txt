arXiv:2303.11493v1  [math.CO]  20 Mar 2023PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES
CRISTINA BALLANTINE AND GEORGE BECK
Abstract. The Fibonacci numbers are the prototypical example of a recu r-
sive sequence, but grow too quickly to enumerate sets of inte ger partitions.
The same is true for the other classical sequences a(n) deﬁned by Fibonacci-
like recursions: the tribonacci, Padovan, Pell, Narayana’ s cows, and Lucas
sequences. For each sequence a(n), however, we can deﬁne a related sequence
sa(n) by deﬁning sa( n) to have the same recurrence and initial conditions as
a(n), except that sa(2 n) = sa(n). Growth is no longer a problem: for each n
we construct recursively a set SA(n) of partitions of nsuch that the cardinal-
ity ofSA(n) is sa(n). We study the properties of partitions in SA(n) and in
each case we give non-recursive descriptions. We ﬁnd congru ences for sa( n)
and also for psa( n), the total number of parts in all partitions in SA(n).
1.Introduction
An integer partition of a positive integer nis a weakly decreasing sequence of
positive integers whose sum is n. The positive integers in the sequence are called
parts. The set of partitions of nis denoted by P(n) and the number of partitions
ofnis denoted by p(n). For example, the ﬁve partitions of 4 are (4), (3 ,1), (2,2),
(2,1,1), and (1,1,1,1), sop(n) = 5. Since the empty partition is the only partition
of 0, we have p(0) = 1.
As usual, {Fn}n≥0denotes the sequence of Fibonacci numbers. For all n≥9,
p(n)<Fn(seeforexample[2]). Thus, the numbers Fngrowtoofast toenumeratea
subset of P(n). However, one can deﬁne a related integer sequence that enume rates
the setOB(n) of odd binary partitions of n, which are the partitions of nwhose
parts are powers of 2, each part occurring an odd number of times .
Deﬁnition 1. The semi-Fibonacci sequence, {sf(n)}n≥0is deﬁned recursively by
sf(0) = 1, sf(1) = 1, and for n≥1,
sf(2n) = sf(n)
sf(2n+1) = sf(2 n)+sf(2n−1).
The following table shows the values of the sequence sf( n) forn= 0,1,...,12.
n0 1 2 3 4 5 6 7 8 9 10 11 12
sf(n)1 1 1 2 1 3 2 5 1 6 3 9 2
Andrews proved in [3] that |OB(n)|= sf(n). In [5], the second author deﬁned
the setSF(n) of semi-Fibonacci partitions of nbySF(1) :={(1)},SF(2) :={(2)}
and, forn≥1, the partitions in SF(2n) are the partitions of SF(n) with each part
doubled, and the partitions in SF(2n+1) are the partitions of SF(2n) each with
an additional part equal to 1, or the partitions in SF(2n−1) each with the unique
odd part increased by 2. Then, |SF(n)|= sf(n).
12 CRISTINA BALLANTINE AND GEORGE BECK
A non-recursive description of SF(n) was given in [4, Theorem 4]: for a positive
integerm, the 2-adic valuation of m, denoted val 2(m), is the non-negative integer
ksuch that 2k|mbut 2k+1∤m. Then, for n≥1,SF(n) is the set of partitions of
nwith distinct 2-adic valuations of parts.
Given an integer sequence a(n) deﬁned by a set of initial conditions and a linear
recurrence, there is an associated integer sequence sa( n) deﬁned with the same
initial conditions and the same recurrence for odd n, but with sa(2 n) = sa(n). In
the literature, such a sequence is called self-similar [8] because the s ubsequence of
even terms is the same as the entire sequence.
Motivated by semi-Fibonacci partitions, for each such sequence s a(n), we can
deﬁne recursively a set of partitions SA(n) ofnenumerated by sa( n). These
deﬁnitions can be varied; we have chosen deﬁnitions that allow us to a lso give
non-recursive descriptions of the partitions in SA(n).
We discuss parity properties for most of the self-similar sequences we introduce.
In many cases we investigate properties and congruences for the total number of
parts in all partitions in SA(n) for the respective sets of partitions.
The paper is organized as follows. In section 2, we discuss necessar y background
on partitions and introduce notation used throughout the paper. In section 3 we
determinethe generatingfunction foraself-similarsequence deﬁn ed byarecurrence
of order at most three at odd arguments. In the subsequent sec tions, we study
diﬀerent self-similar sequences and related partitions as follows.
section sequence
4semi-tribonacci
5semi-Padovan
6semi-Pell
7semi-Narayana’s cows
8delayed semi-Fibonacci
9semi-Lucas
10Stern-Brocot
For the convenience of the reader, we summarize notation and deﬁ nitions in section
11. We oﬀer some concluding remarks and open problems in section 12 .
2.Preliminaries and notation
Ifλis a partition of n, we writeλ⊢n. The weight (or size) of a partition λ,
denoted by |λ|, is the sum of its parts. Thus, if λ⊢n, then|λ|=n. The length of
a partition λ, denoted by ℓ(λ), is the number of parts of λ. We write a partition
as a list, a formal sum, or a concatenation when unambiguous. For e xample, the
partitionλ= (4,4,3,2,2,1) of 16 can also be written as 4 +4+ 3+2 +2+ 1 or
443221. We denote the empty partition by ( ). We also view a partition as the
multiset of its parts and write a∈λto mean that ais a part of λ. The number
of times an integer ioccurs as a part in the partition λis denoted by mλ(i) and
is referred to as the multiplicity of iinλ. For example, if λ= (4,4,3,2,2,1), then
mλ(4) = 2. For more on the theory of partitions, we refer the reader to [1].
An overpartition of nis a partition of nin which the ﬁrst occurrence of a part
maybe overlined[7]. For example, (4 ,4,3,2,2,1),(4,4,3,2,2,1),and (4,4,3,2,2,1)
are some of the overpartitions of 16.
We deﬁne several operations on partitions.PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 3
Ifλandµare partitions, then λ⊔µdenotes the partition whose multiset of
parts is the union of the multisets of parts of λandµ. For example, if λ= (2,1,1)
andµ= (3,2,1,1), we have λ⊔µ= (3,2,2,1,1,1,1). Similarly, if Sis a set of
partitions, deﬁne S ⊔µ={λ⊔µ|λ∈ S}. IfS=∅, thenS ⊔λ=∅.
If each part of µoccurs inλwith equal or greater multiplicity, we say that µis
contained in λ, or a subpartition of λ, and write µ⊆λ. Ifµ⊆λ, we denote by
λ\µthe partition obtained from λby removing the multiset of parts of µ. For
example, if λ= (7,4,4,4,2,1,1) andµ= (4,2,1,1), thenλ\µ= (7,4,4).
Letmbe a positive integer. For a partition λ= (λ1,λ2,...,λ ℓ), we deﬁne
mλ:= (mλ1,mλ2,...,mλ ℓ). Moreover, if every part of λis divisible by m, we
deﬁneλ/m:= (λ1/m,λ2/m,...,λ ℓ/m). Occasionally, we also write1
mλforλ/m.
For a partition λ= (λ1,λ2,...,λ ℓ), we deﬁne add 1,1(λ) := (λ1+1,λ2,...,λ ℓ),
thepartitionobtainedbyadding1totheﬁrstpartof λ. Vacuously,add 1,1(()) = ().
Ifλhas an odd part, we denote by λo+2the partition obtained from λby adding
2 to the largest odd part.
Again, we extend this notation to sets. Given a set of partitions S, deﬁne
mS={mλ|λ∈ S},So+2={λo+2|λ∈ S}(assuming each partition in Shas an
odd part), and add 1,1(S) ={add1,1(λ)|λ∈ S}.
A binary partition has only powers of 2 for parts. We denote the set of binary
partitions of nbyB(n).
As mentioned in the previous section, OB(n) denotes the subset of B(n) con-
sisting of partition in which all parts have odd multiplicities. We denote b yOB(n)
the set of odd binary overpartitions of n; removing the overlines in λ∈OB(n)
gives an odd binary partition. For example, the binary overpartition s of 3 are
2+1,2+1,2+1,2+1,1+1+1,1+1+1.
Throughout the paper, if fis a function on a set of partitions, we omit double
parentheses and write f(λ1,λ2,...,λ ℓ) instead of f((λ1,λ2,...,λ ℓ)).
We deﬁne the weight-preservingfunction rep2:P(n)→ B(n) as follows. If n≥1
and val 2(n) =k, deﬁne rep2(n) to be the partition with n/2kparts all equal to 2k.
Then deﬁne
rep2(λ1,λ2,...,λ ℓ) :=ℓ/unionsqdisplay
i=1rep2(λi).
For example, rep2(12,6,1,1,1)= (4,4,4,2,2,2,1,1,1). Note that rep2is not injec-
tive. For example, rep2(12,6,2,1,1,1)= (4,4,4,2,2,2,1,1,1)= rep2(12,6,3,2).
As mentioned above, in [4, Theorem 4] it is shown that, for n≥1,SF(n)
is the set of partitions of nwith distinct 2-adic valuations of parts. Then, rep2
gives a bijection between SF(n) andOB(n). Here, the inverse of rep2takes a
partition in OB(n) and merges all equal parts into a single part. For example,
rep−1
2(4,4,4,2,2,2,1,1,1)= (12,6,3).
Example 1. In the table below, the odd binary partitions in OB(n) are, in order,
listed as rep2(λ) for the partitions λ∈ SF(n).
nSF(n) OB(n)
1 1 1
2 2 2
32+1,3 2+1,1+1+1
4 4 4
54+1,3+2,54+1,2+1+1+1 ,1+1+1+1+14 CRISTINA BALLANTINE AND GEORGE BECK
We deﬁne the weight-preserving function bin : P(n)→ B(n) as follows. First,
forn≥1, bin(n) is the unique partition of ninto distinct powers of 2. Then deﬁne
bin(λ1,λ2,...,λ ℓ) :=ℓ/unionsqdisplay
i=1bin(λi).
For example, bin(7 ,2) = (4,2,2,1). Note that bin is not injective on the set of
partitions of n. For example, bin(6 ,3) = (4,2,2,1) = bin(7,2).
The next theorem emphasizes the diﬀerence between rep2and bin.
Theorem 2.1. The partition λis binary if and only if bin(λ) = rep2(λ).
Proof.Ifnis a power of 2, bin( n) = (n) = rep2(n).
So ifλis a binary partition,
(1) bin( λ) =λ= rep2(λ).
Ifλis not a binary partition, let βbe the subpartition of λconsisting of the
parts that are powers of 2 and let γ=λ\β. By (1), to prove bin( λ)/\e}a⊔io\slash= rep2(λ), it
is suﬃcient to prove that bin( γ)/\e}a⊔io\slash= rep2(γ).
Letmbe the largest power of 2 that divides all the parts of γ. Since the parts of
γare not powers of 2, it follows that mis not a part of γ. The partition γ/mhas at
least one odd part and all of its odd parts of are greater than 1. Th e number of 1s
in rep2(γ/m) is the sum Sof the odd parts of γ/m; the number of 1s in bin( γ/m) is
the number Nof odd parts of γ/m. ButS >N, so rep2(γ/m)/\e}a⊔io\slash= bin(γ/m). Then,
sincemis a power of 2, we have rep2(γ) =mrep2(γ/m)/\e}a⊔io\slash=mbin(γ/m) = bin(γ),
which completes the proof. /square
We aim to keep the notation intuitive throughout the paper. A self-s imilar
sequence is denoted by one or two lowercase letters preﬁxed by th e letter “s” (for
“semi”); for example, sp( n) denotes the semi-Pell sequence and spa( n) denotes the
semi-Padovansequence. The correspondingset of partitions is de noted by the same
letters in capital calligraphy style; for example, the set of partition s enumerated
by sp(n) is denoted by SP(n), which are the semi-Pell partitions. (Sometimes we
need to add a lowercase letter, as in SPa, the semi-Padovan partitions.) For the
total number of parts in all partitions in SP(n), for example, we use psp( n); that
is, we the same lower case letters preceded by p.
In general, to avoid repetition, we omit the proofs of propositions; they can
be proved from some combination of using the recurrences, induct ion, or previous
results. The omitted proofs are similar to those we present in detail for some
theorems.
3.The generating function of a self-similar sequence
In this section, we begin by considering a general self-similar sequen ce with a
recurrence of order at most 3 at positive odd arguments and use a nalytic methods
similar to those in [3] and [9] to ﬁnd its generatingfunction. In subse quent sections,
specializing that recurrence gives combinatorial interpretations f or self-similar se-
quences based on well-known Fibonacci-like sequences.
Consider the sequence {f(n)}n≥0deﬁned recursively by: f(0) =a0,f(1) =a1,
and, forn≥1, by
f(2n) =f(n),PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 5
f(2n+1) =c1f(2n)+c2f(2n−1)+c3f(2n−2).
LetF(x) be the generating function for {f(n)}n≥0. Thus,
F(x) =/summationdisplay
n≥0f(n)xn.
We have
/summationdisplay
n≥0f(2n)x2n=a0+/summationdisplay
n≥1f(2n)x2n=a0+/summationdisplay
n≥1f(n)x2n=/summationdisplay
n≥0f(n)x2n=F(x2),
and
/summationdisplay
n≥0f(2n+1)x2n+1=a1x+/summationdisplay
n≥1(c1f(2n)+c2f(2n−1)+c3f(2n−2))x2n+1
=a1x+c1x/summationdisplay
n≥1f(2n)x2n+c2x2/summationdisplay
n≥1f(2n−1)x2n−1
+c3x3/summationdisplay
n≥1f(2(n−1))x2(n−1)
=a1x+c1x/summationdisplay
n≥1f(2n)x2n+c2x2/summationdisplay
n≥0f(2n+1)x2n+1
+c3x3/summationdisplay
n≥0f(2n)x2n.
Thus,
/summationdisplay
n≥0f(2n+1)x2n+1=1
1−c2x2/parenleftbig
a1x+c1x(F(x2)−a0)+c3x3F(x2)/parenrightbig
.
Then
F(x) =/summationdisplay
n≥0f(2n)x2n+/summationdisplay
n≥0f(2n+1)x2n+1
=F(x2)+1
1−c2x2/parenleftbig
a1x+c1x(F(x2)−a0)+c3x3F(x2)/parenrightbig
=(a1−a0c1)x
1−c2x2+/parenleftbigg
1+c1x+c3x3
1−c2x2/parenrightbigg
F(x2).
Let
A(x) :=(a1−a0c1)x
1−c2x2andB(x) := 1+c1x+c3x3
1−c2x2.
Then
(2) F(x) =A(x)+B(x)F(x2).
Iterating (2), leads to
(3) F(x) =k/summationdisplay
i=0A(x2i)i−1/productdisplay
r=0B(x2r)+F(x2k+1)k/productdisplay
r=0B(x2r),
with the convention that an empty product such as/producttext−1
r=0B(x2r) is taken to be 1.6 CRISTINA BALLANTINE AND GEORGE BECK
In (3), we let k→ ∞. Using lim
k→∞F(x2k+1) =a0we get
(4) F(x) =∞/summationdisplay
i=0A(x2i)i−1/productdisplay
r=0B(x2r)+a0∞/productdisplay
r=0B(x2r).
It is easily checked that (4) satisﬁes equation (2) and the initial coe ﬃcients agree
with the initial terms of the sequence.
Case 1:Ifa1−a0c1/\e}a⊔io\slash= 0, thenA(x2i)/\e}a⊔io\slash= 0 for alli≥0 and we have
F(x) =∞/summationdisplay
i=0(a1−a0c1)x2i
1−c2x2i+1i−1/productdisplay
r=0/parenleftbigg
1+c1x2r+c3x3·2r
1−c2x2r+1/parenrightbigg
(5)
+a0∞/productdisplay
r=0/parenleftbigg
1+c1x2r+c3x3·2r
1−c2x2r+1/parenrightbigg
.
Case 2:Ifa1−a0c1= 0, thenA(x2i) = 0 for all i≥0 and we have
F(x) =a0∞/productdisplay
r=0/parenleftbigg
1+c1x2r+c3x3·2r
1−c2x2r+1/parenrightbigg
. (6)
In particular, if f(n) is the semi-Fibonacci sequence, we have a0=a1= 1,
c1=c2= 1, andc3= 0. Thus, we are in Case 2. and (6) becomes
F(x) =∞/productdisplay
r=0/parenleftbigg
1+x2r
1−x2r+1/parenrightbigg
=∞/summationdisplay
n=0|OB(n)|qn,
the generating function for the sequence |OB(n)|.
4.Semi-tribonacci partitions
Deﬁnition 2. The semi-tribonacci sequence {st(n)}n≥0is deﬁned recursively by
st(0) = 0, st(1) = 1, and for n≥1,
st(2n) = st(n),
st(2n+1) = st(2 n)+st(2n−1)+st(2n−2).
The following table shows the values of the semi-tribonacci sequenc e st(n) for
n= 0,1,...,12.
n0 1 2 3 4 5 6 7 8 9 10 11 12
st(n)0 1 1 2 1 4 2 7 1 10 4 15 2
This is the sequence {f(n)}n≥0of Section 3 with a0= 0,a1= 1, andc1=c2=
c3= 1. Thus, we are in Case 1 of Section 3 and (5) becomes
(7) F(x) =∞/summationdisplay
i=0x2i
1−x2i+1i−1/productdisplay
r=0/parenleftbigg
1+x2r+x3·2r
1−x2r+1/parenrightbigg
.
Then,F(x) is the generating function for |OB†
R(n)|, whereOB†
R(n) is the set of
odd binary overpartitions of nsuch that only parts that appear with multiplicityPARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 7
at least three may be overlined and the largest part may not be over lined. For
example, OB†
R(7) is the set
{4+2+1,4+1+1+1 ,4+1+1+1,2+2+2+1 ,2+1+1+1+1+1 ,
2+1+1+1+1+1 ,1+1+1+1+1+1+1 }.
To understand the combinatorial interpretation of (7) above, no tice that for a
ﬁxedi≥0, the power series expansion ofx2i
1−x2i+1keeps track of the largest
part in a partition (counted with multiplicity). For example, x5·2icontributes ﬁve
parts equal to 2ito a partition. Each factor ini−1/productdisplay
r=0/parenleftbigg
1+x2r
1−x2r+1+x3·2r
1−x2r+1/parenrightbigg
is
interpreted as follows: the series expansion ofx2r
1−x2r+1keeps track of parts equal
to 2r, none being overlined, and the the series expansion ofx3·2r
1−x2r+1keeps track
of parts equal to 2rif the ﬁrst part equal to 2ris overlined. In the latter case there
are at least three parts equal to 2r.
Thus, we have the following combinatorial interpretation for st( n).
Theorem 4.1. Forn≥0,|OB†
R(n)|= st(n)forn≥0.
Remark 1. The odd binary partitions of n, which are enumerated by sf( n), are
precisely the overpartitions in OB†
R(n) that have no overlined part. Hence, sf( n)≤
st(n) for alln≥0.
We next deﬁne a subset of partitions of nenumerated by st( n).
Deﬁnition 3. The semi-tribonacci partitions are deﬁned recursively by
ST(0) =∅,ST(1) ={(1)},ST(3) ={(3),(2,1)}and forn≥1,
ST(2n) = 2ST(n),
ST(2n+3) =ST(2n+2)⊔(1)/uniondisplay
ST(2n+1)o+2/uniondisplay
ST(2n)⊔(1,1,1).
Example 2. The table below shows the partitions in ST(n) forn= 1,...,8.
n ST(n)
1 1
2 2
3 3,2+1
4 4
5 5,3+2,4+1,2+1+1+1
6 6,4+2
77,4+3,5+2,6+1,4+2+1,3+2+1+1 ,4+1+1+1
8 8
Remark 2. Letλ∈ ST(n). Clearly, if nis even,λhas no odd parts. If nis odd,
it is easily seen by induction that λhas one or three odd parts and in the latter
case at least two of the odd parts equal 1.
The recursive deﬁnition of semi-tribonacci partitions together wit h Remark 2
leads to the following corollary to Theorem 4.1.8 CRISTINA BALLANTINE AND GEORGE BECK
Corollary 4.2. Forn≥0,|ST(n)|=|OB†
R(n)|.
Next, we give a non-recursive description of the semi-tribonacci p artitions that
will allow us give a combinatorial proof of Corollary 4.2.
Given a partition λ= (λ1,λ2,...,λ ℓ(λ)) letv(λ) = (v1(λ),v2(λ),...,v ℓ(λ)(λ)) be
the sequence of non-negative integers obtained by arranging val 2(λi), 1≤i≤ℓ(λ),
in non-increasing order. Thus, v(λ) is the partition whose parts are the 2-adic
valuations of the parts of λ.
Theorem 4.3. Letn>0. The set ST(n)consists of all partitions λofnsatisfying
the following conditions.
(a)v1(λ)has multiplicity one in v(λ)(i.e.v1(λ)>v2(λ));
(b)if1<j≤ℓ(λ), thenvj(λ)has multiplicity one or three;
(c)ifvj(λ)has multiplicity three, then λhas at least two parts equal to 2vj(λ).
Proof.We prove the theorem by induction. We ﬁrst show that all partitions in
ST(n) satisfy conditions (a), (b), and (c). By inspection, this is true fo rn= 1,2,3.
Letn≥4 be an integer and assume that, for all m < n, all partitions in ST(m)
satisfy (a), (b), and (c). Let λ∈ ST(n).
Ifn= 2tfor somet >1, thenλ= 2µfor someµ∈ ST(t). Then,v(λ) =
(v1(µ) +1,v2(µ) +1,...,v ℓ(µ)(µ) +1). Since µsatisﬁes (a), (b), and (c), and the
parts ofλwith 2-adic valuation equal to vi(µ)+1 are precisely twice the parts of
µwith 2-adic valuation equal to vi(µ), it follows that λsatisﬁes (a), (b), and (c).
Ifn= 2t+1 for some t>1, then we have three cases.
(1)λ=µ⊔(1) for some µ∈ ST(2t). Then,vℓ(µ)(µ)>0 and
v(λ) = (v1(µ),v2(µ),...,v ℓ(µ)(µ),0).
Sinceµsatisﬁes (a), (b), and (c), so does λ.
(2)λ=µ⊔(1,1,1) for some µ∈ ST(2t−2). Then,vℓ(µ)(µ)>0 and
v(λ) = (v1(µ),v2(µ),...,v ℓ(µ)(µ),0,0,0).
The only parts with 2-adic valuation zero are the three parts equal to 1.
Sinceµsatisﬁes (a), (b), and (c), so does λ.
(3)λ=µo+2for someµ∈ ST(2t−1). Thenv(λ) =v(µ) and from Remark 2
and the induction hypothesis, λsatisﬁes (a), (b), and (c).
Next, we show by induction that all partitions of nsatisfying (a), (b), and (c)
are inST(n). By inspection, for n= 1,2,3, the partitions in ST(n) are the only
partitions satisfying conditions (a), (b), and (c). Let n≥4 be an integer and
assume that if m<nall partitions of msatisfying (a), (b), and (c) are in ST(m).
Letλbe a partition of nsatisfying (a), (b), and (c).
Ifn= 2tfor somet>1, by (b),λcannot have odd parts. The partition λ/2 has
v(λ/2) = (v1(λ)−1,v2(λ)−1,...,v ℓ(λ)(λ)−1) and thus λ/2 satisﬁes conditions
(a) and (b). If vi(λ/2) has multiplicity three, then vi(λ) has multiplicity three and
λhas at least two parts equal to 2vi(λ). Thenλ/2 has at least two parts equal
to 2vi(λ)−1andλ/2 satisﬁes (c). By induction, λ/2∈ ST(t) and, by deﬁnition,
λ∈ ST(2t).
Ifn= 2t+1 for some t>1,λmust have odd parts, i.e, vℓ(λ)(λ) = 0. By (b), λ
has one or three odd parts and, by (c), if λhas three odd parts, at least two odd
parts must equal 1. We transform λinto a partition µas follows.
(i) Ifmλ(1) = 1, let µ=λ\(1). Thenµ⊢2t.PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 9
(ii) Ifmλ(1) = 3, let µ=λ\(1,1,1). Thenµ⊢2t−2.
(iii) Ifmλ(1) = 2, then µis the partition obtained from λby subtracting two
from the unique odd part greater than 1. Then, µ⊢2t−1.
It is easily seen that in each case the partition µsatisﬁes conditions (a), (b), and
(c). By the induction hypothesis, µis a semi-tribonacci partition. By the deﬁnition
ofµfromλ, it follows that λ∈ ST(n). /square
Theorem 4.3 allows us to prove Corollary 4.2 combinatorially.
Combinatorial proof of Corollary 4.2. Ifn>0, we deﬁne a bijection h:OB†
R(n)→
ST(n) as follows. Let λ∈OB†
R(n).
If 2kis non-overlined in λ, merge all parts equal to 2kinto a single part. Since
2khas odd multiplicity in λwe get a part with 2-adic valuation equal to k.
If 2kis overlined in λand 2kappears 2t+ 1 times ( t >0) inλ, remove the
overline and merge 2 t−1 copies of 2kinto a single part. We get three parts with
2-adic valuation kand at least two of these parts are equal to 2k. (Ift= 1, all
three parts are equal to 2k. Ift >1, the parts with 2-adic valuation kare 2k,2k,
and 2k(2t−1).)
By construction h(λ) satisﬁes conditions (b) and (c) of Theorem 4.3. Since the
largest part of λis not overlined, in µwe get a single part with largest 2-adic
valuation and thus h(λ) also satisﬁes condition (a). Therefore h(λ)∈ ST(n).
Forµ∈ ST(n),h−1(µ) is the overpartition in OB†
R(n) whose parts are the parts
of rep2(µ) with part 2koverlined if and only if there are three parts in µwith 2-adic
valuationk. /square
The next example illustrates the bijection hin the proof of Corollary 4.2.
Example 3. Letλ= (8,8,8,8,8,¯4,4,4,4,4,2,2,2,¯1,1,1,1,1)∈OB†
R(71). Then
h(λ) = (40,12,6,4,4,3,1,1). Conversely, if µ= (40,12,6,4,4,3,1,1)= (23·5,22·
3,2·3,22,22,20·3,20,20)∈ ST(71), then
rep2(µ) = (8,8,8,8,8,4,4,4,4,4,2,2,2,1,1,1,1,1).
Since inµthere are three parts with 2-adic valuation 2 and three parts with 2 -adic
valuation 0, we overline one part equal to 22and one part equal to 20to get
h−1(µ) = (8,8,8,8,8,¯4,4,4,4,4,2,2,2,¯1,1,1,1,1).
We mentioned in section 2 that rep2and bin are not injective as functions on
P(n). However, the mapping rb : ST(n)→ B(n)× B(n) deﬁned by rb( λ) =
(rep2(λ),bin(λ)) is injective.
Theorem 4.4. Letnbe a non-negative integer. The mapping rbis one-to-one on
ST(n).
Proof.We prove the theorem by induction on n. The statement is true for n=
0,1,2 since in these cases ST(n) consists of binary partitions. Let n >2 be an
integer and suppose rb is one-to-one on ST(m) for allm < n. Letλ,µ∈ ST(n)
and assume
rb(λ) = rb(µ) =: (α,β).
By Theorem 4.3, α∈ OB(n); also,βis a binary partition of n. Note that if uis an
integer with val 2(u) =i, then 2iis the smallest part in both rep2(u) and bin(u).
Let 2kbe the smallest part of both βandα. Thuskis the smallest part in both10 CRISTINA BALLANTINE AND GEORGE BECK
v(λ) andv(µ). Letbbe the multiplicity of 2kinβ. By Theorem 4.3, it follows
thatb= 1 or 3. Let abe the multiplicity of 2kinα, soais odd. By the deﬁnition
of bin, ifb= 1, thena2kis the unique part with valuation kin each ofλand
µ. Ifb= 3, then the parts with 2-adic valuation kin bothλandµare precisely
(a−2)2k,2k,2k. Let/tildewideλand/tildewideµbe the partitions obtained from λandµby removing
the parts with 2-adic valuation 2k. Let
/tildewideα=α\(2k,2k,...,2k
/bracehtipupleft/bracehtipdownright/bracehtipdownleft/bracehtipupright
atimes)
and
/tildewideβ=/braceleftBigg
β\(2k) if b= 1
β\(bin((a−2)2k)⊔(2k,2k)) ifb= 3.
It follows from Theorem 4.3 that /tildewideλ,/tildewideµ∈ ST(n−a2k). Moreover, /tildewideα= rep2(/tildewideλ) =
rep2(/tildewideµ) and/tildewideβ= bin(/tildewideλ) = bin(/tildewideµ). By the induction hypothesis, /tildewideλ=/tildewideµ, and thus
λ=µ. /square
Example 4. This table shows the partitions λinST(5) with the corresponding
distinct pairs of binary partitions.
λ rep2(λ) bin(λ)
5 1+1+1+1+1 4+1
3+2 2+1+1+1 2+2+1
4+1 4+1 4+1
2+1+1+1 2+1+1+1 2+1+1+1
Remark 3. Working as in the proof of Theorem 4.4, bin( λ) gives the necessary
information for overlining parts in rep2(λ). If the part 2kwith smallest valuation
in bin(λ) has multiplicity 3 in bin( λ), then the ﬁrst instance of 2kis overlined in
rep2(λ). Then, one works with /tildewideαand/tildewideβto determine if the ﬁrst instance of 2j,
wherejis the smallest valuation in /tildewideβshould be overlined in rep2(λ), and so on.
4.1.Parity Results for st(n).We establish parity results for the sequence st( n),
and therefore for the sequences |OB†
R(n)|and|ST(n)|. Here and throughout, we
write≡to mean congruence modulo 2.
Theorem 4.5. Forn≥0,st(2n+1)+st(4n+1)≡0.
Proof.We prove the statement by induction. The statement is true for n= 0 by
inspection. Let n≥1 and assume that st(2 k+1)+ st(4k+1)≡0 for allk < n.
From the recurrence, we obtain
st(2n+1) = st(2 n)+st(2n−1)+st(2n−2)
= st(4n)+st(4n−2)+st(4n−4).
Also,
st(4n+1) = st(4 n)+st(4n−1)+st(4n−2)
= st(4n)+st(4n−2)+st(4n−3)+st(4n−4)+st(4n−2).
Then,
st(2n+1)+st(4n+1)≡st(4n−3)+st(4n−2)
= st(2(n−1)+1)+st(4( n−1)+1)≡0.PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 11
/square
Corollary 4.6. Forn≥0,st(16n+7)≡st(16n+8)≡st(16n+4).
Proof.The congruence follows from the recurrence relation and the stat ement of
Theorem 4.5. We omit the details. /square
4.2.Total Number of Parts in ST(n).Let pst(n) be the total number of parts
in the partitions of ST(n), whose initial conditions and recurrences imply that
pst(1) = 1, pst(2) = 1, pst(3) = 3, and for n>1,
pst(2n) = pst(n),
pst(2n+1) = pst(2 n)+st(2n)+pst(2n−1)+pst(2n−2)+3st(2n−2)
= pst(n)+st(n)+pst(2n−1)+pst(n−1)+3st(n−1). (8)
The following table shows the values of the sequence pst( n) forn= 1,2,...,12.
n1 2 3 4 5 6 7 8 9 10 11 12
pst(n)1 1 3 1 9 3 18 1 29 9 46 3
Theorem 4.7. Forn≥0,
(9) pst(4 n+1)≡pst(4n+2).
Proof.We use induction. If n= 1, we have pst(1) = 1 = pst(2) and (9) holds.
Assume (9) is true with nreplaced by n−1, that is,
pst(4n−3)≡pst(4n−2).
The left-hand side of (9) equals
pst(4n+1)≡pst(2n)+st(2n)+pst(4n−1)+pst(2n−1)+st(2n−1)
= pst(n)+st(n)+pst(2(2n−1)+1)+pst(2 n−1)+st(2n−1)
= pst(n)+st(n)+pst(2n−1)+st(2n−1)+pst(2(2 n−1)−1)
+pst((2n−1)−1)+3st((2n−1)−1)+pst(2n−1)+st(2n−1)
= pst(n)+st(n)+2pst(2n−1)+4st(2n−1)+pst(4n−3)
+pst(2n−2)+st(2n−2))
= pst(n)+st(n)+2pst(2n−1)+4st(2n−1)+pst(4n−3)
+pst(n−1)+st(n−1))
≡pst(n)+st(n)+pst(4n−3)+pst(n−1)+st(n−1).
The right-hand side of (9) equals
pst(4n+2) = pst(2 n+1)
= pst(n)+st(n)+pst(2n−1)+pst(n−1)+3st(n−1).
Adding the two sides,
pst(4n+1)+pst(4 n+2) = pst( n)+st(n)+pst(4n−3)+pst(n−1)+st(n−1)
+pst(n)+st(n)+pst(2n−1)+pst(n−1)+3st(n−1)
≡pst(2n−1)+pst(4n−3)≡0.
/square12 CRISTINA BALLANTINE AND GEORGE BECK
5.Semi-Padovan partitions
Deﬁnition 4. The semi-Padovan sequence, {spa(n)}n≥0is deﬁned recursively by
spa(0) = 1, spa(1) = 0, and for n≥1,
spa(2n) = spa(n),
spa(2n+1) = spa(2 n−1)+spa(2n−2).
The following table shows the values of the semi-Padovan sequence s pa(n) for
n= 0,1,...,12.
n0 1 2 3 4 5 6 7 8 9 10 11 12
spa(n)1 0 0 1 0 1 1 1 0 2 1 2 1
This is the sequence {f(n)}n≥0in Section 3 with a0= 1,a1= 0, andc1= 0,
c2=c3= 1, Thus, we are in Case 2 of Section 3 and (6) becomes
F(x) =∞/productdisplay
r=0/parenleftbigg
1+x3·2r
1−x2r+1/parenrightbigg
,
which is the generating function for |OBR(n)|, where OBR(n) is the set of odd
binary partitions of nsuch that each part is repeated, that is, each part occurs
with multiplicity at least 3. For example,
OBR(9) ={2+2+2+1+1+1 ,1+1+1+1+1+1+1+1+1 }.
Deﬁnition 5. The semi-Padovan partitions are deﬁned recursively by SPa(0) =
{()}(i.e., the set containing the empty partition), SPa(1) =∅,SPa(3) ={(3)},
and
SPa(2n) = 2SPa(n),ifn≥1,
SPa(2n+1) =SPa(2n−1)o+2/uniondisplay
SPa(2n−2)⊔(1,1,1),ifn≥2.
Example 5. The table below shows the partitions in SPa(n) forn= 1,...,16.
Note that SPa(n) is empty if nis a power of 2.
n SPa(n)
1
2
3 3
4
5 5
6 6
7 7
8
9 9,6+1+1+1
10 10
11 11,6+3+1+1
12 12
13 13,6+5+1+1 ,10+1+1+1
14 14
1515,7+6+1+1 ,10+3+1+1 ,10+3+1+1 ,12+1+1+1
16PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 13
Ifnis odd, partitions in SPa(n) have at least one odd part. If nis even,
partitions in SPa(n) have only even parts. Thus, partitions in SPa(2n−1)o+2
have an odd part greater than 1 while partitions in SPa(2n)⊔(1,1,1) have no odd
part greater than 1. Therefore the union in the deﬁnition of SPa(2n+1)is disjoint,
so|SPa(n)|= spa(n). Then, the statement of the next theorem follows from the
interpretation of the generating function for spa( n).
Theorem 5.1. Forn≥1,|SPa(n)|=|OBR(n)|.
The next theorem introduces a non-recursive description of the p artitions in
SPa(n). It will lead to a combinatorial proof of Theorem 5.1. We use the not ation
introduced before Theorem 4.3.
Theorem 5.2. Letn>0. The set SPa(n)consists of all partitions λofnsatis-
fying the following three conditions:
(a)v1(λ)has multiplicity one in v(λ);
(b)if1< j≤ℓ(λ), thenvj(λ)has multiplicity three and λhas at least two
parts equal to 2vj(λ);
(c) 2v1(λ)is not a part of λ.
Proof.The theorem is proved by induction. The argument is similar to that of
Theorem 4.3 and we omit the details. /square
Corollary 5.3. LetSF′(n)be the subset of semi-Fibonacci partitions with no part
equal to a power of 2, or equivalently, the set of partitions of ninto parts with
diﬀerent 2-adic valuations and such that no part is a power of 2. Then|SPa(n)|=
|SF′(n)|for alln≥1.
Proof.It is easy to see that rep2is a bijection from SF′(n) toOBR(n); for the
inverse, merge equal parts into a single part. /square
Combinatorial proof of Theorem 5.1. Corollary 5.3 leads to a combinatorial proof
of Theorem 5.1. We deﬁne a bijection ϕ:SF′(n)→ SPa(n) as follows. If λ∈
SF′(n), replace each part 2km,m>1 odd, ofλwithk/\e}a⊔io\slash=v1(λ) by parts 2k(m−
2),2k,2k. We obtain a partition in SPa(n). The inverse, ϕ−1, takes a partition
µ∈ SPa(n) and merges all equal parts into a single part to obtain a partition in
SF′(n).
Then, by Corollary 5.3, the map rep2◦ϕ−1:SPa(n)→ OB R(n) is a bijection.
/square
Next, we deﬁne a modiﬁed semi-Padovan sequence.
Deﬁnition 6. The modiﬁed semi-Padovan sequence, {spa′(n)}n≥0, is deﬁned re-
cursively by spa′(0) = 0, spa′(1) = 1, and for n≥1,
spa′(2n) = spa′(n),
spa′(2n+1) = spa′(2n−1)+spa′(2n−2).
Note that the only diﬀerence between the deﬁnitions of spa( n) and spa′(n) is
that the initial conditions are switched: spa(0) = 1, spa(1) = 0, while spa′(0) = 0,
spa′(1) = 1.14 CRISTINA BALLANTINE AND GEORGE BECK
The following table shows the values of the modiﬁed semi-Padovan seq uence
spa′(n) forn= 0,1,...,12.
n0 1 2 3 4 5 6 7 8 9 10 11 12
spa′(n)0 1 1 1 1 2 1 3 1 4 2 5 1
This is the sequence {f(n)}n≥0of Section 3 with a0= 0,a1= 1, andc1= 0,
andc2=c3= 1. Thus, we are in Case 1 of Section 3 and (5) becomes
F(x) =∞/summationdisplay
i=0x2i
1−x2i+1i−1/productdisplay
r=0/parenleftbigg
1+x3·2r
1−x2r+1/parenrightbigg
.
Then,F(x) is the generating function for |OBR′(n)|, whereOBR′(n) is the set
of odd binary partitions of nsuch that only the largest part can have multiplicity
one. For example,
OBR′(9) ={4+1+1+1+1+1 ,2+1+1+1+1+1+1+1 ,
2+2+2+1+1+1 ,1+1+1+1+1+1+1+1+1 }.
Deﬁnition 7. The modiﬁed semi-Padovan partitions are deﬁned recursively by
SPa′(0) =∅,SPa′(1) ={(1)}, and forn≥1,
SPa′(2n) = 2SPa′(n),
SPa′(2n+1) =SPa′(2n−1)o+2/uniondisplay
SPa′(2n−2)⊔(1,1,1).
Again the only diﬀerences in the deﬁnitions of SPa(n) andSPa′(n) are in the
initial conditions.
Example 6. The table below shows the partitions in SPa′(n) forn= 1,..,12.
n SPa′(n)
1 1
2 2
3 3
4 4
5 5,2+1+1+1
6 6
7 7,3+2+1+1 ,4+1+1+1
8 8
9 9,4+3+1+1 ,5+2+1+1 ,6+1+1+1
10 10,4+2+2+2
1111,5+4+1+1 ,6+3+1+1 ,7+2+1+1 ,8+1+1+1
12 12
The same argument as in the case of SPa(n) shows that |SPa′(n)|= spa′(n)
and proves the next theorem.
Theorem 5.4. Forn≥1,|SPa′(n)|=|OBR′(n)|.
Next, we give a non-recursive description of the partition in SPa′(n). This will
allow us to prove Theorem 5.4 combinatorially.
Theorem 5.5. Letn >0. The set SPa′(n)consists of all partitions λofn
satisfying the following two conditions:
(a)v1(λ)has multiplicity one in v(λ);PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 15
(b)if1< j≤ℓ(λ), thenvj(λ)has multiplicity three and λhas at least two
parts equal to 2vj(λ).
Proof.The theorem is proved by induction. The argument is similar to that of
Theorem 4.3 and we omit the details. /square
Combinatorial proof of Theorem 5.4. Wedeﬁneabijection ψ:SPa′(n)→ OB R′(n)
asfollows. If λ∈ SPa′(n), we deﬁne ψ(λ) = rep2(λ)∈ OBR′(n). The inverse, ψ−1,
takes a partition µ∈ OBR′(n) and merges all occurrences of the largest part into
a single part, and for each 2k<µ1it replaces all mµ(2k) parts equal to 2kby the
three parts: 2k(mµ(2k)−2),2k,2k. Thenψ−1(µ)∈ SPa′(n). /square
Remark 4. The conditions (a) and (b) in Theorem 5.5 are the same as in Theorem
5.2. The partitions in SPa(n) are precisely the partitions in SPa′(n) that do not
have the part with the largest 2-adic valuation equal to a power of 2 . Moreover,
Theorems 4.3 and 5.5 show that SPa′(n)⊆ ST(n) for every n≥1. Thus, for
n≥1, we have
SPa(n)⊆ SPa′(n)⊆ ST(n).
It is straightforward to see that for n≥1 we have OBR(n)⊆ OBR′(n)⊆OB†
R(n).
5.1.Parity Results for spa(n)andspa′(n).We begin by showingthat the parity
of spa(n) is completely determined by residues modulo 7. This result is similar to
the result of [3, Theorem 2] for the semi-Fibonacci sequence, nam ely: sf(n) is even
if and only if n≡0 (mod 3).
We say that two ﬁnite sequences are congruent modulo 2 if and only if the
corresponding terms are congruent.
Theorem 5.6. Forn≥0,spa(n)≡0if and only if n≡1,2,4 (mod 7) .
Proof.We say that two ﬁnite sequences are congruent modulo 2 if and only if the
corresponding terms are congruent. We use complete induction to prove that for
alln≥0,{spa(7n+k)}k=0,1,...,6≡(1,0,0,1,0,1,1).We work with 14 consecutive
values at a time. For the base cases, the ﬁrst seven values of spa( n), starting with
n= 0, arey:= (1,0,0,1,0,1,1)and the next seven values are (1 ,0,2,1,2,1,3)≡y,
as expected.
LetM >0 be an integer. Assume that, for all m < M andk= 0,1,...,13,
spa(14m+k) is even if and only if k= 1,2,4,8,9,11. Next, we calculate S:=
{spa(14M+k)}k=0,1,...,13.
For the seven odd arguments, we use the recurrences and induct ion one value at
a time to ﬁnd the parities. The ﬁrst value is
spa(14M+1) = spa(14 M−1)+spa(14 M−2)
= spa(14(M−1)+13)+spa(14( M−1)+12)
≡1+1≡0.
The other six are similar; we get
{spa(14M+2j−1)}j=1,2,...,7≡(0,1,1,1,0,0,1)=:x.
The seven even arguments are easier; we use induction once for all the values:
{spa(14M+2j)}j=0,1,...,6={spa(7M+j)}j=0,1,...,6≡y.16 CRISTINA BALLANTINE AND GEORGE BECK
Interleaving xandygives
S≡(1,0,0,1,0,1,1,1,0,0,1,0,1,1)≡(y,y),
as required. /square
Theorem 5.6 leads to the next two corollaries.
Corollary 5.7. For alln≥0,
spa(2n+1)+spa(4 n+1)+spa(8 n+1)≡0, (10)
spa(4n+1)+spa(4 n+2)+spa(4 n+3)+spa(4 n+6)≡0. (11)
Proof.We prove (10) and omit the proof of (11) which uses recurrences a nd The-
orem 5.6.
Letn≥0 and write n= 7m+rwith 0≤r≤6. Then,
spa(2n+1)+spa(4 n+1)+spa(8 n+1)
= spa(14m+2r+1)+spa(28 m+4r+1)+spa(7(8 m+r)+r+1).
The table below shows the values of 2 r+ 1, 4r+ 1 andr+ 1 modulo 7 for the
corresponding values of r.
r2r+1 (mod 7) 4r+1 (mod 7) r+1 (mod 7)
0 1 1 1
1 3 5 2
2 5 2 3
3 0 6 4
4 2 3 5
5 4 0 6
6 6 4 0
Using Theorem 5.6 in each case completes the proof of (10). /square
Corollary 5.8. Forn≥0,
spa(8n+7)≡spa(n).
Proof.Since 8n+7≡n(mod 7), the statement follows from Theorem 5.6. /square
Although we have not found a companion to Theorem 5.6 for spa′(n), there is
one for the ﬁrst congruence of Corollary 5.7.
Proposition 1. Forn≥0,spa′(2n+1)+spa′(4n+1)+spa′(8n+1)≡1.
We also have a companion to Corollary 5.8 for spa′(n).
Theorem 5.9. Forn≥0,
(12) spa′(8n+7)≡spa′(n)+1.
Proof.Using the recurrences and Proposition 1,we have
spa′(8n+7) = spa′(8n+5)+spa′(8n+4)
= spa′(8n+3)+spa′(8n+2)+spa′(8n+4)
= spa′(8n+1)+spa′(8n)+spa′(4n+1)+spa′(2n+1)
≡spa′(n)+1.
/squarePARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 17
Proposition 2. Forn≥0,
spa′(4n+1)+spa′(4n+4)≡spa′(4n+5)+spa′(4n+10)
≡spa′(4n+6)+spa′(4n+7)
≡spa′(4n+8)+spa′(4n+11)
≡spa′(4n+12)+spa′(4n+17)
≡spa′(4n+13)+spa′(4n+14)
≡spa′(4n+15)+spa′(4n+18)
≡spa′(4n+9).
Proposition 3. Forn≥0,spa′(2n)+spa′(2n+1)+spa′(2n+3)≡0.
5.2.Total Number of Parts in SPa(n)andSPa′(n).Let pspa(n) be the total
number of parts in the partitions of SPa(n), whose initial conditions and recur-
rences imply that pspa(1) = 0, pspa(2) = 0, pspa(3) = 1, and for n>1,
pspa(2n) = pspa(n),
pspa(2n+1) = pspa(2 n−1)+pspa(2 n−2)+3spa(2 n−2). (13)
The total number of parts in the partitions of SPa′(n), pspa′(n), is deﬁned
exactly like pspa( n) except for the initial values. We have pspa′(1) = 1, pspa′(2) =
1, pspa′(3) = 1 and for n>1,
pspa′(2n) = pspa′(n),
pspa′(2n+1) = pspa′(2n−1)+pspa′(2n−2)+3spa′(2n−2). (14)
The following table shows the values of the sequences pspa( n) and pspa′(n) for
n= 1,2,...,12.
n1 2 3 4 5 6 7 8 9 10 11 12
pspa(n)0 0 1 0 1 1 1 0 5 1 5 1
pspa′(n)1 1 1 1 5 1 9 1 13 5 17 1
Proposition 4. For alln≥0,
pspa(4n+1)+pspa(4 n+2)+pspa(4 n+3)+pspa(4 n+6)≡0, (15)
pspa′(4n+1)+pspa′(4n+2)+pspa′(4n+3)+pspa′(4n+6)≡0. (16)
Theorem 5.10. Forn≥1,
pspa(8n+2)≡pspa(8n−5), (17)
pspa′(8n+2)≡pspa′(8n−5). (18)
Proof.From (13) and (14), it follows that for n>1 we have
pspa(2n+1)≡pspa(2n−1)+pspa(2 n−2)+spa(2n−2), (19)
pspa′(2n+1)≡pspa′(2n−1)+pspa′(2n−2)+spa′(2n−2). (20)
Now we can prove (17) by induction. From the table above we see tha t
pspa(8·1+2)≡pspa(8·1−5).
Letn≥2 be an integer and assume that
pspa(8(n−1)+2)≡pspa(8(n−1)−5).18 CRISTINA BALLANTINE AND GEORGE BECK
Using (19) four times, we have
pspa(8n−5)≡pspa(8n−13)
+pspa(8n−8)+pspa(8 n−10)+pspa(8 n−12)+pspa(8 n−14)
+spa(8n−8)+spa(8n−10)+spa(8 n−12)+spa(8 n−14)
=pspa(8n−13)
+pspa(4n−4)+pspa(4 n−5)+pspa(4 n−6)+pspa(4 n−7)
+spa(4n−4)+spa(4n−5)+spa(4n−6)+spa(4n−7).
Similarly,
pspa(8n+2) = pspa(4 n+1)
≡pspa(4n−3)+pspa(4 n−2)+pspa(4 n−4)
+spa(4n−2)+spa(4n−4)
= pspa(8n−6)+pspa(4 n−2)+pspa(4 n−4)
+spa(4n−2)+spa(4n−4).
Using the induction hypothesis together with (11) and (15) complet es the proof of
(17). The proof of (18) is similar. /square
Recall that in Theorem 5.6 we showed that the parity of spa( n) is completely
determined by the residueof nmodulo 7. In Corollary5.7, weshowedthat spa(2 n+
1) + spa(4n+ 1) + spa(8 n+ 1) is always even. The next theorem establishes the
parity of pspa(2 n+1)+pspa(4 n+1)+pspa(8 n+1) in terms of the residue of n
modulo 7.
Theorem 5.11. Forn≥0,pspa(2n+1)+pspa(4 n+1)+pspa(8 n+1)≡0if and
only ifn≡0,4,5 (mod 7) .
Proof.We use induction. Let
r(n) = pspa(2n+1)+pspa(4 n+1)+pspa(8 n+1).
The base cases are n= 0,...,6, for which r(n) has respective values 0 ,1,1,1,0,0,1,
as expected. Let n≥6 and assume r(n) has the correct parity. Then, using the
recurrences several times,
r(n+1) = pspa(2 n+3)+pspa(4 n+5)+pspa(8 n+9)
≡pspa(2n+1)+pspa( n)+spa(n)
+pspa(4n+3)+pspa(2 n+1)+spa(2 n+1)
+pspa(8n+7)+pspa(4 n+3)+spa(4 n+3)
≡pspa(2n+1)+pspa( n)+spa(n)
+pspa(4n+1)+pspa( n)+spa(n)+pspa(2n+1)+spa(2 n+1)
+pspa(8n+5)+pspa(2 n+1)+spa(2 n+1)+pspa(4 n+3)+spa(4 n+3)
≡pspa(4n+1)+pspa(8 n+5)+pspa(2 n+1)+pspa(4 n+3)+spa(4 n+3).
Continuing with the recurrences in a similar manner, we obtain
r(n+1)≡pspa(2n+1)+pspa(4 n+1)+pspa(8 n+1)+spa( n).
That is,r(n+1)≡r(n)+spa(n).PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 19
We use the induction hypothesis and Theorem 5.6 to see that r(n+1) has the
required parities. In the table below, the values of r(n), spa(n), andr(n+1) are
modulo 2.
n+1n r(n) spa(n)r(n+1)
0 6 1 1 0
1 0 0 1 1
2 1 1 0 1
3 2 1 0 1
4 3 0 0 0
5 4 0 0 0
6 5 0 1 1
/square
Theorem 5.12. Forn≥0,
pspa′(2n+1)+pspa′(4n+1)+pspa′(8n+1)≡spa′(2n+1).
Proof.Using (20) we rewrite pspa′(8n+ 1) in terms of pspa′(8n−5). Then, us-
ing (17), the recurrences for pspa′(n) and spa′(n), and simplifying, the statement
follows. /square
Next, we present an interesting congruence modulo 3 that connec ts the four
sequences of this section.
Theorem 5.13. Forn≥1,
pspa′(n)−pspa(n)≡spa′(n)−spa(n) (mod 3) .
Proof.One can check that the statement is true for n= 1,2,3. Letn≥3 and
assume that pspa′(k)−pspa(k)≡spa′(k)−spa(k) (mod 3) for all k<n. Ifn= 2t,
then
pspa′(2t)−pspa(2t) = pspa′(t)−pspa(t)
≡spa′(t)−spa(t) (mod 3)
= spa′(2t)−spa(2t)
= spa′(n)−spa(n).
Ifn= 2t+1, then
pspa′(2t+1)−pspa(2t+1)
≡pspa′(2t−1)+pspa′(2t−2)
−(pspa(2t−1)+pspa(2 t−2)) (mod 3)
≡spa′(2t−1)−spa(2t−1)+spa′(2t−2)−spa(2t−2) (mod 3)
= spa′(2t+1)−spa(2t+1).
/square20 CRISTINA BALLANTINE AND GEORGE BECK
6.Semi-Pell partitions
Deﬁnition 8. The semi-Pell sequence {sp(n)}n≥0is deﬁned recursively by sp(0) =
0,sp(1) = 1, and for n≥1,
sp(2n) = sp(n),
sp(2n+1) = 2sp(2 n)+sp(2n−1).
The following table shows the values of the semi-Pell sequence sp( n) forn=
0,1,...,12.
n0 1 2 3 4 5 6 7 8 9 10 11 12
sp(n)0 1 1 3 1 5 3 11 1 13 5 23 3
It is easily seen by induction that sp( n) is odd for all n≥1.
This is the sequence {f(n)}n≥0in Section 3 with a0= 0,a1= 1,c1= 2,c2= 1,
andc3= 0. Thus, we are in Case 1 of Section 3 and (5) becomes
F(x) =∞/summationdisplay
i=0x2i
1−x2i+1i−1/productdisplay
r=0/parenleftbigg
1+2x2r
1−x2r+1/parenrightbigg
=∞/summationdisplay
i=0x2i
1−x2i+1i−1/productdisplay
r=0/parenleftbigg
1+x2r
1−x2r+1+x2r
1−x2r+1/parenrightbigg
LetOB′(n) be the set of odd binary overpartitions of nin which the largest part
must be overlined. For example,
OB′(5) ={4+1,4+1,2+1+1+1 ,2+1+1+1,1+1+1+1+1 }.
By an argument similar to that of Section 4, F(x) is the generating function for
the sequence |OB′(n)|.
A composition of nis an ordered list of positive integers whose sum is n.
In [9], the authors deﬁned the semi-Pell compositions, which are enu merated by
the semi-Pell sequence, as follows. “Let OC(n) be the set of weakly unimodal
binary compositions of nsuch that each part size occurs together, or “in one
place,” an odd number of times. In other words every part size lies in a distinct
‘colony’. For example, members of OC(45) include, using the frequency notation,
(16,43,23,111),(25,4,83,17),(17,8,16,27), but the following weakly unimodal bi-
narycompositionsof45donotbelongto OC(45): (23,43,16,2,19),(13,25,4,83,14).”
In the deﬁnition above, ’colony’ refers to the set of parts either a ll before or all after
of the maximum part of the unimodal composition.
Our deﬁnition of sp( n) diﬀers from that in [9] only for n= 0; in [9], sp(0) = 1.
Ifn >0, there is an obvious correspondence between OC(n) andOB′(n). Ifλ∈
OB′(n), and 2kis an overlined part of λless thanλ1, remove the overline and place
all parts equal to 2kbefore all copies of the largest part. If 2kappears in λbut it
is not overlined, place all parts equal to 2kafter all copies of the largest part. The
parts before the largest parts are arranged in non-decreasing o rder and the parts
after the largest parts are arranged in non-increasing order.
Deﬁnition 9. The semi-Pell partitions SP(n) are deﬁned recursively by SP(0) =
∅,SP(1) ={(1)}, and forn≥1,
SP(2n) = 2SP(2n),PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 21
SP(2n+1) = add 1,1(SP(2n))/uniondisplay
SP(2n)⊔(1)/uniondisplay
SP(2n−1)⊔(1,1)
Example 7. Thetablebelowshowsthepartitionsin SP(n)forn= 1,...,8written
in compact form.
n SP(n)
1 1
2 2
3 3,21,111
4 4
5 5,41,311,2111,11111
6 6,42,222
77,52,322,61,421,2221,511,4111,31111,211111,1111111
8 8
The semi-Pell numbers sp( n) enumerate SP(n). This is clear for even n; for odd
n≥3, the three subsets in the deﬁnition of SP(n) are pairwise disjoint because
their partitions contain no 1s, one 1, or more than one 1, respectiv ely. Hence, we
have the following theorem.
Theorem 6.1. Forn≥0,
|SP(n)|=|OB′(n)|.
The next theorem enables us to provide a combinatorial proof of Th eorem 6.1.
Theorem 6.2. Forn≥0,λ∈ SP(n)if and only if bin(λ1)⊔λ\(λ1)is an odd
binary partition.
Proof.This can be proved by induction, using bin(2 k) = 2bin(k), bin(2k+ 1) =
2bin(k)⊔(1), and the fact that all parts in partitions in SP(2n) are even. /square
Combinatorial proof of Theorem 6.1. Letn≥0. Wedeﬁne abijection ξ:SP(n)→
OB′(n)asfollows. If λ∈SP(n), deﬁneξ(λ)∈OB′(n)tobetheoverpartitionwhose
parts are the parts of bin( λ1)⊔(λ\(λ1)) = bin(λ1)⊔(λ2,λ3,...) and the overlined
parts are precisely the parts of bin( λ1). The largest part in bin( λ1) is at least λ2
and therefore ξ(λ)∈OB′(n).
For the inverse, start with µ∈OB′(n). To obtain ξ−1(µ), replace all overlined
parts inµby a part equal to their sum. That part is greater than or equal to any
non-overlined part of µ. By Theorem 6.2, the resulting partition is in SP(n)./square
6.1.A Congruence Connecting sp(n)to the Paper-folding Sequence. Next
we consider another sequence related to sp( n). Letz(n) be sequence A014707 in
[11](the paper-foldingsequence). It isdeﬁned for n≥0byz(4n) = 0,z(4n+2) = 1,
andz(2n+1) =z(n). Note that z(n)∈ {0,1}for alln≥0. We have the following
parity result.
Theorem 6.3. Ifn≥1, we have
sp(n)−1
2≡z(n−1).
Proof.We prove the theorem by induction. Let b(n) =sp(n)−1
2. Sinceb(1) =
b(2) = 0 and z(0) =z(1) = 0, the theorem holds for n= 1,2. Letnbe a positive
integer and assume the b(m)≡z(m−1) for allm<n.22 CRISTINA BALLANTINE AND GEORGE BECK
Ifn= 2tis even, using the recurrence for the semi-Pell sequence and the in duc-
tion hypothesis, we have
b(n) =b(2t) =b(t)≡z(t−1).
Onthe otherhand, usingthe recurrencefor z(n), we havez(t−1) =z(2(t−1)+1)=
z(2t−1) =z(n−1). Hence,b(n)≡z(n−1).
Ifn= 2t+1 is odd, we have
b(2t+1) =sp(2t+1)−1
2
=2sp(2t)+sp(2t−1)−1
2
=2sp(2t)−2+sp(2t−1)−1+2
2
= 2b(2t)+b(2t−1)+1
≡z(2t−2)+1
≡z(2t).
For the last line we used the fact that z(2t−2) andz(2t) have opposite parity.
/square
6.2.Total Number of Parts in SP(n).Forn≥1, let psp(n) be the total
number of parts in SP(n). From the initial condition and recurrences for SP(n),
psp(1) = 1, psp(2) = 1, and for n≥1,
psp(2n) = psp(n),
psp(2n+1) = sp(2 n)+2psp(2n)+2sp(2n−1)+psp(2n−1). (21)
The following table shows the values of the sequence psp( n) forn= 1,...,12.
n1 2 3 4 5 6 7 8 9 10 11 12
psp(n)1 1 6 1 15 6 40 1 65 15 126 6
Proposition 5. Forn≥0,psp(2n+1)≡1if and only if n≡0.
Recall from subsection 6.1 that z(n) is the paper-folding sequence.
Theorem 6.4. Forn≥1,psp(n)≡z(n−1)+1.
Proof.Since sp(2n) is odd, we have
psp(2n+1)≡psp(2n−1)+1.
Weprovethetheorembyinduction. Since z(0) =z(1) = 1andpsp(1) = psp(2) = 0,
the statement holds for n= 1,2. Assume psp( k)≡z(k−1)+1 for all k<n. Ifn
is even, i.e., n= 2tfor somet∈N, we have
psp(n) = psp(2t) = psp(t)≡z(t−1)+1
=z(2t−1)+1
=z(n−1)+1.
Ifnis odd, i.e., n= 2t+1 for some t∈N, we have
psp(n) = psp(2t+1)≡psp(2t−1)+1≡z(2t−2)
≡z(2t)+1PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 23
=z(n−1)+1.
Above, we used again the fact that z(2t−2) andz(2t) have opposite parity. /square
7.Semi-Narayana cow partitions
Deﬁnition 10. The semi-Narayana cows sequence {snc(n)}n≥0is deﬁned recur-
sively by snc(0) = snc(1) = 1, and for n≥1,
snc(2n) = snc(n),
snc(2n+1) = snc(2 n)+snc(2n−2).
The following table shows the values of the semi-Narayana cows sequ ence snc(n)
forn= 0,1,...,12.
n0 1 2 3 4 5 6 7 8 9 10 11 12
snc(n)1 1 1 2 1 2 2 3 1 3 2 3 2
This is the sequence A120562 in [11]. The original sequence is Narayan a’s cows
sequence A000930 in [11].
This is the sequence {f(n)}n≥0in Section 3 with a0=a1= 1,c1= 1,c2= 0,
andc3= 1, Thus, we are in Case 2. and (6) becomes
F(x) =∞/productdisplay
r=0(1+x2r+x3·2r).
This is the generating function for |OB1,3(n)|, whereOB1,3(n) is the set of odd
binary partitions of nin which parts appear one or three times. For example,
OB1,3(7) ={4+2+1,4+1+1+1 ,2+2+2+1 }
Deﬁnition 11. Semi-Narayanacow partitions are deﬁned recursivelyas SNc(0) =
{( )},SNc(1) ={(1)}, and forn≥1,
SNc(2n) = 2SNc(n),
SNc(2n+1) =SNc(2n)⊔(1)/uniondisplay
SNc(2n−2)⊔(3).
Thus|SNc(n)|= snc(n) for alln≥0.
Example 8. The table below shows the partitions in SNc(n) forn= 1,...,12.
n SNc(n)
1 1
2 2
3 2+1,3
4 4
5 4+1,3+2
6 4+2,6
74+2+1,6+1,4+3
8 8
98+1,4+3+2,6+3
10 8+2,6+4
118+2+1,6+4+1,8+3
12 8+4,12
Next, we give a non-recursive description of semi-Narayana cow pa rtitions.24 CRISTINA BALLANTINE AND GEORGE BECK
Theorem 7.1. Forn≥0,SNc(n)is the set of partitions of nwhose parts are of
the form 2kor3·2kfor somek≥0and have distinct 2-adic valuations.
Proof.The theorem is proved by induction. We omit the details. /square
Corollary 7.2. Forn≥0,SNc(n)⊆ SF(n).
Remark 5. Forn≥0, the function rep2is a bijection between SNc(n) and the
set of odd binary partitions of nin which parts appear once or three times.
7.1.Parity Result for snc(n).
Theorem 7.3. Forn≥1,snc(n)≡0if and only if n≡3,5,6 (mod 7) .
Proof.We omit the proof by induction, which is similar to that of Theorem 5.6. /square
7.2.Total Number of Parts in SNc(n).Let psnc(n) be the total number of
parts inSNc(n).
From the initial conditions and recurrences for SNc(n), the sequence psnc( n)
can be deﬁned directly by psnc(0) = 0, psnc(1) = 1 and, for n≥1,
psnc(2n) = psnc(n),
psnc(2n+1) = psnc(2 n)+psnc(2n−2)+snc(2n+1).
The following table shows the values of the sequence psnc( n) forn= 0,1,...,12.
n0 1 2 3 4 5 6 7 8 9 10 11 12
psnc(n)0 1 1 3 1 4 3 7 1 7 4 8 3
Proposition 6. Forn≥0,
psnc(2n+1)+psnc(2 n+5)+psnc(4 n+1)+psnc(4 n+9)+psnc(8 n+1)≡0.
Proof.The proof uses the recurrence for psnc(2 n+1) and Theorem 7.3. /square
8.Delayed Semi-Fibonacci partitions
Let dsf(n) be the delayed semi-Fibonacci sequence, which uses the same rec ur-
rences as the semi-Fibonacci sequence but with diﬀerent initial con ditions.
Deﬁnition 12. The delayed semi-Fibonacci sequence, {dsf(n)}n≥0, is deﬁned re-
cursively by dsf(0) = dsf(1) = dsf(2) = 0 ,dsf(3) = 1 and for n≥2,
dsf(2n) = dsf(n),
dsf(2n+1) = dsf(2 n)+dsf(2n−1).
The following table shows the values of the delayed semi-Fibonacci se quence
dsf(n) forn= 0,1,...,12.
n0 1 2 3 4 5 6 7 8 9 10 11 12
dsf(n)0 0 0 1 0 1 1 2 0 2 1 3 1
LetOB1(n) be the set of odd binary partitions of nsuch that the largest part
must be repeated. For example, OB1(7) ={2+2+2+1 ,1+1+1+1+1+1+1 }.
Theorem 8.1. Forn≥0,|OB1(n)|= dsf(n).PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 25
Combinatorial proof. The condition that the ﬁrst part must be repeated implies
that|OB1(n)|= 0 forn= 0,1,2. SinceOB1(3) ={(1,1,1)}, we have |OB1(3)|= 1.
Next we show that for n≥4, the sequence OB1(n) satisﬁes the same recurrences
as dsf(n).
Ifnis even and λ∈ OB1(n), then 1 is not a part of λ(since the multiplicity
of 1 inλis either zero or odd), so λ/2 is a partition. As the property that the
largest part of a partition is repeated is preserved by doubling or ha lving all parts,
λ/2∈ OB1(n/2) if and only if λ∈ OB1(n), so|OB1(2n)|=|OB1(n)|.
Ifn= 2t+ 1,t≥2, andλ∈ OB 1(n), thenλhas at least one part equal
to 1. Ifmλ(1) = 1, then 1 is not the largest partof λandλ\(1)∈ OB 1(2t).
Ifmλ(1)≥3, Sincen≥4, either 1 is the largest part and mλ(1)≥3, or 1
is not the largest part. Then λ\(1,1)∈ OB 1(2t−1). This transformation is
invertible: if µ∈ OB1(2t), thenλ:=µ⊔(1)∈ OB1(2t+1) withmλ(1) = 1; and
ifµ∈ OB1(2t−1), thenλ:=µ⊔(1,1)∈ OB1(2t+1) withmλ(1)≥3. Thus, for
t≥2, we have |OB1(2t+1)|=|OB1(2t)|+|OB1(2t−1)|.
Therefore, |OB1(n)|= dsf(n) forn≥0. /square
Analytic proof. Since the recurrence is delayed, we cannot use the generating fun c-
tion of section 3. However, if
G(x) :=∞/summationdisplay
n=0dsf(n)xn,
working as in section 3, we obtain
G(x) =∞/summationdisplay
i=0x3·2i
1−x2i+1i−1/productdisplay
r=0/parenleftbigg
1+x2r
1−x2r+1/parenrightbigg
=∞/summationdisplay
n=0|OB1(n)|xn.
To see the last equality, arguing informally, for each i≥0,x3·2i
1−x2i+1generates
parts equal to 2iwith odd multiplicity at least three, whilei−1/productdisplay
r=0/parenleftbigg
1+x2r
1−x2r+1/parenrightbigg
generates parts equal to 2r,r<i, each with odd multiplicity. /square
Deﬁnition 13. The delayed semi-Fibonacci partitions are deﬁned recursively by
DSF(1) =DSF(2) =∅,DSF(3) ={(2,1)},and forn≥2,
DSF(2n) = 2DSF(n),
DSF(2n+1) = (DSF(2n)⊔(1))∪DSF(2n−1)o+2.26 CRISTINA BALLANTINE AND GEORGE BECK
Example 9. The table below shows the partitions in DSF(n) forn= 1,...,12.
n DSF(n)
1
2
3 2+1
4
5 3+2
6 4+2
7 5+2,4+2+1
8
9 7+2,4+3+2
10 6+4
119+2,5+4+2,6+4+1
12 8+4
LetOB2(n) be the set of odd binary partition of nwith the ﬁrst two parts being
consecutive powers of 2. For example, OB2(7) ={4+2+1,2+1+1+1+1+1 }.
The function ξ:OB2(n)→ OB 1(n) that splits the ﬁrst part of λ∈ OB2(n) into
two equal parts is a bijection.
Theorem 8.2. Forn≥1, the function ξ◦rep2is a bijection from DSF(n)to
OB1(n).
Proof.We prove by induction that rep2is a bijection from DSF(n) toOB2(n).
SinceOB2(1) =OB2(2) =∅, the statement holds for n= 1,2. By deﬁnition
DSF(3) =OB2(3) ={(2,1)}and rep2(2,1) = (2,1). Letn≥4 and assume that
rep2is a bijection from DSF(k) toOB2(k) for allk<n.
Start with λ∈ DSF(n). Ifnis even, rep2(λ) = 2rep2(λ/2). Sinceλ/2∈
DSF(n/2), we have rep2(λ/2)∈ OB2(n/2). Multiplying each part of rep2(λ/2) by
2 preserves the odd multiplicity of the parts and the fact that the ﬁ rst two parts
are consecutive powers of 2. Thus rep2(λ)∈ OB2(n). Ifnis odd, then λthere are
two cases.
(i)λ=µ⊔(1) for some µ∈ DSF(2n). By deﬁnition, there is no odd part
inµ. Then rep2(µ)∈ OB2(n) and there is no part equal to 1 in rep2(µ). Then,
rep2(λ) = rep2(µ)⊔(1)∈ OB2(n).
(ii)λ=µo+2for someµ∈ DSF(2n−1). Then, the odd part of λis at least
3 and rep2(λ) = rep2(µ)⊔(1,1). Since rep2(µ)∈ OB 2(2n−1), it follows that
rep2(λ)∈ OB2(n).
The inverse of rep2is the map gthat merges equal parts into a single part.
We show inductively that gmaps partitions in OB2(n) to partitions in DSF(n).
Supposeg:OB2(k)→ DSF(k) for allk < nand letη∈ OB2(n). Ifnis even,
ηhas no part equal to 1. Then η/2∈ OB2(n/2) andg(η/2)∈ DSF(n/2). Thus,
2g(η/2) =g(η)∈ DSF(n). Ifnis odd,ηhas an odd number of parts equal to 1
and we have two cases.
(a)ηhas exactly one part equal to 1. Since n≥4, we haveη\(1)∈ OB2(n−1)
andg(η\(1))∈ DSF(n−1)hasnooddpart. Then g(η) =g(η\(1))⊔(1)∈ DSF(n).
Note that the odd part of g(η) is equal to 1.
(b)ηhas at least three parts equal to 1. Then η\(1,1)∈ OB 2(n−2) and
g(η\(1,1))∈ DSF(n−2). Theng(η) =g(η\(1,1))o+2∈ DSF(n). Note that the
odd part of g(η) is at least 3. /squarePARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 27
Theorem 8.2 leads to the following non-recursive deﬁnition of delayed semi-
Fibonacci partitions.
Corollary 8.3. Letn>0. The set DSF(n)consists of partitions λofninto parts
with distinct 2-adic valuations such that, if v1(λ)is the largest 2-adic valuation of
parts inλ, thenλhas part 2v1(λ)and also a part with 2-adic valuation v1(λ)−1.
Remark 6. ClearlyDSF(n)⊆ SF(n).
8.1.Parity Results for dsf(n).
Theorem 8.4. Forn≥1,dsf(4n−3)≡dsf(4n+3).
Proof.The statement is true for n= 1 by inspection. For n≥2, the recurrence
relation implies
dsf(4n+3) = dsf(4 n+2)+dsf(4 n)+dsf(4n−2)+dsf(4n−3)
= dsf(2n+1)+dsf(2 n)+dsf(2n−1)+dsf(4n−3)
= dsf(2n+1)+dsf(2 n+1)+dsf(4 n−3)
≡dsf(4n−3).
/square
Proposition 7. Forn≥1,dsf(2n+1)+dsf(8 n+1)≡1.
9.Semi-Lucas partitions
Deﬁnition 14. The semi-Lucas sequence, {sl(n)}n≥0, is deﬁned recursively by
sl(1) = 2,sl(2) = 1, and for n≥1
sl(2n) = sl(n)
sl(2n+1) = sl(2n)+sl(2n−1).
The following table shows the values of the semi-Lucas sequence sl( n) forn=
1,...,12.
n1 2 3 4 5 6 7 8 9 10 11 12
sl(n)2 1 3 1 4 3 7 1 8 4 12 3
Theorem 9.1. Forn≥2,sl(n) = sf(n)+dsf(n).
Proof.The theorem follows easily by induction. We omit the proof. /square
The generating function for sl( n) is obtained from the generating functions for
sf(n) and dsf(n) with correction terms for the coeﬃcients of x0andx1:
∞/summationdisplay
n=1sl(n)xn=x−1+∞/productdisplay
r=0/parenleftbigg
1+x2r
1−x2r+1/parenrightbigg
+∞/summationdisplay
i=0x3·2i
1−x2i+1i−1/productdisplay
r=0/parenleftbigg
1+x2r
1−x2r+1/parenrightbigg
=x+∞/summationdisplay
n=1|OB(n)|xn+∞/summationdisplay
n=1|OB1(n)|xn28 CRISTINA BALLANTINE AND GEORGE BECK
=∞/summationdisplay
n=1|OB∗(n)|xn,
whereOB∗(1) ={(1),(1)}and, forn≥2, the set OB∗(n) consists of odd binary
overpartitions of nin which only the largest part may be overlined, and, moreover,
the largest part may be overlined only if it is repeated. For example,
OB∗(5) ={4+1,2+1+1+1 ,1+1+1+1+1 ,1+1+1+1+1 }.
Deﬁnition 15. The semi-Lucas partitions are deﬁned recursively by SL(2) =
{(2)},SL(3) ={(3),(2,1),(1,1,1)},and forn>1,
SL(2n) = 2SL(n)
SL(2n+1) =SL(2n)⊔(1)/uniondisplay
SL(2n−1)⊔(1,1).
Clearly, for n≥2 we have |SL(n)|= sl(n).
Example 10. The table below shows the partitions in SL(n) forn= 2,...,8.
n SL(n)
2 2
3 3,21,111
4 4
5 41,311,2111,11111
6 42,222
761,421,2221,4111,31111,211111,1111111
8 8
Theorem 9.2. Letn>1. The set SL(n)consists of all partitions λofnsatisfying
the following conditions:
(a)vi(λ)has odd multiplicity for all 1≤i≤ℓ(λ);
(b)λi∈ {2k|k∈Z≥0}for all1<i≤ℓ(λ);
(c)λ1∈ {2k,3·2k|k∈Z≥0};
(d)λ1has the largest 2-adic valuation among the parts of λ.
Proof.The theorem is proved by induction. We omit the details. /square
Forn>1, let
SL3∤(n) :={λ∈ SL(n)/vextendsingle/vextendsingle/vextendsingle3∤λ1}andSL3|(n) :={λ∈ SL(n)/vextendsingle/vextendsingle/vextendsingle3|λ1}.
Then,SL(n) =SL3∤(n)⊔ SL3|(n). Clearly, if n >1,SL3∤(n) =OB(n) and thus
|SL3∤(n)|= sf(n). Moreover, rep2:SF(n)→SL3∤(n) is a bijection.
We deﬁne a bijection f:OB2(n)→ SL 3|(n) as follows. Let µ∈ OB2(n). Then
µ1= 2µ2. Deﬁnef(µ) to be the partition obtained from µby merging the ﬁrst two
parts ofµ, i.e., removing parts µ1andµ2and inserting a part equal to 3 µ2The
inverse offtakes a partition λ∈SL3|(n) and replaces the ﬁrst part λ1= 3·2k
by parts 2k+1and 2k. Thus,f−1(λ)∈ OB2(n). Then, the proof of Theorem 8.2
implies that f◦rep2:DSF(n)→SL3|(n) is a bijection.
Remark 7. The discussion above gives a combinatorial proof of Theorem 9.1.PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 29
9.1.Parity Results for sl(n).The proof of the next proposition is analogous to
the proof of Theorem 8.4.
Proposition 8. Forn≥2,sl(4n−3)≡sl(4n+3).
Proposition 9. Forn≥1,sl(4n+1)+sl(4n+3)≡sl(4n+4)+sl(4n+6).
9.2.Total Number of Parts in SF(n),DSF(n), andSL(n).Let psf(n) be the
total number of parts in SF(n).
From the initial conditions and recurrences for SF(n), the sequence psf( n) can
be deﬁned directly by psf(1) = 1 and, for n≥1,
psf(2n) = psf(n)
psf(2n+1) = psf(2 n)+sf(2n)+psf(2n−1).
The following table shows the values of the sequence psf( n) forn= 1,2,...,12.
n1 2 3 4 5 6 7 8 9 10 11 12
psf(n)1 1 3 1 5 3 10 1 12 5 20 3
Theorem 9.3. Forn≥0,
psf(8n+2)≡psf(8n+5).
Proof.We verify directly that psf(2) ≡psf(5). Let n≥0 and assume psf(8 m+
2)+psf(8m+5)≡0 for allm<n. Then,
psf(8n+2)+psf(8 n+5) = psf(8 n+2)+psf(8 n+4)+sf(8n+4)+psf(8 n+3)
= psf(8n+2)+psf(8 n+4)+sf(8n+4)+psf(8 n+2)
+sf(8n+2)+psf(8 n+1)
≡psf(8n+4)+sf(8n+4)+sf(8n+2)+psf(8 n+1)
= psf(4n+2)+sf(4n+2)+sf(4n+1)+psf(8 n)+sf(8n)
+psf(8n−1)
= psf(4n+2)+sf(4n+2)+sf(4n)+sf(4n−1)+psf(4n)
+sf(4n)+psf(8n−2)+sf(8n−2)+psf(8n−3)
≡psf(4n+2)+sf(4n+2)+psf(4 n)+psf(4n−1)
+psf(8n−3)
= psf(2n+1)+sf(2n+1)+psf(2 n)+psf(4n−2)+sf(4n−2)
+psf(4n−3)+psf(8n−3)
= psf(2n)+sf(2n)+psf(2n−1)+sf(2n)+sf(2n−1)+psf(2n)
+psf(4n−2)+sf(4n−2)+psf(4n−3)+psf(8n−3)
≡psf(2n−1)+sf(2n−1)+psf(4n−2)+sf(4n−2)+psf(4n−3)
+psf(8n−3)
= psf(4n−2)+sf(4n−2)+psf(4n−2)+sf(4n−2)+psf(4n−3)
+psf(8n−3)
≡psf(4n−3)+psf(8n−3)
= psf(8n−6)+psf(8n−3)30 CRISTINA BALLANTINE AND GEORGE BECK
= psf(8(n−1)+2)+psf(8( n−1)+5)≡0.
/square
Let pdsf(n) and psl(n) be the total number of parts in DSF(n) andSL(n),
respectively.
From the initial conditions and recurrences for the two sets of par titions, for
n>2,
pdsf(1) = 0 ,pdsf(2) = 0 ,pdsf(3) = 2 ,
pdsf(2n) = pdsf(n),
pdsf(2n+1) = dsf(2 n)+pdsf(2n)+pdsf(2n−1), (22)
psl(2) = 1,psl(3) = 6,
psl(2n) = psl(n),
psl(2n+1) = sl(2n)+psl(2n)+psl(2n−1)+2sl(2n−1). (23)
The following table shows the values of the sequences psf( n), pdsf(n), and psl(n)
forn= 1,2,...,12.
n1 2 3 4 5 6 7 8 9 10 11 12
pdsf(n)0 0 2 0 2 2 5 0 5 2 8 2
psl(n)1 6 1 14 6 31 1 47 14 81 6
Proposition 10. We have
psf(2n+1)+psf(4 n+1)+psf(8 n+1)+psf(16 n+1)≡0forn≥0,
pdsf(2n+1)+pdsf(4 n+1)+pdsf(8 n+1)+pdsf(16 n+1)≡1forn≥1,
psl(2n+1)+psl(4 n+1)+psl(8 n+1)+psl(16 n+1)≡1forn≥2.
Proposition 11. We have
pdsf(16n+3)≡pdsf(16n+12)forn≥0,
pdsf(16n+4)≡pdsf(16n+13)forn≥1.
10.Stern-Brocot partitions
Deﬁnition 16. The Stern-Brocot sequence, {sb(n)}n≥0, also known as the Stern
diatomic sequence, is deﬁned recusrively by sb(0) = 0 ,sb(1) = 1, and for n≥1,
sb(2n) = sb(n),
sb(2n+1) = sb(n+1)+sb(n).
The following table shows the values of the Stern-Brocot sequence sb(n) for
n= 0,1,...,12.
n0 1 2 3 4 5 6 7 8 9 10 11 12
sb(n)0 1 1 2 1 3 2 3 1 4 3 5 2
In [10], Reznick proved that, for n≥0, the sequence sb( n+ 1) enumerates
HB(n), the hyperbinary partitions of n, which are the binary partitions of nwithPARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 31
parts repeated at most twice. Thus, as ﬁrst shown in [6], the gener ating function
for sb(n) is given by
x∞/productdisplay
i=0(1+x2i+x2·2i).
Deﬁnition 17. The Stern-Brocot partitions are deﬁned recursively by SB(1) =
{(1)}and forn≥1
SB(2n) = 2SB(n),
SB(2n+1) = 2SB(n)⊔(1)/uniondisplay
(2SB(n+1))−.
Here (2SB(n+1))−:={(λ1,λ2,...,λ ℓ)|(λ1+1,λ2,...,λ ℓ)∈2SB(n+1)}.
The sequence SB(n) is well deﬁned because partitions in SB(2n) have all parts
even and partitions in SB(2n+ 1) have exactly one odd part, either the largest
part or 1, the smallest part. It is easily proved by induction that, fo r anyn≥1,
all partitions in SB(n) have distinct parts. The next result is immediate from
Reznick’s result.
Theorem 10.1. Ifn≥1,|HB(n−1)|=|SB(n)|.
Example 11. The table below shows the partitions in HB(n−1) andSB(n) for
n= 1,...,10.
n HB(n−1) SB(n)
1 ( ) 1
2 1 2
3 2,1+1 3,2+1
4 2+1 4
5 4,2+2,2+1+1 5,3+2,4+1
6 4+1,2+2+1 6,4+2
74+2,4+1+1,2+2+1+1 7,6+1,4+2+1
8 4+2+1 8
98,4+4,4+2+2,4+2+1+1 9,5+4,7+2,8+1
108+1,4+4+1,4+2+2+1 10,6+4,8+2
The following properties for partitions in SB(n) are easily proved by induction.
(a) Ifλ= (λ1,λ2,...,λ ℓ)∈ SB(n), thenλ\(λ1) = (λ2,...,λ ℓ) is a binary
partition. (Doubling parts or inserting the part equal to 1 in a binary
partition results in a binary partition.)
(b) Forn≥1, partitions in SB(n) have distinct 2-adic valuations of parts.
Hence,SB(n)⊆ SF(n).
(c) Forn≥1, the partition ( n) with a single part is in SB(n).
Our next goal is to give a bijective proof of Theorem 10.1. To this end , we ﬁrst
establish two useful properties of the function bin.
Lemma 10.2. For any positive integer m, we have
bin(2m−1) = 2bin(m−1)⊔(1).
Proof.Supposem>0 and
bin(m) = 2k1+2k2+···+2kj−1+2kj,32 CRISTINA BALLANTINE AND GEORGE BECK
withk1>k2>...>k j≥0.Then,
bin(2m−1) = 2k1+1+2k2+1+···+2kj−1+1+bin(2kj+1−1)
= 2k1+1+2k2+1+···+2kj−1+1+2kj+2kj−1+···+2+1.
Similarly,
bin(m−1) = 2k1+2k2+···+2kj−1+2kj−1+2kj−2+···+2+1.
The result follows. /square
Corollary 10.3. For any positive even integer mwe have
bin(m/2−1) =1
2(bin(m−1)\(1)).
Remark 8. Applying Lemma 10.2 repeatedly shows that if mis odd and k≥0,
then 2kis not a part of bin(2km−1).
We have the following non-recursive description of the partitions in SB(n).
Theorem 10.4. Forn≥1we have
SB(n) ={(λ⊢n/vextendsingle/vextendsingleλ\(λ1)⊆bin(λ1−1)}.
Proof.We prove the statement by induction. Since SB(1) ={(1)},SB(2) =
{(2)},SB(3) ={(3),(2,1)},SB(4) ={(4)}, the statement holds for n= 1,2,3,4.
Letm >4 and suppose the statement of the theorem is true if n < m. Let
λ∈ SB(m).
Case 1:m= 2t,t >2. Thenλ= 2µfor someµ∈ SB(t). Using the induction
hypothesis and Lemma 10.2, we have
λ\(λ1) = 2(µ\(µ1))⊆2bin(µ1−1)⊆2bin(µ1−1)⊔(1)
= bin(2µ1−1) = bin(λ1−1).
Case 2:m= 2t+ 1,t≥2. Thenλ= 2µ⊔(1) for some µ∈ SB(t) orλ=
(2η1−1)⊔2(η\(η1)) for some η∈ SB(t+1).
(i) In the ﬁrst subcase, λ1= 1 and
λ\(λ1) = 2(µ\(µ1)⊆2bin(µ1−1)⊔(1) = bin(λ1−1).
(ii) Ifλ= (2η1−1)⊔2(η\(η1)) for some η∈ SB(t+1), we have
bin(λ1−1) = bin(2( η1−1)) = 2bin( η1−1).
Then
λ\(λ1) = 2(η\(η1))⊆2bin(η1−1) = bin(λ1−1).
Conversely, let µ⊢mbe such that µ\(µ1)⊆bin(µ1−1).
Case I:m= 2t,t≥2. Note that 1 /\e}a⊔io\slash∈µsince otherwise µ1is odd and bin( µ1−1)
doesnotcontain1asapart. Thusallthe partsof µareeven. Considerthe partition
ν=µ/2. Thenν\(ν1) = (µ\(µ1))/2. Since1 /\e}a⊔io\slash∈µ, wehaveµ\(µ1)⊆bin(µ1−1)\(1).
Using Corollary 10.3, we get
bin(ν1−1) = bin(µ1/2−1) =1
2(bin(µ1−1)\(1))⊇(µ\(µ1))/2 =ν\(ν1).
By the induction hypothesis ν∈ SB(t), soµ= 2ν∈ SB(m).PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 33
Case II:m= 2t+1,t≥2. Then either (i) the smallest part of µis 1 and there are
no other odd parts, or (ii) the largest part of µis odd. The latter includes the case
λ= (m).
(i) In the ﬁrst subcase, µ1is even and µ\(µ1,1)⊆bin(µ1−1)\(1). Let
ν= (µ\(1))/2. As in Case I, using Corollary 10.3, we get
bin(ν1−1) = bin(µ1/2−1) =1
2(bin(µ1−1)\(1))⊇(µ\(µ1,1))/2 =ν\(ν1).
By the induction hypothesis, ν∈ SB(t) and hence µ= 2ν⊔(1)∈ SB(m).
(ii) In the second subcase, µ1is odd and since t≥2,µ1≥3. Ifℓ(λ) = 1, by
property (c) above, λ∈ SB(m). Ifℓ(λ)≥2, letν= (µ1+1,µ2,...,µ ℓ)/2.
We have
bin(ν1−1) = bin((µ1−1)/2) =1
2bin(µ1−1)⊇(µ\(µ1))/2 =ν\(ν1).
Bytheinductionhypothesis, ν∈ SB(t+1). Hence µ= (2ν1−1,2ν2,...,2νℓ)∈
SB(m).
/square
Remark 9. We deﬁneθ:SB(n)→ HB(n−1) byθ(λ) = bin(λ1−1)⊔λ\(λ1). By
Theorem 10.4, θ(λ) is a binary partition whose parts have multiplicity at most 2.
As bin preserves the sum of parts, θ(λ)∈ HB(n−1). For any partition µ, letµdbe
thepartitioncontainingonecopyofeachpartof µ. Thenθ−1(µ) = (1+|µd|)⊔µ\µd,
which is in SB(n), again by Theorem 10.4.
We now give a recursive deﬁnition of hyperbinary partitions that lets us ﬁnd the
total number of parts in HB(n) recursively.
Deﬁnition 18. We deﬁne the set HB′(n) recursively by HB′(1) ={(1)},HB′(2) =
{(2),(1,1)}, and forn≥1
HB′(2n) = 2HB′(n)/uniondisplay
2HB′(n−1)⊔(1,1),
HB′(2n+1) = 2HB′(n)⊔(1).
The union is disjoint in the deﬁnition of HB′(2n).
Theorem 10.5. Forn≥1,|HB′(n)|= sb(n+1).
Proof.By inspection, |HB′(1)|= sb(2) = 1 and |HB′(2)|= sb(3) = 2. Let n≥2
and assume that for all m < nwe have |HB′(m)|= sb(m+1). Ifn= 2tis even,
using the recurrence in the deﬁnition of HB′(n) and the induction hypothesis, we
have
|HB′(n)|=|HB′(2t)|=|HB′(t)|+|HB′(t−1)|
= sb(t+1)+sb(t)
= sb(2t+1)
= sb(n+1).
Similarly, if n= 2t+1 is odd, we have
|HB′(n)|=|HB′(2t+1)|=|HB′(t)|= sb(t+1) = sb(2( t+1)) = sb( n+1).
/square
Theorem 10.6. Forn≥1,HB′(n) =HB(n).34 CRISTINA BALLANTINE AND GEORGE BECK
Proof.The deﬁnition of HB′(n) implies that HB′(n)⊆ HB(n). Since |HB′(n)|=
|HB(n)|, the result follows. /square
10.1.Parity Results for sb(n).In [3, Theorem 2] it is shown that sf( n) is even
if and only if n≡0 (mod 3). The analogous result holds for sb( n).
Proposition 12. Forn≥0,sb(n)is even if and only if n≡0 (mod 3) .
Proposition 13. Forn≥0,sb(4n+1)≡sb(n+1).
10.2.Total Number of Parts in SB(n)andHB(n).Let psb(n) be the total
number of parts in all of the partitions in SB(n).
From the initial conditions and recurrences for SB(n), the sequence psb( n) can
be deﬁned directly by psb(1) = psb(2) = 1, psb(3) = 3, and for n≥2,
psb(2n) = psb(n),
psb(2n+1) = psb( n)+sb(n)+psb(n+1).
The following table shows the values of psb( n) forn= 1,...,12.
n1 2 3 4 5 6 7 8 9 10 11 12
psb(n)1 1 3 1 5 3 6 1 7 5 11 3
Proposition 14. Forn≥0,psb(4n+1)≡psb(n+1).
The recursivedeﬁnition of HB′(n) givesthe formulaforphb( n), the total number
ofpartsinallthehyperbinarypartitionsof n: phb(1) = 1,phb(2) = 3andfor n≥2,
phb(2n) = phb(n)+phb(n−1)+2sb(n),
phb(2n+1) = phb( n)+sb(n+1). (24)
The followingtableshowsthetotal numberofpartsinthe hyperbina rypartitions
ofn, phb(n), forn= 1,2,...,12.
n1 2 3 4 5 6 7 8 9 10 11 12
phb(n)1 3 2 6 5 9 3 10 9 17 7 18
Proposition 15. Forn≥1,phb(2n−1)+phb(2n+1)+phb(4 n+1)≡0.
11.Summary of notation
For reference, here are the deﬁnitions of six classical sequences .
Fibonacci Lucas Pell
n f(n) l(n) p(n)
0 1 2 0
1 1 1 1
n≥2f(n−1)+f(n−2)l(n−1)+l(n−2)2p(n−1)+p(n−2)
tribonacci Padovan Narayana’s cows
n t(n) pa(n) nc(n)
0 0 1 1
1 0 0 1
2 1 0 1
n≥3t(n−1)+t(n−2)pa(n−2)+pa(n−3)nc(n−1)+nc(n−3)
+t(n−3)PARTITIONS ENUMERATED BY SELF-SIMILAR SEQUENCES 35
The next table summarizes the notation used for various sets and s equences in
the article.
set of self-similar total number corresponding
partitions sequence of parts bijective set
semi-Fibonacci SF sf psf OB
semi-tribonacci ST st pst OB†
R
semi-Padovan SPa spa pspa OBR
modiﬁed semi-Padovan SPa′spa′pspa′OBR′
semi-Pell SP sp psp OB′
semi-Narayana’s cows SNc snc psnc OB1,3
delayed semi-Fibonacci DSF dsf pdsf OB1
semi-Lucas SL sl psl OB∗
Stern-Brocot SB sb psb HB
We summarize the deﬁnitions of sets of partitions and overpartition sused in this
paper.
setdescription
Bbinary partitions
OBodd binary partitions
OB1largest part must be repeated
OB2ﬁrst two parts consecutive powers of 2
OBReach part is repeated
OBR′each part is repeated except possibly the largest
OB1,3each part has multiplicity 1 or 3
OBodd binary overpartitions
OB′largest part must be overlined
OB∗forn≥1, only the largest part may be overlined and only if repeated
OB†
Rlargest part cannot be overlined and
other parts may be overlined only if repeated
12.Concluding remarks
We deﬁned recursively seven families of sets of partitions enumerat ed by self-
similar sequences. In each case, we found a non-recursive descrip tion of the par-
titions, usually in terms of 2-adic valuations of parts. Using generat ing functions,
we also found subsets of odd binary partitions or overpartitions en umerated by the
sequences. We then found bijections between the corresponding sets of partitions
enumerated by the same sequence.
It might be interesting to study other recursively deﬁned sets of p artitions,
whether enumerated by self-similar sequences or not.
The sub-sequences at odd indices sf(2 n+1), st(2n+1), sl(2n+1), sp(2n+1),
and spa(2n+ 1) are increasing, although very slowly. It would be interesting to
compare their asymptotic growth rates.36 CRISTINA BALLANTINE AND GEORGE BECK
A natural generalization of the recursion a(2n) =a(n) isa(mn) =a(n), leading
to recursively deﬁned sets of partitions enumerated by a(n) as before. Alanazi,
Munagi, and Nyirenda did this for semi- m-Fibonacci partitions [4]; the same could
be done for the m-ary analogs of st( n), sl(n), and the other sequences presented
here.
References
[1] G. E. Andrews, The Theory of Partitions , Cambridge Mathematical Library, Cambridge
University Press, Cambridge, 1998. Reprint of the 1976 orig inal.
[2] G. E. Andrews and K. Eriksson, Integer partitions , Cambridge University Press, Cambridge,
2004.
[3] G. E. Andrews. Binary and Semi-Fibonacci Partitions , J. of Ramanujan Society of Mathe-
matics and Mathematical Sciences, Vol. 7, No. 1 (2019), 1–6.
[4] A. M. Alanazi, A. O. Munagi, and D. Nyirenda, Power partitions and semi-m-Fibonacci
partitions , Bull. Aust. Math. Soc. 102 (2020), no. 3, 418–429.
[5] G. Beck, Semi-Fibonacci Partitions ,
http://demonstrations.wolfram.com/SemiFibonacciPart itions/
[6] L. Carlitz, A problem in partitions related to the Stirling numbers , Bull. Amer. Math. Soc.,
70, 275–278, 1964.
[7] S. Corteel and J. Lovejoy, Overpartitions , Trans. Amer. Math. Soc. 356(2004) 1623–1635.
[8] M. Gilleland, Some Self-Similar Integer Sequences , https://oeis.org/selfsimilar.html
[9] W. Keith and A. O. Munagi, Binary Compositions and Semi-Pell Compositions ,
arXiv:1912.11148.
[10] B. Reznick. Some binary partition functions , Analytic number theory (Allerton Park, IL,
1989), 451–477, Progr. Math., 85, Birkh¨ auser Boston, Bost on, MA, 1990.
[11] N. J. A. Sloane, editor, The On-Line Encyclopedia of Int eger Sequences. Published electron-
ically at oeis.org, 2022.
Department of Mathematics and Computer Science, College of the Holy Cross,
Worcester, MA 01610, USA,
Email address :cballant@holycross.edu
Department of Mathematics and Statistics, Dalhousie Univer sity, Halifax, NS, B3H
4R2, Canada,
Email address :george.beck@gmail.com