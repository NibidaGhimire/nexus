Reduced quiver quantum toroidal algebras
ANDREI NEGUT ,
Abstract. We give a generators-and-relations description of the reduced ver-
sions of quiver quantum toroidal algebras, which act on the spaces of BPS
states associated to (non-compact) toric Calabi-Yau threefolds X. As an ap-
plication, we obtain a description of the K-theoretic Hall algebra of (the quiver
with potential associated to) X, modulo torsion.
1.Introduction
1.1. Let Xbe a (non-compact) toric Calabi-Yau threefold. To Xone can associate
a 2d quantum field theory with four supercharges, and we will be interested in two
features of this theory: its vector space of BPS states, and more importantly for
us, the BPS algebra which acts on said vector space. The latter algebra has been
dubbed the quiver quantum toroidal algebra ([4, 5, 13, 14], following [9]).
Before we dive into the definition of the quiver quantum toroidal algebra eU, let us
recall certain objects associated to the Calabi-Yau threefold X
X⇝toric diagram ⇝brane tiling ⇝quiver
We refer the reader to [14, Appendix C] for a detailed review of the procedures ⇝
listed above, and we simply contend ourselves with stating the following properties
of the objects involved.
•The toric diagram associated to Xis a particular collection of points in Z2and
line segments between them.
•The normals to the aforementioned line segments can be drawn on the torus T2,
and they define a brane tiling, i.e. a decomposition of the torus into polygonal
regions called faces. Very importantly, the faces can be colored in blue and red
such that any two faces which share an edge have different colors.1
•The vertices and edges of the aforementioned faces determine a quiver Qdrawn on
T2. The bicolorability property of the brane tiling implies that the edges of Qcan
be oriented so that they go clockwise around the blue faces and counterclockwise
around the red faces. The interested reader may find the quiver associated to the
Calabi-Yau threefold X=C3in Figure 1.
1As just described, the brane tiling is a graph Gdrawn on the torus. In the literature, the
term “brane tiling” is sometimes applied to the dual graph of G, which is bipartite.
1arXiv:2301.00703v4  [hep-th]  4 Feb 20242 ANDREI NEGUT ,
Figure 1. The quiver associated to X=C3. The above square
is the usual representation of the flat torus, so the quiver has one
vertex, three edges and two faces.
1.2. As the definition of the quiver quantum toroidal algebra eU+only takes the
quiver as input, one can state the construction in generality greater than those
quivers which arise from toric Calabi-Yau threefolds via the procedure above.
Definition 1.3. LetQbe a quiver drawn on a torus (with vertex set Iand edge
setE), whose faces are colored in blue and red such that the two incident faces
to a given edge have different colors. We assume that the edges of the quiver are
oriented so as to go clockwise around the blue faces.
We will write eQfor the lift of Qto the universal cover R2ofT2, and note that eQ
inherits the blue/red colored faces of Q. In the present paper, “paths” and “cycles”
in a quiver will refer to the oriented notions.
Definition 1.4. Abroken wheel refers to a path obtained by removing a single
edge efrom the boundary of any face FofeQ. The mirror image of the afore-
mentioned broken wheel is the path obtained by removing efrom the boundary of
the other face F′̸=Fincident to e. The edge ewill be called the interface of the
broken wheel (and of its mirror image).
Figure 2. A broken wheel (the path in red) and its mirror image
(the path in blue). The black arrow is the interface.
Definition 1.5. The quiver Qis called shrubby if given any paths p̸=p′ineQ
with the same start and end points, at least one of pandp′contains a broken wheel
whose interface lies in the closed region between the two paths.REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 3
When one of pandp′is trivial, Definition 1.5 states that any cycle in eQmust contain
a broken wheel in the closure of its interior. We will see in Lemma 4.3 that the
shrubbiness condition above is implied by more traditional notions of consistency of
brane tilings and dimer models, such as the existence of a non-degenerate R-charge.
We do not know (and it is an interesting question) whether all quivers which arise
from Calabi-Yau threefolds as in Subsection 1.1 are shrubby.
1.6. Let Kbe a field of characteristic 0. To every edge eof the quiver Q, we
associate a parameter te∈K×such that for every face FofQwe have2
(1.1)Y
eedge around Fte= 1
We make the following genericity assumption on the parameters {te}eedge.
Assumption 1.7. There exists a field homomorphism ρ:K→Csuch that
(1.2)Y
eedge along pρ(te)̸=Y
eedge along p′ρ(te)
for any paths pandp′ineQwith the same end point but different starting points.
In [9] and related works, products of the parameters tealong paths in eQare inter-
preted as coordinate functions of atoms in crystals; in this language, condition (1.2)
is equivalent to requiring that different atoms have different coordinates. Thus, As-
sumption 1.7 holds in the physical settings that motivated the present paper.
The edge parameters can be assembled into the following rational functions
(1.3) ζij(x) =αijxsij
(1−x)δijY
earrow from itoj(1−xte)∈K(x)
for all i, j∈I, where αij∈K×andsij∈Zare suitably chosen (but will not play
an important role in the present paper, so we will not specify them explicitly).
Remark 1.8. Moreover, different authors use different conventions on αijand
sij. For example, [4]requires sijto be minus half the number of arrows from i
toj; this situation can also be accommodated by the present paper, at the cost of
replacing polynomials built out of integer powers by polynomials built out of half-
integer powers. We will avoid this setup in order to not overburden our notation.
2In the setting of toric Calabi-Yau threefolds X, one usually takes K=Q(q1, q2) where q1, q2
are elementary characters of the rank 2 torus that acts on Xby preserving the Calabi-Yau 3-form.
In this setting, the parameters teare monomials in q1andq2.4 ANDREI NEGUT ,
1.9. Using the data in Subsection 1.6, we will now review the definition of the
quantum toroidal algebra associated to the quiver Qand parameters {te}e∈E, which
was introduced in [4, 13] as a trigonometric version of the quiver Yangian of [9] (see
also [16] for a closely related mathematical construction).
Definition 1.10. The (half) quiver quantum toroidal algebra eU+is
(1.4) eU+=KD
ei,dE
i∈I,d∈Z.
relation (1.5)
where if we write
ei(z) =X
d∈Zei,d
zd
then the defining relations are given by the formula
(1.5) ei(z)ej(w)ζjiw
z
=ej(w)ei(z)ζijz
w
for all i, j∈I.3
Define eU−=eU+,op, and denote its generators by fi,dinstead of ei,d. Finally, let
us consider the commutative algebra
U0=K
hi,d, h′
i,d′
i∈I,d,d′≥appropriately chosen integers
Then the (full) quiver quantum toroidal algebra is defined as
(1.6) eU=eU+⊗U0⊗eU−
with certain commutation relations imposed between elements in the three tensor
factors above. We refer the reader to [4, 13] for the explicit commutation relations,
as they will not be used in the present paper; instead, we will only focus on eU+.
1.11. The main motivation for defining the algebra eUis that it acts on the vector
space of so-called BPS crystal configurations
(1.7) eU↷M=M
Λ 3d crystal configurationK· |Λ⟩
(see [13, Section 5] for a review of 3d crystal configurations, which are generaliza-
tions of plane partitions). We will not make the action (1.7) explicit, so we will not
make any rigorous claims about it and merely use it as motivation for our subse-
quent constructions. The main goal of the present paper is to describe the kernel
of the action (1.7), i.e. to define the smallest possible quotient
(1.8) eU↠U
such that the action (1.7) factors through an action of U. To this end, we will
consider the shuffle algebra realization of quiver quantum toroidal algebras
eU±eΥ±
− − → V±=M
n∈NIK[zi1, z−1
i1, . . . , z ini, z−1
ini]sym
i∈I
3Relation (1.5) is interpreted as an infinite collection of relations obtained by equating the
coefficients of all {zawb}a,b∈Zin the left and right-hand sides (if i=j, one clears the denominators
z−wfrom (1.5) before equating coefficients).REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 5
(we refer the reader to Subsection 2.1 for a description of the shuffle product on
V±, and to Subsection 2.3 for the definition of the homomorphism eΥ±). Set
(1.9) U±=eU±.
KereΥ±
As noted in [4, Section 5], the action (1.7) factors through the shuffle algebra.
Therefore, the reduced (full) quiver quantum toroidal algebra
(1.10) U=U+⊗U0⊗U−
will inherit an action on Mfrom (1.7). To define this action, one needs to impose
the same commutation relations between the tensor factors of (1.10) as between the
tensor factors of (1.6). We will not present these relations explicitly in the present
paper, and make no rigorous claims about them. Instead, we will focus on U+.
1.12. The main purpose of the present paper is to describe U±by explicitly pre-
senting the quotient (1.9). More specifically, we will describe a collection of gener-
ators for the two-sided ideal Ker eΥ±. For every face F={i0, i1, . . . , i k−1, ik=i0}
of the quiver Q(note that some of the indices i0, . . . , i k−1may be repeated within
a given face), consider the following parameters corresponding to the edges of F
(1.11) ta=t− − − − →ia−1ia
Note that t1. . . tk= 1 due to (1.1). Let eζij(x) =ζij(x)(1−x)δijfor all i, j∈I.
Then we may define the formal series
(1.12) eF(x1, . . . , x k)∈eU+[[x1, x−1
1, . . . , x k, x−1
k]]
by the following formula
(1.13)kX
a=1x1t2. . . ta
xa·Q
b≻ceζicib
xc
xb
−xb
xcδibicδb<c
Q
b∼c+1
1−xctb
xb ·
·eia(xa). . . e i1(x1)eik(xk). . . e ia+1(xa+1)
In (1.13), the notation b≻c(respectively b∼c+ 1) means that bprecedes (respec-
tively immediately precedes) cin the sequence ( a, . . . , 1, k, . . . , a + 1). The symbols
δb<candδibicare defined as in Subsection 3.1. Note that the first line of (1.13) is
a Laurent polynomial in x1, . . . , x k, due to the fact that all the denominators
1−xctb
xb
are canceled by the eζfunctions in the numerator. The following is our main result.
Theorem 1.13. IfQis shrubby (as in Definition 1.5), then the coefficients of the
series (1.12) generate KereΥ+as a two-sided ideal. In other words, we have
(1.14) U+=eU+.
series coefficients of eF(x1, . . . , x k)
Fface of Q
Similar results hold for U−, by replacing e’s with f’s and reversing the order of the
factors in the product on the second line of (1.13) .4
4While the quotient (1.14) imposes a Zk-worth of relations for every face Fwith kvertices, we
will see in Remark 3.8 that these can be reduced to a Z-worth of relations for every face. More6 ANDREI NEGUT ,
Lemma 4.3 implies that a large family of physically interesting Calabi-Yau three-
folds Xcorrespond to shrubby quivers, and so Theorem 1.13 applies to them. We
conclude that the relations which we factor in (1.14) are the sought-for “Serre
relations” of [4]. The terminology of these relations is historically motivated by
the analogous situation of quantum loop groups associated to finite type Dynkin
diagrams, in which the role of relations (1.14) is played by the Drinfeld-Serre re-
lations. Note, however, that the classic Drinfeld-Serre relations are not enough to
characterize quantum loop groups associated to general Dynkin diagrams (see [12]).
Remark 1.14. IfQis not shrubby, then we expect that one needs additional rela-
tions besides (1.13) . In this situation, the ideal KereΥ+can be studied according to
the general principles of [11], but we do not know explicit generators of this ideal.
Remark 1.15. It is straightforward to write down rational/elliptic versions of
the relations (1.13) , which would give necessary relations that hold in the ratio-
nal/elliptic counterparts of the reduced algebra U+(see[4]for an overview). How-
ever, in the rational/elliptic settings, we do not know whether these relations are
also sufficient, i.e. if they generate the analogue of the two-sided ideal KereΥ+.
1.16. Let us spell out the constructions above in the case X=C3, when the quiver
is the one in Figure 1. There is a single vertex, so I={•}and we will henceforth
suppress the indices i∈Ifrom all our formulas. There are three edges, whose
associated parameters t1, t2, t3satisfy the equation
t3=1
t1t2
We take the ground field to be K=Q(t1, t2). The only ζfunction (1.3) is
ζ(x) =x−1(1−xt1)(1−xt2)(1−xt3)
1−x
(the particular choice of the monomial x−1was made in order to match existing
conventions in the literature). The (half) quiver quantum toroidal algebra (1.4) is
generated by a single formal series e(z) modulo the quadratic relation
(1.15) e(z)e(w)(z−wt1)(z−wt2)(z−wt3) =
=e(w)e(z)(zt1−w)(zt2−w)(zt3−w)
Meanwhile, formula (1.13) for the red face in Figure 1 reads
eFred(x1, x2, x3) =Q3
i=1[(x1−x2ti)(x1−x3ti)(x3−x2ti)]
x1x3
2x3
3(x1−x3t1)(x3−x2t3)e(x1)e(x3)e(x2)
+t2Q3
i=1[(x2−x1ti)(x1−x3ti)(x2−x3ti)]
x3
2x4
3(x2−x1t2)(x1−x3t1)e(x2)e(x1)e(x3)
+t2t3Q3
i=1[(x2−x1ti)(x3−x1ti)(x3−x2ti)]
x1x2
2x4
3(x3−x2t3)(x2−x1t2)e(x3)e(x2)e(x1)(1.16)
precisely, arbitrarily choosing one non-zero coefficient of the series eFin each integer homogeneous
degree instead of all coefficients (for every face F) would determine the same quotient in (1.14).REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 7
while the analogous expression eFbluefor the blue face is obtained by replacing
{t1, t2, t3} ↔ { t3, t2, t1}. Note that the expressions in x1, x2, x3that precede the
series e(. . .) in the three lines of (1.16) are actually Laurent polynomials, and so it
makes sense to talk about their coefficients. Theorem 1.13 states that
U+=Q(t1, t2)⟨. . . , e −1, e0, e1, . . .⟩
equation (1.15) and coefficients of eFred(x1, x2, x3) and eFblue(x1, x2, x3)
Let us make two observations about formulas (1.16), which apply equally well in the
more general context of Theorem 1.13. Firstly, as explained in Remark 3.8, many
of the coefficients of eFredandeFblueare superfluous; we would obtain the same
reduced quiver quantum toroidal algebra U+if we only imposed relations given by
a single coefficient of (1.16) of every total homogeneous degree in x1, x2, x3. This is
because any two such coefficients of the same total homogeneous degree are equiv-
alent to each other up to multiples of the quadratic relation (1.15).
Secondly (and perhaps most importantly) there is nothing “canonical” about the
relations in U+given by setting the coefficients of eFredandeFblueequal to 0, since
we would obtain the exact same algebra by adding various multiples of relation
(1.15) to the aforementioned coefficients. For example, if we consider the positive
half of the well-known quantum toroidal algebra
U+
t1,t2(bbgl1) =Q(t1, t2)⟨. . . , e −1, e0, e1, . . .⟩
equation (1.15) and [[ ek+1, ek−1], ek] = 0,∀k∈Z
then we have an isomorphism
U+∼=U+
t1,t2(bbgl1), e k7→ek,∀k∈Z
on account of the fact that both algebras are isomorphic to the shuffle algebra S+
of Section 2 (see Theorem 2.7 and [17, Theorem 7.3]). However, the cubic relations
in the two algebras look quite different, and the fact that they can be obtained
from each other by adding multiples of (1.15) is a very involved computation.
1.17. Quiver quantum toroidal algebras are related to the K-theoretic Hall alge-
bras (defined in [15], by analogy with the cohomological Hall algebras of [6])
K(Q, W )
defined with respect to the following potential
W=X
Fface of Q(−1)FY
eedge around Fϕe∈C[Q]
where ( −1)Fis +1 or −1 depending on whether the face Fis blue or red, and the
symbols ϕedenote generators of the path algebra C[Q]. We consider K(Q, W ) as an
algebra over the ring Lof polynomials in the edge parameters (modulo (1.1)), and
let our ground field be K= Frac( L). Then the localized K-theoretic Hall algebra
K(Q, W )loc=K(Q, W )O
LK
is endowed with an algebra homomorphism
K(Q, W )locι− → V+8 ANDREI NEGUT ,
By combining Theorem 2.7, Definition 3.7 and Proposition 3.10, the image of eΥ+
can be described as the subspace S+⊂ V+of Laurent polynomials5R(z1, . . . , z k, . . .)
which vanish whenever their variables are specialized according to the rule
(1.17)n
za=za−1tao
a∈{1,...,k}
(in the notation of (1.11)) for any face FofQ. This yields the following result.
Corollary 1.18. IfQis shrubby, the images of ιandeΥ+coincide, i.e. the localized
K-theoretic Hall algebra surjects onto the subspace S+⊂ V+of Laurent polynomials
which vanish when their variables are specialized to (1.17) , for any face F.
Proof. The fact that the image of eΥ+is (tautologically) generated by {zd
i1}i∈I,d∈Z,
which all lie in the image of ι, implies that
(1.18) Im eΥ+⊆Imι
To prove the opposite inclusion, one needs to show that the image of ιis contained
in the subspace of Laurent polynomials which vanish when their variables are spe-
cialized according to (1.17) for every face F. This is achieved by noting that the
specialization in question can be realized as restriction to the locally closed subset
Zof quiver representations ( ϕe:Cni→Cnj)e=− →ijwhose only non-zero elements are
ϕ− − →i1i2∈C∗E•1•2, . . . , ϕ − − − − →ik−1ik∈C∗E•k−1•k
(where Eabdenote the matrix units with respect to the standard basis of {Cni}i∈I,
and the natural numbers •1, . . . ,•kare chosen as in (2.9)). Since the locally closed
subset Zdoes not intersect the critical locus of W(on which K(Q, W ) is supported),
this implies the opposite inclusion to (1.18)
(1.19) Im eΥ+⊇Imι
□
1.19. The structure of the present paper is the following.
•In Section 2, we discuss eU+and its shuffle algebra interpretation for general
quivers Q.
•In Section 3, we study eU+for the particular quivers Qof Definition 1.3, and
prove Theorem 1.13.
•In Section 4, we provide some key results on shrubs (which are certain subgraphs
of the universal cover of Qthat we use in the proof of Theorem 1.13).
1.20. I would like to thank Ben Davison, Richard Kenyon and Masahito Yamazaki
for very useful conversations about the topics in the present paper. I gratefully
acknowledge NSF grant DMS-1845034, as well as support from the MIT Research
Support Committee.
5For any face F={i1, . . . , i k−1, ik}, we use the notation z1, . . . , z kto represent variables of R
in accordance with (2.9), i.e. one should interpret za=zia•afor certain •a∈N,∀a∈ {1, . . . , k }.REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 9
2.Shuffle algebras in general
We will now recall the basic theory of trigonometric shuffle algebras, in the gen-
erality of [11]. Thus, throughout the present Section, Qwill denote an arbitrary
quiver (whose vertex and edge sets will be denoted by IandE, respectively), K
will denote an arbitrary field of characteristic zero, and ζij(x)(1−x)δijwill denote
arbitrary Laurent polynomials with coefficients in Kfor all i, j∈I. Throughout
the present paper, the set Nwill be thought to contain 0.
2.1. Let us consider an infinite collection of variables zi1, zi2, . . .for all i∈I. For
anyn= (ni)i∈I∈NI, we will write n! =Q
i∈Ini!. The following construction is a
straightforward generalization of the trigonometric quantum loop groups of [2, 3].
Definition 2.2. Thebig shuffle algebra associated to the datum {ζij(x)}i,j∈Iis
V+=M
n∈NIK[z±1
i1, . . . , z±1
ini]sym
i∈I
endowed with the multiplication
(2.1) R(. . . , z i1, . . . , z ini, . . .)∗R′(. . . , z i1, . . . , z in′
i, . . .) =
Sym
R(. . . , z i1, . . . , z ini, . . .)R′(. . . , z i,ni+1, . . . , z i,ni+n′
i, . . .)
n!n′!i,j∈IY
1≤a≤ni
nj<b≤nj+n′
jζijzia
zjb

Above and henceforth, “ sym” (resp. “ Sym”) denotes symmetric functions (resp.
symmetrization) with respect to the variables zi1, zi2, . . . for each i∈Iseparately.
6
By defining the subspace Vn⊂ V+to consist of rational functions in n= (ni)i∈I
variables, we obtain a decomposition
(2.2) V+=M
n∈NIVn
For example, the Laurent polynomial in a single variable zd
i1lies in Vςi, where
ςi= (0, . . . , 0,1,0, . . . , 0| {z }
1 on i-th position)∈NI
We will also consider the opposite big shuffle algebra V−=V+,op, whose graded
components analogous to (2.2) will be denoted by V−n, for all n∈NI.
6Although the ζfunctions might seem to contribute simple poles at zia−zibfora̸=bto
the right-hand side of (2.1), these poles disappear when taking the symmetrization (the poles in
question can only have even order in any symmetric rational function).10 ANDREI NEGUT ,
2.3. Recall that eU+is the quiver quantum toroidal algebra of Definition 1.10, and
eU−denotes its opposite. There exist K-algebra homomorphisms
(2.3) eU±eΥ±
− − → V±, e i,d, fi,d7→zd
i1
which can be easily established by checking the fact that relations (1.5) are respected
by the shuffle product (2.1). Let us consider the kernel and image of the maps (2.3)
K±= Ker eΥ±⊂eU±(2.4)
˚S±= Im eΥ±⊂ V±(2.5)
The subalgebra ˚S+will be called the shuffle algebra , to differentiate it from the
big shuffle algebra of Definition 2.2.
2.4. An important role in the present paper will be played by a certain integral
pairing, which we will now describe. Let us consider the following notation for all
rational functions f(z1, . . . , z n). IfDza=dza
2πiza, then we will write
(2.6)Z
|z1|≫···≫| zn|f(z1, . . . , z n)nY
a=1Dza
for the constant term in the expansion of fas a power series in
z2
z1, . . . ,zn
zn−1
The notation in (2.6) is motivated by the fact that if K=C, one could compute
this constant term as a contour integral (with the contours being concentric circles,
situated very far from each other compared to the absolute values of the coefficients
off).
Definition 2.5. There exists a non-degenerate bilinear pairing7
(2.7) eU+⊗ V−⟨·,·⟩− − →K
given for all R∈ V−nand all i1, . . . , i n∈I,d1, . . . , d n∈Zby
(2.8)D
ei1,d1···ein,dn, RE
=Z
|z1|≫···≫| zn|zd1
1. . . zdnnR(z1, . . . , z n)
Q
1≤a<b≤nζibia
zb
zanY
a=1Dza
ifςi1+···+ςin=n, and 0 otherwise. In the right-hand side of (2.8), we identify
(2.9) zawith zia•a,∀a∈ {1, . . . , n }
where •a∈ {1,2, . . . , n ia}may be chosen arbitrarily due to the symmetry of R
(however, we require •a̸=•bifa̸=bandia=ib). We will call (2.9) arelabeling .
There is also an analogous pairing
(2.10) V+⊗eU−⟨·,·⟩− − →K
whose formula the interested reader may find in [11, Definition 2.8]. We refer to
formulas (2.17), (2.18) and (3.59) of loc. cit. for the proof of non-degeneracy.
7The reason we employ the notation V−andV+in (2.7), despite the fact that the two nota-
tions represent identical K-vector spaces, is the fact that under certain assumptions, (2.7) can be
upgraded to a bialgebra pairing (as in [11]).REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 11
2.6. Let S∓⊂ V∓denote the dual of K±= Ker eΥ±under the pairings (2.7) and
(2.10), respectively, i.e.
R−∈ S−⇔D
K+, R−E
= 0 (2.11)
R+∈ S+⇔D
R+, K−E
= 0 (2.12)
It is easy to check that S±are subalgebras of V±(in fact, this also follows from
the fact that (2.7) and (2.10) yield bialgebra pairings). Thus, we have
˚S±⊆ S±
because the generators {zd
i1}i∈I,d∈Zof the algebras on the left lie in the algebras on
the right. Moreover, if we consider the reduced quiver quantum toroidal algebra
U±=eU±.
K±
then the parings (2.7) and (2.10) descend to non-degenerate pairings
U+⊗ S−⟨·,·⟩− − →K (2.13)
S+⊗U−⟨·,·⟩− − →K (2.14)
One of the main results of [11] (specifically, Theorem 1.5 therein) is the following.
Theorem 2.7. We have S±=˚S±, and hence eΥ±induce isomorphisms
(2.15) U±Υ±
− − → S±
Moreover, the pairings (2.13) and (2.14) match under these isomorphisms, thus
yielding a non-degenerate pairing
(2.16) S+⊗ S−⟨·,·⟩− − →K
We wish to describe U±explicitly, i.e. to give formulas for a system of generators
of the kernel K±of the map eU±↠U±. By formulas (2.11)–(2.12), these sought-
for generators are precisely dual to the linear conditions describing the inclusions
S∓⊂ V∓. We will exploit this duality in the following Section.
3.Shuffle algebras for shrubby quivers
From now onward, we will consider the special case when Qis a quiver drawn on
the torus, as in Definition 1.3. Moreover, we assume the edges of Qare endowed
with parameters teas in Subsection 1.6, and we define the rational functions ζij(x)
by formula (1.3). Our goal is to obtain explicit generators of the ideals K±, so
that we may realize the reduced quiver quantum toroidal algebras U±as being
determined by explicit relations. In what follows, we will only focus on the case
±= +, as the opposite case ±=−can be obtained by reversing all products.12 ANDREI NEGUT ,
3.1. In Definition 3.2, we will construct formal series eFof elements of K+asso-
ciated to the faces of the quiver Q. When the quiver Qis shrubby (in the sense of
Definition 1.5), we will show that the coefficients of the series eFgenerate K+, thus
concluding the proof of Theorem 1.13. For every face F={i0, i1, . . . , i k−1, ik=i0}
ofQ, consider
(3.1) ta=t− − − − →ia−1ia
and note that t1. . . tk= 1 due to (1.1). The arrows in (3.1) are the boundary edges
of the face F(these edges are uniquely defined, even though it is possible that Q
has multiple edges between iaandibfor various a̸=b). We will write
(3.2) eζij(x) =ζij(x)(1−x)δij∈K[x±1]
for all i, j∈I. For any 1 ≤b̸=c≤k, we will write
δb<c=(
1 if b < c
0 if b > c
δibic=(
1 if ib=ic∈I
0 otherwise
Definition 3.2. For any face Fas above, consider the formal series
(3.3) eF(x1, . . . , x k) =kX
a=1x1t2. . . ta
xa·Q
b≻ceζicib
xc
xb
−xb
xcδibicδb<c
Q
b∼c+1
1−xctb
xb ·
·eia(xa). . . e i1(x1)eik(xk). . . e ia+1(xa+1)∈eU+[[x±1
1, . . . , x±1
k]]
In expression (3.3), the notation b≻c(respectively b∼c+1) means that bprecedes
(respectively immediately precedes) cin the sequence (a, . . . , 1, k, . . . , a + 1).
Proposition 3.3. The coefficients of the series (3.3) all lie in K+.
Proof. Let us consider the formal delta series
δ(z) =X
d∈Zzd
which has the following property for all Laurent polynomials f(x)
(3.4) δz
x
f(z) =δz
x
f(x)
To prove Proposition 3.3, we must apply the map eΥ+to the right-hand side of (3.3)
and show that the result is 0. By the definition of the shuffle product in (2.1), we
have
eΥ+(eF(x1, . . . , x k)) = Sym"kX
a=1x1t2. . . ta
xa·
Q
b≻ceζicib
xc
xbQ
b<c,b≻c
−xb
xcδibicQ
c≻bζicib
zc
zb
Q
b∼c+1
1−xctb
xb ·δz1
x1
. . . δzk
xk
(3.4)=REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 13
(3.4)= Sym"kX
a=1z1t2. . . ta
za·
Q
b≻ceζicib
zc
zbQ
b<c,b≻c
−zb
zcδibicQ
c≻bζicib
zc
zb
Q
b∼c+1
1−zctb
zb ·δz1
x1
. . . δzk
xk
=
= Sym
kX
a=1z1t2. . . ta
za·Q
1≤b̸=c≤kζicib
zc
zbQ
b>c,i b=ic
1−zc
zb
Q
b∼c+1
1−zctb
zb ·δz1
x1
. . . δzk
xk

where we let za=zia•aas in the relabeling (2.9), and “Sym” refers to symmetriza-
tion with respect to all zaandzbsuch that ia=ib. Therefore, eΥ+(eF) equals
(3.5) Sym
Q
1≤b̸=c≤kζicib
zc
zbQ
b>c,i b=ic
1−zc
zb

1−z1t2
z2
. . .
1−zk−1tk
zk
1−zkt1
z1·
δz1
x1
. . . δzk
xkkX
a=1z1t2. . . ta
za
1−zata+1
za+1#
where zk+1=z1. Ast1. . . tk= 1, the sum in (3.5) vanishes, hence so does eΥ+(eF).
□
3.4. We will now consider the dual to the series eF(x1, . . . , x k)∈eU+[[x±1
1, . . . , x±1
k]]
under the pairing (2.7). We still write Ffor an arbitrary face of Q.
Proposition 3.5. For any8R(z1, . . . , z k)∈ V−ςi1−···−ςik, we have
(3.6)D
eF(x1, . . . , x k), RE
= 0 ⇔ R
za=za−1ta,∀a∈{1,...,k}= 0
Proof. As a consequence of (2.8), we have
(3.7)D
eF(x1, . . . , x k), RE
=
=kX
a=1ev|xa|≫···≫| x1|≫|xk|≫···≫| xa+1|
x1t2. . . ta
xa·R(x1, . . . , x k)Qib=ic
b>c
1−xc
xb
Q
b∼c+1
1−xctb
xb

where ev ⋆[f] denotes the expansion of any rational function fin the region pre-
scribed by the inequalities ⋆. Using the fact that t1. . . tk= 1, it is elementary to
prove the following identity of formal series
kX
a=1ev|xa|≫···≫| x1|≫|xk|≫···≫| xa+1|
x1t2...ta
xaQ
b∼c+1
1−xctb
xb
=δx1t2
x2
. . . δxk−1tk
xk
8The variables of Rare relabeled in accordance with (2.9).14 ANDREI NEGUT ,
Therefore, the right-hand side of (3.7) is equal to
δx1t2
x2
. . . δxk−1tk
xk
R(x1, . . . , x k)ib=icY
b>c
1−xc
xb
and vanishes if and only if
(3.8) R
za=za−1ta,∀a∈{1,...,k}ib=icY
b>c
1−1
tc+1. . . tb
= 0
Because of (1.2), we cannot have tc+1. . . tb= 1 for any b > c with ib=ic, and
therefore (3.8) only holds if R|za=za−1ta,∀a∈{1,...,k}= 0, as we needed to show.
□
More generally, if R(z1, . . . , z n, . . .)∈ V−is arbitrary, then
(3.9)D
eU+eF(x1, . . . , x k)eU+, RE
= 0 ⇔ R
za=za−1ta,∀a∈{1,...,k}= 0
where zadenotes any variable of Rof the form zia•a, for all a∈ {1, . . . , k }(the
choice of •adoes not matter due to the symmetry of R). Implicit in the notation
above is that Rmay have other variables besides z1, . . . , z n, and these are not
specialized at all. Property (3.9) is proved like [12, Proposition 3.13]; we leave the
details as an exercise to the reader.
3.6. Motivated by Proposition 3.5 and equation (3.9), we consider the following.
Definition 3.7. Let˙S±⊂ V±denote the subspace consisting of Laurent polyno-
mials R(z1, . . . , z k, . . .)such that
(3.10) R
za=za−1ta,∀a∈{1,...,k}= 0
for any face F={i0, i1, . . . , i k−1, ik=i0}ofQ(the notation tais that of (3.1)).
We call (3.10) a wheel condition , by analogy with the constructions of [2, 3]. It
is straightforward to show that ˙S±are closed under the shuffle product, although
this will also follow from Proposition 3.10. Thus, if we consider the two-sided ideal
J+=
series coefficients of eF(x1, . . . , x k)
Fface of Q⊂eU+
then property (3.9) reads
(3.11)D
J+, RE
= 0 ⇔ R∈˙S−
Remark 3.8. Property (3.11) would still hold if we defined J+as the ideal gener-
ated by a single coefficient of the series eF(x1, . . . , x k)of every given homogeneous
degree in x1, . . . , x k, for all faces Fof the quiver Q. In other words, including
all the coefficients of all the series eFas generators of J+is superfluous; a single
coefficient of each homogeneous degree for all faces Fwould suffice (see [11, Claim
3.18] or[12, Remark 3.14] ).REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 15
3.9. Proposition 3.3 implies that J+⊆K+, and therefore
(3.12) ˙S−⊇ S−
Our main goal for the remainder of the paper is to prove the opposite inclusion.
Proposition 3.10. IfQis shrubby (as in Definition 1.5), then we have
(3.13) ˙S−⊆ S−
and therefore ˙S−=S−.
We also have ˙S+=S+; the proof is analogous and we will not repeat it.
Proof. of Theorem 1.13: With (2.11) and (3.11) in mind, the fact that ˙S−=S−
implies thatD
K+, RE
= 0 ⇔D
J+, RE
= 0
for any R∈ V−. If (2.7) were a pairing of finite-dimensional vector spaces over K,
this would imply that J+=K+and we would be done. In the infinite-dimensional
setting at hand, one needs to emulate the proof of [11, Theorem 1.8] to conclude
thatJ+=K+. The details are straightforward, and we leave them to the reader.
□
3.11. Assume that Qis shrubby, according to Definition 1.5, and let eQbe its
universal cover. The following notion will be key to our proof of Proposition 3.10.
Definition 3.12. Apre-shrub Sis an subgraph of eQwhich does not contain the
entire boundary of any face, and moreover has the property that if Scontains a
broken wheel then it must also contain its mirror image.
Proposition 3.13. A pre-shrub cannot contain any cycles.
The Proposition above will be proved in the Appendix. Although a pre-shrub
cannot contain any oriented cycles, it can contain unoriented ones (for example, a
broken wheel together with its mirror image). The interior of a pre-shrub Sis the
region completely enclosed by the unoriented cycles belonging to S.
Recall that any oriented graph with no cycles yields a partial order on the set of
its vertices, with i > j if there exists a path in the graph from itoj. Having
established that pre-shrubs do not contain any cycles in Proposition 3.13, we may
consider the corresponding partial order on the set of vertices. With respect to this
order, a root of a pre-shrub will refer to a maximal vertex.
Definition 3.14. Ashrub Sis a pre-shrub with a single root, which contains all
the vertices in its interior. We identify shrubs up to deck transformations of eQover
Q.
The identification of shrubs can also be visualized by fixing a vertex ˜i∈eQfor every
i∈Q; then we may simply restrict attention to shrubs that are rooted at a vertex
in{˜i|i∈Q}. The following Proposition will also be proved in the Appendix.16 ANDREI NEGUT ,
Proposition 3.15. Ifi, i′are vertices of a shrub S, and ie− →i′is an edge not
contained in S, then emust be the interface of a broken wheel contained in S.
3.16. Consider a shrub S⊂eQand a vertex i /∈S. Assume that there are k >0
edges from vertices of Stoi, labeled e1, . . . , e kin counterclockwise order around
i, as in Figures 3 and 4. The difference between these figures will be explained in
Definition 3.19, when we discuss the notion of ibeing addable or non-addable to S.
Figure 3. An addable vertex i(in black) to a shrub S(in red).
Figure 4. Two situations of non-addable vertices i(in black) to
a shrub S(in red).
In the situation above, consider any two consecutive edges esandes+1(we make
the convention that ek+1=e1). Because Sis a shrub (and thus has a root), weREDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 17
may continue these edges in Suntil they meet, thus yielding paths
ps:j→. . .es− →i (3.14)
p′
s:j→. . .es+1− − − → i (3.15)
We may assume the paths psandp′
sare simple, non-intersecting (except for the
endpoints) and that the region rsof the plane between psandp′
sis minimal with
respect to inclusion; this guarantees the uniqueness of ps, p′
s, rs, since the intersec-
tion of two minimal regions thus constructed would yield an even smaller acceptable
region. Because the vertex idoes not belong to the interior of the shrub, a single
one of the regions rsdoes not contain the counterclockwise angle at ibetween es
andes+1. By relabeling the edges if necessary, we assume that the aforementioned
region is rk. With this in mind, an index s∈ {1, . . . , k −1}is called
•good ifpsandp′
sare broken wheels, which are mirror images of each other
•bad if there exist edges ie− →v∈psandie′
− →v′∈p′
swith v, v′̸=j, such that the
sub-regions of rsbetween eandps(respectively between e′andp′
s) are faces
For example, both s∈ {1,2}in Figure 3 are good. However, in the picture on the
left of Figure 4, s= 1 is bad and s= 2 is good. Meanwhile, we call the index s=k
•good if there are no edges from itoSin the counterclockwise region from ekto
e1(i.e. the region R2\rk); this is the case in Figure 3.
•bad if there exists an edge from itoSin the region R2\rk, which determines a
face together with the other edges in Sand exactly one of the edges e1andek;
this is the case in the picture on the right of Figure 4.
The following result will be proved in the Appendix.
Proposition 3.17. Fori /∈Sas above, every s∈ {1, . . . , k }is either good or bad.
3.18. If Sis a shrub and i /∈S, letS+idenote the subgraph obtained from Sby
adding the vertex iand the edges from Stoi(we assume such edges exist).
Definition 3.19. In the situation above, we call iaddable toSif all s∈ {1, . . . , k }
are good, and non-addable toSotherwise.
Figures 3 and 4 provide examples of addable and non-addable vertices. The ter-
minology above is motivated by the following result, which will be proved in the
Appendix.
Proposition 3.20. Assume S⊂eQis a shrub and i /∈Sis a vertex. Then S+iis
a shrub if and only if iis an addable vertex to S.
The main distinction to us between addable and non-addable vertices is the follow-
ing result, which will also be proved in the Appendix.18 ANDREI NEGUT ,
Proposition 3.21. Assume S⊂eQis a shrub and i /∈Sis a vertex with k >0
edges from Stoi. The maximal number of broken wheels in S+ithat all pass
through iand do not pairwise intersect at any other vertex is
(
k−1ifiis addable to S
≥k otherwise
3.22. We are now ready to give the proof of Proposition 3.10. Since we are op-
erating under Assumption 1.7, we will assume throughout the present Subsection
that the edge parameters teare non-zero complex numbers (i.e. abuse notation
by writing teinstead of ρ(te), where ρ:K→Cis a field homomorphism). This
assumption is merely cosmetic, as all our formulas are rational functions in the te’s.
Proof. of Proposition 3.10: Let us consider any
ϕ=X
i1,...,in∈I
d1,...,dn∈Zcoefficient ·ei1,d1. . . e in,dn∈K+
and any R∈˙S−. Our goal is to show that
(3.16)D
ϕ, RE
= 0
as this would imply the required R∈ S−. Recall from formula (2.8) that
(3.17)D
ei1,d1···ein,dn, RE
=Z
|z1|≫···≫| zn|f(z1, . . . , z n)nY
a=1Dza
where
(3.18) f(z1, . . . , z n) =zd1
1. . . zdnnR(z1, . . . , z n)
Q
1≤a<b≤nζibia
zb
za
Alabeling of a shrub S⊂eQwill refer to a labeling of the svertices of Sby one of
the variables za1, . . . , z as(for certain a1<···< as∈N) such that the increasing
order of the indices of the variables refines the partial order on the vertices given
by the shrub, i.e. ax< ax′if the corresponding vertices ix, ix′∈Sare connected
inSby a path going from ix′toix. In particular, the root of Smust be labeled by
the variable zas. For every x∈ {1, . . . , s −1}, choose a path from the root istoix
isα− →is′β− →. . .ω− →ix
and define qx=tαtβ. . . tω. Because such paths are unique up to removing cycles
or replacing a broken wheel by its mirror image (according to Definition 1.5), and
because such removals/replacements do not change the product of parameters along
the path, the quantity qxdoes not depend on any choices made. An acceptable
labeled shrub is one for which |qx|>1 for all x∈ {1, . . . , s −1}(note that the
situation of p′being the empty path in (1.2) precludes |qx|= 1).REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 19
Proposition 3.23. For any labeled shrub Sand function fas in (3.18) with at
least as many variables as vertices of S(corresponding to any i∈I), define
(3.19) Res
Sf
as a function in {za}a/∈{a1,...,as−1}by the following iterated residue procedure.
At step number x∈ {1, . . . , s −1}, the variables zas−x+1, . . . , z as−1have all been
specialized to zastimes qs−x+1, . . . , q s−1, respectively. Upon this specialization, we
claim that the rational function fhas at most a simple pole at
(3.20) zas−x=zasqs−x
Replace fby its residue at the pole (3.20) , and move on to step number x+ 1.
Because one only encounters simple poles in the algorithm above, the value of (3.19)
would not change if we replaced (in the recursive procedure of Proposition 3.23)
the total order a1<···< asby any other total order refining the partial order on
the vertices of the shrub.
Proof. Consider the induced subgraph S′⊂Sconsisting of all vertices > i:=is−x.
It is easy to see that S′is a shrub and that iis an addable vertex to S′. Therefore,
we may assume that the there are k >0 edges
ib1e1− →is−x, . . . , i bkek− →is−x
from the shrub S′to the vertex i, for certain b1, . . . , b k> s−x. Since these edges
must be distributed as in Figure 3, the denominator of (3.18) includes the kfactors
1−zab1te1
zas−x, . . . , 1−zabktek
zas−x
Once the variables zab1, . . . , z abkare specialized to zastimes qb1, . . . , q bk, respec-
tively, the fact that qs−x=qb1te1=···=qbktekimplies that the denominator of
(3.18) will feature the factor

1−zasqs−x
zas−xk
Thus, to prove that the pole invoked in the statement of the Proposition is at most
simple, we need to show that the numerator of (3.18) vanishes to order at least k−1
at the specialization (3.20). However, the numerator of fvanishes whenever any
subset of its variables are specialized according to (3.10) for any face F. As there
exist k−1 broken wheels whose only common vertex is i=is−x(see Proposition
3.21), property (3.10) for the k−1 faces enclosed by said broken wheels implies
that the numerator of fvanishes to order ≥k−1 at the specialization (3.20).9
□
9In claiming the vanishing of the numerator of fto order at least k−1, we are invoking the
fact that for any k, ℓ1, . . . , ℓ k−1∈N, we have
k−1\
c=1
x(1)
c, . . . , x(ℓc)
c
=
x(α1)
1x(α2)
2. . . x(αk−1)
k−1
α1∈{1,...,ℓ 1},...,αk−1∈{1,...,ℓk−1}
in the ring of polynomials over distinct variables {x(1)
c, . . . , x(ℓc)
c}c∈{1,...,k−1}.20 ANDREI NEGUT ,
Anm-labeled shrubbery Sis a disjoint union of labeled shrubs in eQ(whose
n−m+1 vertices are endowed with distinct labels among zm, . . . , z n) such that the
order of the indices of the variables refines the partial order on the vertices given
by each constituent shrub of S. An m-labeled shrubbery is called acceptable if
all of its constituent shrubs are acceptable.
Claim 3.24. For any m∈ {1, . . . , n }, consider
(3.21) Xm=m-labeled acceptableX
shrubberies S=S1⊔···⊔ StZ
|z1|≫···≫| zm−1|≫|zr1|=···=|zrt|
Res
S1. . .Res
Stfm−1Y
a=1DzatY
u=1Dzru
where zr1, . . . , z rtare the labels of the roots of the shrubs S1, . . . , S t. Then we have
(3.22) Xm−1=Xm
for all m∈ {2, . . . , n }.
Note that there are finitely many m-labeled shrubberies, due to the fact that shrubs
that only differ by a deck transformation of eQoverQare identified. The purpose
of assumption (1.2) is to ensure that the specialization of the rational function f
corresponding to the shrubbery S, which has linear factors of the form
1−zruqxte
zrvqy
in the denominator (where eis any edge from any vertex ixin the shrub Suto any
vertex iyin the shrub Sv) has no poles on the circles |zru|=|zrv|themselves.
Proof. To prove (3.22), one needs to move the contour of the variable zm−1to-
ward the contours |zr1|=···=|zrt|. If the former contour reaches the latter
contours, this corresponds to adding the one-vertex shrub {im−1}to the shrubbery
S. Otherwise, the variable zm−1must be “caught” in one of the poles of the form
(3.23) 1 −zbte
zm−1
for some b > m −1 and some edge e=− − − − →ibim−1. Assume ibbelongs to one of the
constituent shrubs Su⊂S, and suppose there is a number k >0 of edges from
the shrub Sutoi=im−1. Then we have one of the following three possibilities.
•If the vertex iis addable to Suas in Definition 3.19, then Proposition 3.20 implies
thatS′
u=Su+iis a shrub. Thus, the operation
m-labeled shrubbery S=S1⊔ ··· ⊔ Su⊔ ··· ⊔ St⇝
⇝(m−1)-labeled shrubbery S′=S1⊔ ··· ⊔ S′
u⊔ ··· ⊔ St
shows how to obtain Xm−1by applying the contour moving procedure to Xm
(the fact that we only encounter acceptable shrubs is due to the fact that we move
the contour of zm−1from infinity down to the contour of zru, but no further).REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 21
•If the vertex iis non-addable to Su, then Proposition 3.21 states that there exist
kbroken wheels completely contained in Su+ithat only intersect pairwise at
the vertex i. As we have seen at the end of the proof of Proposition 3.23, this
means that the numerator of fhas enough factors to cancel the kcopies of the
factor (3.23) from the denominator of f. We conclude that non-addable vertices
do not correspond to actual poles.
•If the vertex iis already in Su(say with label zcfor some c > m −1), then the
linear factor of zm−1−zcin the denominator of
ζicim−1zc
zm−1
allows the numerator of fto annihilate the pole of the form (3.23).
□
Repeated applications of Claim 3.24 imply the fact that X1=Xn. Since Xnis the
right-hand side of (3.17), we conclude that
(3.24)D
ei1,d1···ein,dn, RE
=1-labeled acceptableX
shrubberies S=S1⊔···⊔ St
Z
|zr1|=···=|zrt|Res
S1. . .Res
Stzd1
1. . . zdnnR(z1, . . . , z n)
Q
1≤a<b≤nζibia
zb
zatY
u=1Dzru
The fact that all the contours coincide means that we can symmetrize the integrand
(with respect to all variables z1, . . . , z n) without changing the value of the integral
D
ei1,d1···ein,dn, RE
=fixed 1-labeled acceptableX
shrubberies ¯S=¯S1⊔···⊔ ¯St
Z
|zr1|=···=|zrt|Res
¯S1. . .Res
¯StSym
zd1
1. . . zdnnR(z1, . . . , z n)
Q
1≤a<b≤nζibia
zb
za
tY
u=1Dzru
where the adjective “fixed” means that we are summing over a given 1-labeled
acceptable shrubbery in every equivalence class given by permuting the labels on
the vertices. Because of the identity
eΥ+(ei1,d1···ein,dn)(2.1)= Sym
zd1
1. . . zdn
nY
1≤a<b≤nζiaibza
zb

we conclude that
(3.25)D
ei1,d1···ein,dn, RE
=fixed 1-labeled acceptableX
shrubberies ¯S=¯S1⊔···⊔ ¯St
Z
|zr1|=···=|zrt|Res
¯S1. . .Res
¯SteΥ+(ei1,d1···ein,dn)R(z1, . . . , z n)
Q
1≤a̸=b≤nζibia
zb
zatY
u=1Dzru
We conclude that ⟨ϕ, R⟩is a linear functional of eΥ+(ϕ). Since the latter expression
is 0 due to the fact that ϕ∈K+, we conclude the required formula (3.16).22 ANDREI NEGUT ,
□
Note that (3.25) implies the following formula for the descended pairing (2.16),
under the assumption that Qis shrubby
(3.26)D
R+, R−E
=fixed 1-labeled acceptableX
shrubberies ¯S=¯S1⊔···⊔ ¯St
Z
|zr1|=···=|zrt|Res
¯S1. . .Res
¯StSym
R+(z1, . . . , z n)R−(z1, . . . , z n)
Q
1≤a̸=b≤nζibia
zb
za
tY
u=1Dzru
for any R±∈ S±of opposite degrees. Formula (3.26) shows that shrubberies are not
just technical tools used in the proof of Proposition 3.10, but natural combinatorial
objects which parameterize the summands in the formula for the pairing (2.16).
4.Appendix: the joys of gardening
In the present Section, we will motivate our notion of shrubby quivers by relating
it with more traditional consistency conditions in the theory of brane tilings and
dimer models. We also prove several technical results from Section 3.
4.1. Let Qdenote a quiver in T2, as in Definition 1.3, i.e. the faces of Qare colored
in blue/red such that any two faces which share an edge have different colors.
Definition 4.2. A non-degenerate R-charge (see for instance [7, 8] ) is a function
R:E→(0,1)
such that for any vertex iand any face Fof the quiver Q, we have
X
eedge around FR(e) = 2
X
eedge incident to i(1−R(e)) = 2
10Geometrically, the properties above imply that the quiver Qcan be drawn on the
torus so that all faces are polygons circumscribed in circles of the same radius, and
the centers of these circles lie strictly inside the faces (the number πR(e)is the
central angle subtended by the chord ein the aforementioned circles).
The existence of a non-degenerate R-charge allows one to define a rhombus tiling of
the torus, as follows. Draw the centers of the (circles circumscribing the) blue/red
polygonal faces as blue/red bullets. Then the condition that the segments between
the vertices and the bullets all have the same length means that T2is tiled by
rhombi. To recover the arrows in the quiver Qfrom the rhombus tiling, one need
only draw the diagonals between non-bullet vertices of the rhombi, and orient them
so that they keep the blue/red bullets on the right/left (see Figure 5).
10Loops at iare counted twice in the formula above.REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 23
Figure 5. A rhombus. The blue/red bullets represent the centers
of the blue/red faces, while the other two vertices of the rhombus
are vertices of Q(with an arrow between them).
Recall the notion of shrubby quivers from Definition 1.5. Lemma 4.3 below is proved
just like [7, Lemma 5.3.1] (note that the topology of shrubby quivers underlies the
notion of F-term equivalent paths, see [1, Definition 2.5] and [10, Condition 4.12]).
Lemma 4.3. If there exists a non-degenerate R-charge, then Qis shrubby.
4.4. In the remainder of the paper, we provide proofs of some technical results
about shrubs and pre-shrubs, specifically Propositions 3.13, 3.15, 3.17, 3.20 and
3.21. Throughout the present Section, we assume Qto be a shrubby quiver, with
universal cover eQ. All paths and cycles in a quiver are understood to be oriented.
Definition 4.5. Given two paths pandp′ineQwith the same endpoints, we will
write r(p, p′)for the closed region insideR2contained between pandp′. The area
of this region, denoted by a(p, p′)∈N, will refer to the number of faces contained
inside r(p, p′). In particular, if Cis a cycle, we will write r(C)anda(C)for the
closed region and area (respectively) contained inside C.
Proof. of Proposition 3.13: Assume for the purpose of contradiction that a pre-
shrub Scontains a cycle, and let us fix such a cycle Cof minimal area (as in
Definition 4.5). We must have a(C)>2, since otherwise Cwould be the boundary
of a face, or the union of boundaries of two faces which meet at a single point, both
situations being forbidden for pre-shrubs. Definition 1.5 for p=Candp′= trivial
implies that there exist two adjacent faces (as in Figure 2) for which e.g. the red
path is completely contained in C, and the red and blue regions are contained inside
r(C). By the defining property of a pre-shrub, Salso contains the blue path. Thus,
the cycle
C′=C− {red path }+{blue path }
is contained in S, and moreover a(C′) =a(C)−2. This contradicts the minimality
of the area of C.
□
Proof. of Proposition 3.15: Assume that eis an edge from vertex ito vertex i′,
where i, i′∈Sbute̸⊂S. By the very definition of the root rof a shrub, there
are paths from rtoiandi′, respectively. Following the aforementioned paths until
they first intersect, we conclude that there exist simple paths
p:j→ ··· → i
p′:j→ ··· → i′24 ANDREI NEGUT ,
with no vertices in common other than the source j. We have three scenarios.
(1) If j=i, then eandp′are both paths from itoi′. We may assume that p′is
chosen such that a(e, p′) is minimal. Definition 1.5 implies that p′contains a broken
wheel B(since econsists of a single edge, it cannot contain a broken wheel). Since
Sis a shrub, it therefore contains the mirror image B′ofB. Thus, if we modify p′
by replacing its sub-path Bwith B′, then we contradict the minimality of a(e, p′).
We conclude that this scenario is impossible.
(2) If j=i′, then C=p∪eis a cycle, and we assume that pis chosen so that
a(C) is minimal. If a(C) = 1 then we are done (since r(C) would be precisely the
face that realizes eas the interface of a broken wheel contained in S), so let us
assume for the purpose of contradiction that a(C)>1. Definition 1.5 implies that
Ccontains a broken wheel B. There are two sub-cases.
•Ife̸⊂B, then Smust also contain the mirror image B′ofB. If we modify pby
replacing its sub-path Bwith B′, then we contradict the minimality of a(C).
•Ife⊂B, then the interface e′of the broken wheel Bis an edge between two
vertices of the shrub S. Ife′⊂S, then we contradict the minimality of a(C) and
the fact that a(C)>1. If e′̸⊂S, then there is a sub-path of pfrom the source
to the tail of e′, and we are thus in the self-contradictory situation of item (1).
(3) If j /∈ {i, i′}, then let us choose p, p′, esuch that a(p∪e, p′) is minimal. In this
case, Definition 1.5 implies that one of p∪eorp′contains a broken wheel Bwhose
interface is contained in r(p∪e, p′). If B⊆porB⊆p′, then we may modify the
path porp′by replacing its sub-path Bwith its mirror image, and contradict the
minimality of a(p∪e, p′). The only other possibility is that e⊂B, in which case
the interface of Bmust be an edge e′:i′→vfor some vertex v∈p, as in Figure 6.
Figure 6. The situation in item (3).
Ife′⊂S, then concatenating e′with the sub-path of pthat goes from vtoiputs us
in the situation of item (2) above. Meanwhile, if e′̸⊂Sandv=j, the cycle formed
byp′ande′also puts us in the situation of item (2); since e′must therefore be the
interface of a broken wheel Bcontained in S, replacing p′by the mirror image B′
ofBwould contradict the minimality of a(p∪e, p′). Finally, if e′̸⊂Sandv̸=j,
then we note that
a(p′∪e′, p′′)< a(p∪e, p′)REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 25
(where p′′is the sub-path of pthat goes from jtov) contradicts the minimality of
a(p∪e, p′).
□
Proof. of Proposition 3.17: We will treat the case s∈ {1, . . . , k −1}, and leave
the analogous case s=kas an exercise to the reader. Consider the paths psand
p′
sof (3.14)–(3.15). Definition 1.5 states that one of these paths must contain a
broken wheel B; without loss of generality, let us assume that B⊆ps. Ifeswere
not part of B, then we would be able to modify psby replacing its sub-path Bwith
its mirror image B′, and thus contradict the minimality of a(ps, p′
s). Therefore, we
may assume that esis part of B, and thus there exists v∈psand an edge
ie− →v
such that the region bounded by eandpsis a face. If v=j, then the index sis
good (since the whole of psis the sought-for broken wheel, and its mirror image
must coincide with p′
sby minimality). Otherwise v̸=jand let us consider the
paths
˜ps:j→ ··· → v
˜p′
s:j→. . .es+1− − − → ie− →v
as in Figure 7.
Figure 7. A bad case.
Definition 1.5 implies that one of the paths ˜ psand ˜p′
smust contain a broken wheel ˜B.
If˜Bdid not contain the edges es+1ore, then we could contradict the minimality
ofa(ps, p′
s) by replacing ˜Bwith its mirror image ˜B′. We are left only with the
possibility of ˜Bcontaining the edges es+1ore, and we have two cases
•If the interface e′of˜Bis an edge from ito some v′∈p′
s, then we assume v′̸=j
(as the case v′=jcan be treated like the case v=jwas treated above). We are
thus in the situation of Figure 7 and the index sis bad.26 ANDREI NEGUT ,
Figure 8. An impossible case.
•If the interface e′of˜Bis an edge from vto some vertex v′∈p′
s\{i}, then we are
in the situation of Figure 8. We have two sub-cases. If e′⊂S, then we contradict
the minimality of a(ps, p′
s). On the other hand, if e′̸⊂S, then Proposition 3.15
forces e′to be the interface of a broken wheel ¯B⊂S. The paths
v′¯B− →v→. . .es− →i
andv′→. . .es+1− − − → icontradict the minimality of a(ps, p′
s).
□
Proof. of Proposition 3.20: Ifiis not an addable vertex, there must exist a bad
index s∈ {1, . . . , k }, i.e. either the situation of s= 1 in the picture on the left
of Figure 4 or the situation of s= 3 in the picture on the right of Figure 4. In
both of these cases, one can see a broken wheel in S+iwhose mirror image is not
contained in S+i, thus precluding S+ifrom being a shrub.
Conversely, suppose that iis an addable vertex, and let us show that S+iis a
shrub. It is clear that ican be reached via a path from the root, and that there
are no vertices /∈S+iinside the polygonal regions incident to iin Figure 3.
Assume for the purpose of contradiction that S+icontains the entire boundary of
a face. Since Scannot contain the entire boundary of a face (as Sis a shrub), then
the boundary in question must involve the vertex i. However, this would require
an edge from ito a vertex of S, which is not in S+iby assumption.
Now let us assume that S+icontains a broken wheel B, and let us show that it
also contains its mirror image. Since Sis already a shrub, we may assume that the
broken wheel Binvolves the vertex i. By the definition of an addable vertex, all
possible edges between iandSare as in Figure 3. Thus, the interface of the broken
wheel Bmust be one of the dotted edges in Figure 3, and it is clear that the mirror
image of Bis also contained in S+i.
□REDUCED QUIVER QUANTUM TOROIDAL ALGEBRAS 27
Proof. of Proposition 3.21: Ifiis addable to S, then all s∈ {1, . . . , k }are good.
Therefore, there exist only k−1 outgoing edges from itoS, and they are arrayed
as in Figure 3. Among any family of faces passing through iand without other
pairwise intersections, no two faces can pass through the same outgoing edge, so
the cardinality of the family is at most k−1. It is also easy to see that this
maximum can be achieved, by taking for instance the collection of faces incident to
e1, . . . , e k−1in clockwise order around i.
Ifiis non-addable to S, then there exists a bad index s. Assume first that s∈
{1, . . . , k −1}, e.g. we are in the situation of s= 1 in the picture on the left of
Figure 4. The two faces contained in the region rs, together with the faces incident
toe1, . . . , e s−1in clockwise order around i, and the faces incident to es+2, . . . , e k
in counterclockwise order around i, yield altogether a family of kfaces which only
pairwise intersect at i.
Ifs=kis a bad index, then we are in the situation in the picture on the right of
Figure 4. Without loss of generality, let us assume that there is a face incident to
ekin clockwise order around i. Then this face together with the faces incident to
e1, . . . , e k−1in clockwise order around i, yield the required family of kfaces which
only pairwise intersect at i.
□
References
[1] Davison B., Consistency conditions for brane tilings , Journal of Algebra, Volume 338,
Issue 1 (2011), Pages 1-23
[2] Enriquez B., On correlation functions of Drinfeld currents and shuffle algebras , Transform.
Groups 5 (2000), no. 2, 111–120.
[3] Feigin B., Odesskii A., Quantized moduli spaces of the bundles on the elliptic curve and
their applications , Integrable structures of exactly solvable two-dimensional models of
quantum field theory (Kiev, 2000), 123–137, NATO Sci. Ser. II Math. Phys. Chem., 35,
Kluwer Acad. Publ., Dordrecht, 2001.
[4] Galakhov D., Li W., Yamazaki M., Toroidal and elliptic quiver BPS algebras and beyond ,
J. High Energy Phys., 24 (2022)
[5] Galakhov D., Li W., Yamazaki M., Gauge/Bethe correspondence from quiver BPS alge-
bras, J. High Energy Phys., 119 (2022)
[6] Kontsevich M., Soibelman Y., Cohomological Hall algebra, exponential Hodge structures
and motivic Donaldson-Thomas invariants , Commun. Number Theory Phys. 5 (2011), no.
2, 231–352
[7] Hanany A., Herzog C., Vegh D., Brane Tilings and Exceptional Collections , J. High Energ.
Phys. 27 (2006)
[8] Hanany A., Vegh D., Quivers, Tilings, Branes and Rhombi , J. High Energ. Phys. 10 (2007)
[9] Li W., Yamazaki M., Quiver Yangian from crystal melting , J. High Energ. Phys. 35 (2020)
[10] Mozgovoy S., Reineke M., On the noncommutative Donaldson-Thomas invariants arising
from brane tilings , Adv. Math. Volume 223, Issue 5 (2010), Pages 1521-1544
[11] Negut ,A.,Quantum loop groups for arbitrary quivers , arχiv:2209.09089
[12] Negut ,A.,Quantum loop groups for symmetric Cartan matrices , arχiv:2207.05504
[13] Noshita, G., Watanabe, A. A note on quiver quantum toroidal algebra , J. High Energ.
Phys. 2022, 11 (2022)
[14] Noshita, G., Watanabe, A. Shifted Quiver Quantum Toroidal Algebra and Subcrystal Rep-
resentations , J. High Energ. Phys., 122 (2022)
[15] P˘ adurariu T., K-theoretic Hall algebras of quivers with potential as Hopf algebras , Int.
Math. Res. Not. (2022)28 ANDREI NEGUT ,
[16] Rapcak M., Soibelman Y., Yang Y., Zhao G., Cohomological Hall algebras, vertex algebras
and instantons , Comm. Math. Phys., 376(3):1803–1873, 2020.
[17] Tsymbaliuk A., The affine Yangian of bgl1revisited, Adv. Math., Volume 304, 2017, 583–
645.
MIT, Department of Mathematics, Cambridge, MA, USA
Simion Stoilow Institute of Mathematics, Bucharest, Romania
Email address :andrei.negut@gmail.com